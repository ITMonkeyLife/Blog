
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>IT Monkey Life</title>
	<meta name="author" content="Rick">

	
	<meta name="description" content="用于显示文本的React组件。 文本支持嵌套，样式和触摸处理。 在以下示例中，嵌套标题和正文文本将从styles.baseText继承fontFamily，但标题提供了自己的附加样式。 标题和主体将叠加在一起，因为文字换行：
1
2
3
4
5
6
7
8
9
10
11
12
13
14
15 &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/Blog/atom.xml" rel="alternate" title="IT Monkey Life" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/Blog/favicon.png" rel="shortcut icon">
	<link href="/Blog/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script async="true" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/Blog/">IT Monkey Life</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/Blog/">Blog</a></li>
	<li><a href="/Blog/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/Blog/">Blog</a></li>
	<li><a href="/Blog/blog/archives">Archives</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:ITMonkeyLife.github.io/Blog">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		
    
		
		
		
		
		
		<a class="rss" href="/Blog/atom.xml" title="RSS">RSS</a>
		
    
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:ITMonkeyLife.github.io/Blog">
	</form>
</nav>


</header>
	
		
	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/Blog/blog/2016/11/22/react-nativede-text/">
		
			React Native的Text</a>
	</h2>
	<div class="entry-content">
		<p>
用于显示文本的React组件。

文本支持嵌套，样式和触摸处理。

在以下示例中，嵌套标题和正文文本将从styles.baseText继承fontFamily，但标题提供了自己的附加样式。 标题和主体将叠加在一起，因为文字换行：
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span><span class="line"><span class="kr">import</span> <span class="p">{</span> <span class="nx">AppRegistry</span><span class="p">,</span> <span class="nx">Text</span><span class="p">,</span> <span class="nx">StyleSheet</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-native&#39;</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="kr">class</span> <span class="nx">TextInANest</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="kr">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
</span><span class="line">    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">      <span class="nx">titleText</span><span class="o">:</span> <span class="s2">&quot;Bird&#39;s Nestaaa&quot;</span><span class="p">,</span>
</span><span class="line">      <span class="nx">bodyText</span><span class="o">:</span> <span class="s1">&#39;This is not really a bird nest.&#39;</span>
</span><span class="line">    <span class="p">};</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">
</span><span class="line">  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="p">(</span>
</span><span class="line">      <span class="o">&lt;</span><span class="nx">Text</span> <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">baseText</span><span class="p">}</span><span class="o">&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">Text</span> <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">titleText</span><span class="p">}</span> <span class="nx">onPress</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">onPressTitle</span><span class="p">}</span><span class="o">&gt;</span>
</span><span class="line">          <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">titleText</span><span class="p">}{</span><span class="s1">&#39;\n&#39;</span><span class="p">}{</span><span class="s1">&#39;\n&#39;</span><span class="p">}</span>
</span><span class="line">        <span class="o">&lt;</span><span class="err">/Text&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">Text</span> <span class="nx">numberOfLines</span><span class="o">=</span><span class="p">{</span><span class="mi">5</span><span class="p">}</span><span class="o">&gt;</span>
</span><span class="line">          <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">bodyText</span><span class="p">}</span>
</span><span class="line">        <span class="o">&lt;</span><span class="err">/Text&gt;</span>
</span><span class="line">      <span class="o">&lt;</span><span class="err">/Text&gt;</span>
</span><span class="line">    <span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kr">const</span> <span class="nx">styles</span> <span class="o">=</span> <span class="nx">StyleSheet</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
</span><span class="line">  <span class="nx">baseText</span><span class="o">:</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">fontFamily</span><span class="o">:</span> <span class="s1">&#39;Cochin&#39;</span><span class="p">,</span>
</span><span class="line">  <span class="p">},</span>
</span><span class="line">  <span class="nx">titleText</span><span class="o">:</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">fontSize</span><span class="o">:</span> <span class="mi">20</span><span class="p">,</span>
</span><span class="line">    <span class="nx">fontWeight</span><span class="o">:</span> <span class="s1">&#39;bold&#39;</span><span class="p">,</span>
</span><span class="line">  <span class="p">},</span>
</span><span class="line"><span class="p">});</span>
</span><span class="line">
</span><span class="line"><span class="c1">// App registration and rendering</span>
</span><span class="line"><span class="nx">AppRegistry</span><span class="p">.</span><span class="nx">registerComponent</span><span class="p">(</span><span class="s1">&#39;TextInANest&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">TextInANest</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>

		
		<a href="/Blog/blog/2016/11/22/react-nativede-text/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">




</div>
	<div class="tags">


	<a class='category' href='/Blog/blog/categories/react-native/'>React Native</a>


</div>
	
	<div class="comments"><a href="/Blog/blog/2016/11/22/react-nativede-text/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/Blog/blog/2016/11/22/react-nativede-style/">
		
			React Native的布局</a>
	</h2>
	<div class="entry-content">
		<h2>
Style样式
</h2>
<p>
使用React Native，不要使用特殊语言或语法来定义样式。 你只需使用JavaScript来设计你的应用程序。 所有的核心组件接受<code>props</code>命名风格。 样式名称和值通常匹配CSS在Web上的工作方式，除了名称被写为<em>backgroundColor</em>而不是像<em>background-color</em>。

样式prop可以是一个普通的旧JavaScript对象。 这是最简单的，我们通常用于示例代码。 您还可以传递样式数组 - 数组中的最后一个样式具有优先级，因此可以使用它来继承样式。

由于组件的复杂性增加，使用<em>StyleSheet.create</em>在一个位置定义多个样式通常更加清晰。 这里有一个例子：
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span><span class="line"><span class="kr">import</span> <span class="p">{</span> <span class="nx">AppRegistry</span><span class="p">,</span> <span class="nx">StyleSheet</span><span class="p">,</span> <span class="nx">Text</span><span class="p">,</span> <span class="nx">View</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-native&#39;</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="kr">class</span> <span class="nx">LotsOfStyles</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="p">(</span>
</span><span class="line">      <span class="o">&lt;</span><span class="nx">View</span><span class="o">&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">Text</span> <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">red</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">just</span> <span class="nx">red</span><span class="o">&lt;</span><span class="err">/Text&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">Text</span> <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">bigblue</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">just</span> <span class="nx">bigblue</span><span class="o">&lt;</span><span class="err">/Text&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">Text</span> <span class="nx">style</span><span class="o">=</span><span class="p">{[</span><span class="nx">styles</span><span class="p">.</span><span class="nx">bigblue</span><span class="p">,</span> <span class="nx">styles</span><span class="p">.</span><span class="nx">red</span><span class="p">]}</span><span class="o">&gt;</span><span class="nx">bigblue</span><span class="p">,</span> <span class="nx">then</span> <span class="nx">red</span><span class="o">&lt;</span><span class="err">/Text&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">Text</span> <span class="nx">style</span><span class="o">=</span><span class="p">{[</span><span class="nx">styles</span><span class="p">.</span><span class="nx">red</span><span class="p">,</span> <span class="nx">styles</span><span class="p">.</span><span class="nx">bigblue</span><span class="p">]}</span><span class="o">&gt;</span><span class="nx">red</span><span class="p">,</span> <span class="nx">then</span> <span class="nx">bigblue</span><span class="o">&lt;</span><span class="err">/Text&gt;</span>
</span><span class="line">      <span class="o">&lt;</span><span class="err">/View&gt;</span>
</span><span class="line">    <span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kr">const</span> <span class="nx">styles</span> <span class="o">=</span> <span class="nx">StyleSheet</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
</span><span class="line">  <span class="nx">bigblue</span><span class="o">:</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span>
</span><span class="line">    <span class="nx">fontWeight</span><span class="o">:</span> <span class="s1">&#39;bold&#39;</span><span class="p">,</span>
</span><span class="line">    <span class="nx">fontSize</span><span class="o">:</span> <span class="mi">30</span><span class="p">,</span>
</span><span class="line">  <span class="p">},</span>
</span><span class="line">  <span class="nx">red</span><span class="o">:</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span>
</span><span class="line">  <span class="p">},</span>
</span><span class="line"><span class="p">});</span>
</span><span class="line">
</span><span class="line"><span class="nx">AppRegistry</span><span class="p">.</span><span class="nx">registerComponent</span><span class="p">(</span><span class="s1">&#39;LotsOfStyles&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">LotsOfStyles</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
一个常见的模式是使你的组件接受一个样式属性，反过来，它被用于样式子组件。 你可以使用它来使样式“级联”他们在CSS中的方式。

		
		<a href="/Blog/blog/2016/11/22/react-nativede-style/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">




</div>
	<div class="tags">


	<a class='category' href='/Blog/blog/categories/react-native/'>React Native</a>


</div>
	
	<div class="comments"><a href="/Blog/blog/2016/11/22/react-nativede-style/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/Blog/blog/2016/11/22/react-nativede-state/">
		
			React Native的State</a>
	</h2>
	<div class="entry-content">
		<p>
有两种类型的数据控制组件：props和state。 props由父节点设置，它们在组件的整个生命周期中都是固定的。 对于要改变的数据，我们必须使用状态。

一般来说，你应该在构造函数中初始化状态，然后当你想改变它时调用setState。

例如，假设我们想让文本一直闪烁。 文本本身在创建闪烁组件时设置一次，因此文本本身是一个<code>props</code>。 “文本是否当前打开或关闭”随时间改变，所以应保持状态。
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span><span class="line"><span class="kr">import</span> <span class="p">{</span> <span class="nx">AppRegistry</span><span class="p">,</span> <span class="nx">Text</span><span class="p">,</span> <span class="nx">View</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-native&#39;</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="kr">class</span> <span class="nx">Blink</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="kr">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
</span><span class="line">    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span><span class="nx">showText</span><span class="o">:</span> <span class="kc">true</span><span class="p">};</span>
</span><span class="line">
</span><span class="line">    <span class="c1">// Toggle the state every second</span>
</span><span class="line">    <span class="nx">setInterval</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span><span class="line">      <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span> <span class="nx">showText</span><span class="o">:</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">showText</span> <span class="p">});</span>
</span><span class="line">    <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">
</span><span class="line">  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="kd">let</span> <span class="nx">display</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">showText</span> <span class="o">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">text</span> <span class="o">:</span> <span class="s1">&#39; &#39;</span><span class="p">;</span>
</span><span class="line">    <span class="k">return</span> <span class="p">(</span>
</span><span class="line">      <span class="o">&lt;</span><span class="nx">Text</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">display</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/Text&gt;</span>
</span><span class="line">    <span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kr">class</span> <span class="nx">BlinkApp</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="p">(</span>
</span><span class="line">      <span class="o">&lt;</span><span class="nx">View</span><span class="o">&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">Blink</span> <span class="nx">text</span><span class="o">=</span><span class="s1">&#39;I love to blink&#39;</span> <span class="o">/&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">Blink</span> <span class="nx">text</span><span class="o">=</span><span class="s1">&#39;Yes blinking is so great&#39;</span> <span class="o">/&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">Blink</span> <span class="nx">text</span><span class="o">=</span><span class="s1">&#39;Why did they ever take this out of HTML&#39;</span> <span class="o">/&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">Blink</span> <span class="nx">text</span><span class="o">=</span><span class="s1">&#39;Look at me look at me look at me&#39;</span> <span class="o">/&gt;</span>
</span><span class="line">      <span class="o">&lt;</span><span class="err">/View&gt;</span>
</span><span class="line">    <span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="nx">AppRegistry</span><span class="p">.</span><span class="nx">registerComponent</span><span class="p">(</span><span class="s1">&#39;BlinkApp&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">BlinkApp</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
在实际应用中，您可能不会使用计时器设置状态。 您可以在从服务器收到新数据或用户输入时设置状态。 您还可以使用状态容器（如<a href="http://redux.js.org/index.html">Redux</a>）来控制数据流。 在这种情况下，您将使用Redux来修改状态，而不是直接调用setState。

		
		<a href="/Blog/blog/2016/11/22/react-nativede-state/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">




</div>
	<div class="tags">


	<a class='category' href='/Blog/blog/categories/react-native/'>React Native</a>


</div>
	
	<div class="comments"><a href="/Blog/blog/2016/11/22/react-nativede-state/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/Blog/blog/2016/11/22/react-nativede-props/">
		
			React Native的Props</a>
	</h2>
	<div class="entry-content">
		<p>
大多数组件可以在创建时使用不同的参数进行自定义。 这些创建参数称为<code>props</code>。

例如，一个基本的React Native组件是Image。 当您创建图像时，可以使用prop命名<code>source</code>来控制其显示的图像。
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span><span class="line"><span class="kr">import</span> <span class="p">{</span> <span class="nx">AppRegistry</span><span class="p">,</span> <span class="nx">Image</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-native&#39;</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="kr">class</span> <span class="nx">Bananas</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="kd">let</span> <span class="nx">pic</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">      <span class="nx">uri</span><span class="o">:</span> <span class="s1">&#39;https://upload.wikimedia.org/wikipedia/commons/d/de/Bananavarieties.jpg&#39;</span>
</span><span class="line">    <span class="p">};</span>
</span><span class="line">    <span class="k">return</span> <span class="p">(</span>
</span><span class="line">      <span class="o">&lt;</span><span class="nx">Image</span> <span class="nx">source</span><span class="o">=</span><span class="p">{</span><span class="nx">pic</span><span class="p">}</span> <span class="nx">style</span><span class="o">=</span><span class="p"></span><span class="o">/&gt;</span>
</span><span class="line">    <span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="nx">AppRegistry</span><span class="p">.</span><span class="nx">registerComponent</span><span class="p">(</span><span class="s1">&#39;Bananas&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">Bananas</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
注意<em>{pic}</em>被大括号括起来，以将变量<em>pic</em>嵌入到JSX中。 你可以把任何JavaScript表达式放在大括号内JSX。

你自己的组件也可以使用<em>props</em>。 这样，您可以在应用程序的许多不同位置创建单个组件，每个位置的属性略有不同。 只需在<em>render</em>函数中引用<em>this.props</em>。 这里有一个例子：
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span><span class="line"><span class="kr">import</span> <span class="p">{</span> <span class="nx">AppRegistry</span><span class="p">,</span> <span class="nx">Text</span><span class="p">,</span> <span class="nx">View</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-native&#39;</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="kr">class</span> <span class="nx">Greeting</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="p">(</span>
</span><span class="line">      <span class="o">&lt;</span><span class="nx">Text</span><span class="o">&gt;</span><span class="nx">Hello</span> <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="o">!&lt;</span><span class="err">/Text&gt;</span>
</span><span class="line">    <span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kr">class</span> <span class="nx">LotsOfGreetings</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="p">(</span>
</span><span class="line">      <span class="o">&lt;</span><span class="nx">View</span> <span class="nx">style</span><span class="o">=</span><span class="p"></span><span class="o">&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">Greeting</span> <span class="nx">name</span><span class="o">=</span><span class="s1">&#39;Rexxar&#39;</span> <span class="o">/&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">Greeting</span> <span class="nx">name</span><span class="o">=</span><span class="s1">&#39;Jaina&#39;</span> <span class="o">/&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">Greeting</span> <span class="nx">name</span><span class="o">=</span><span class="s1">&#39;Valeera&#39;</span> <span class="o">/&gt;</span>
</span><span class="line">      <span class="o">&lt;</span><span class="err">/View&gt;</span>
</span><span class="line">    <span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="nx">AppRegistry</span><span class="p">.</span><span class="nx">registerComponent</span><span class="p">(</span><span class="s1">&#39;LotsOfGreetings&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">LotsOfGreetings</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
使用名称作为<code>props</code>，我们可以自定义<em>Greeting</em>组件，因此我们可以为每个问候重复使用该组件。 此示例还在JSX中使用Greeting组件，就像内置组件一样。 做到这一点的力量是什么使React这么酷 - 如果你发现自己希望有一组不同的UI原语来工作，你只是发明新的。

		
		<a href="/Blog/blog/2016/11/22/react-nativede-props/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">




</div>
	<div class="tags">


	<a class='category' href='/Blog/blog/categories/react-native/'>React Native</a>


</div>
	
	<div class="comments"><a href="/Blog/blog/2016/11/22/react-nativede-props/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/Blog/blog/2016/11/21/jsxcong-0dao-1/">
		
			JSX从0到1</a>
	</h2>
	<div class="entry-content">
		<p>
什么是JSX。我们先看一段代码,考虑这个变量声明：
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">const</span> <span class="nx">element</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Hello</span><span class="p">,</span> <span class="nx">world</span><span class="o">!&lt;</span><span class="err">/h1&gt;;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
这个有趣的标签语法既不是字符串也不是HTML。

它被称为JSX，它是JavaScript的语法扩展。 我们建议使用它与React来描述UI应该是什么样子。 JSX可以提醒你一个模板语言，但它伴随着JavaScript的全部力量。

JSX产生React“元素”。 我们将在下一节中探讨将它们渲染到DOM。 下面，你可以找到JSX的基础知识，让你开始。
</p>
<h3>
在JSX中嵌入表达式
</h3>
<p>
您可以通过将其包含在大括号中来在JSX中嵌入任何<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Expressions_and_Operators#Expressions">JavaScript表达式</a>。

例如，2 + 2，user.name和formatName（user）都是有效的表达式：
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">function</span> <span class="nx">formatName</span><span class="p">(</span><span class="nx">user</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="k">return</span> <span class="nx">user</span><span class="p">.</span><span class="nx">firstName</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="nx">user</span><span class="p">.</span><span class="nx">lastName</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kr">const</span> <span class="nx">user</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">firstName</span><span class="o">:</span> <span class="s1">&#39;Harper&#39;</span><span class="p">,</span>
</span><span class="line">  <span class="nx">lastName</span><span class="o">:</span> <span class="s1">&#39;Perez&#39;</span>
</span><span class="line"><span class="p">};</span>
</span><span class="line">
</span><span class="line"><span class="kr">const</span> <span class="nx">element</span> <span class="o">=</span> <span class="p">(</span>
</span><span class="line">  <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span>
</span><span class="line">    <span class="nx">Hello</span><span class="p">,</span> <span class="p">{</span><span class="nx">formatName</span><span class="p">(</span><span class="nx">user</span><span class="p">)}</span><span class="o">!</span>
</span><span class="line">  <span class="o">&lt;</span><span class="err">/h1&gt;</span>
</span><span class="line"><span class="p">);</span>
</span><span class="line">
</span><span class="line"><span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
</span><span class="line">  <span class="nx">element</span><span class="p">,</span>
</span><span class="line">  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;root&#39;</span><span class="p">)</span>
</span><span class="line"><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
我们将JSX拆分为多行以提高可读性。 虽然这不是强制性的，但当执行此操作时，我们还建议将其括在括号中，以避免<a href="http://stackoverflow.com/questions/2846283/what-are-the-rules-for-javascripts-automatic-semicolon-insertion-asi">自动分号插入</a>的陷阱。
</p>
<h3>
JSX是一个表达式
</h3>
<p>
编译后，JSX表达式成为常规JavaScript对象。这意味着您可以在if语句和for循环中使用JSX，将其分配给变量，将其接受为参数，然后从函数中返回：
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">function</span> <span class="nx">getGreeting</span><span class="p">(</span><span class="nx">user</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="k">if</span> <span class="p">(</span><span class="nx">user</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Hello</span><span class="p">,</span> <span class="p">{</span><span class="nx">formatName</span><span class="p">(</span><span class="nx">user</span><span class="p">)}</span><span class="o">!&lt;</span><span class="err">/h1&gt;;</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Hello</span><span class="p">,</span> <span class="nx">Stranger</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/h1&gt;;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>

		
		<a href="/Blog/blog/2016/11/21/jsxcong-0dao-1/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">




</div>
	<div class="tags">


	<a class='category' href='/Blog/blog/categories/react-native/'>React Native</a>


</div>
	
	<div class="comments"><a href="/Blog/blog/2016/11/21/jsxcong-0dao-1/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/Blog/blog/2016/11/21/react-dot-js-xiang-mu-zhi-nan/">
		
			React.js 项目指南</a>
	</h2>
	<div class="entry-content">
		<p>React 是一种声明性、高效和灵活的JavaScript库来构建用户界面。</p>
<h2>
React 组件
</h2>
<p>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">class</span> <span class="nx">ShoppingList</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="p">(</span>
</span><span class="line">      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;shopping-list&quot;</span><span class="o">&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Shopping</span> <span class="nx">List</span> <span class="k">for</span> <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
</span><span class="line">          <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">Instagram</span><span class="o">&lt;</span><span class="err">/li&gt;</span>
</span><span class="line">          <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">WhatsApp</span><span class="o">&lt;</span><span class="err">/li&gt;</span>
</span><span class="line">          <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">Oculus</span><span class="o">&lt;</span><span class="err">/li&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="err">/ul&gt;</span>
</span><span class="line">      <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span><span class="line">    <span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="c1">// Example usage: &lt;ShoppingList name=&quot;Mark&quot; /&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
组件告诉React你想提供的，然后React会在你数据更新时高效更新和提供正确组件。

在这里，ShoppingList 是一个React组件类或者React组件类型。一个组件包含的参数成为props，并且通过render方法返回一个层级视图来显示。

render 方法返回一个描述关于你想render的，并且React采用描述返回给屏幕。特别是，render会返回一个React元素，一个render什么的轻量级描述。许多React开发者使用一个特殊的语法称之为JSX，可以更方便的编写这些结构。div标记在编译时被转化成了React.createElement(&#8216;div&#8217;)。
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="k">return</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">className</span><span class="o">:</span> <span class="s1">&#39;shopping-list&#39;</span><span class="p">},</span>
</span><span class="line">  <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;h1&#39;</span><span class="p">,</span> <span class="p">...),</span>
</span><span class="line">  <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;ul&#39;</span><span class="p">,</span> <span class="p">...)</span>
</span><span class="line"><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
可以将任何 JavaScript 表达式放在大括号内 JSX 内。React的每个元素是一个真正的 JavaScript 对象，可以存储在一个变量或在程序中传递。
ShoppingList组件只能在内置的DOM组件提供，但是你能自己组合一个定制的React组件。通过<code><shoppinglist /></code>。每个组件都包含因此他能独立操作，允许你构建复杂的UI通过简单的组件。
</p>

<h2>
实例
</h2>
<p>
通过下面的例子来讲解React：

		
		<a href="/Blog/blog/2016/11/21/react-dot-js-xiang-mu-zhi-nan/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">




</div>
	<div class="tags">


	<a class='category' href='/Blog/blog/categories/react-native/'>React Native</a>


</div>
	
	<div class="comments"><a href="/Blog/blog/2016/11/21/react-dot-js-xiang-mu-zhi-nan/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/Blog/blog/2016/11/17/react-nativekai-fa-redux/">
		
			React Native开发Redux</a>
	</h2>
	<div class="entry-content">
		<p>
Redux是一个可预测的javascript应用程序的状态容器。

它可以帮助您编写行为一致，在不同环境（客户端，服务器和本机）中运行的应用程序，并且易于测试。 此外，它提供了一个伟大的开发者体验，如实时代码编辑结合一个时间旅行调试器。
</p>
<p>
您可以与React或任何其他视图库一起使用<a href="https://facebook.github.io/react/">Redux</a>。
它是微小的（2kB，包括依赖）。
从其创建者学习Redux：<a href="https://egghead.io/series/getting-started-with-redux">Redux学习入门</a>
</p>
<h3>
开发经验
</h3>
<p>
我在工作在我的React Europe谈话时写了Redux，名为“Hot Reloading with Time Travel”。 我的目标是创建一个状态管理库，具有最少的API，但完全可预测的行为，所以可以实现日志记录，热重新加载，时间旅行，通用应用程序，记录和重放，没有任何从开发人员买入。
</p>
<h3>
影响
</h3>
<p>
Redux演化了<a href="http://facebook.github.io/flux/">Flux</a>的想法，但通过从<a href="https://github.com/evancz/elm-architecture-tutorial/">Elm</a>提取线索来避免其复杂性。
无论您是否使用过它们，Redux只需要几分钟的时间就可以开始使用。
</p>
<h3>
安装
</h3>
<p>
安装稳定版本：
<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">npm install --save redux</span></code></pre></td></tr></table></div></figure></notextile></div>
这假设你使用<a href="https://www.npmjs.com/">npm</a>作为你的包管理器。

最常见的是人们使用Redux作为<a href="http://webpack.github.io/docs/commonjs.html">CommonJS</a>模块的集合。 这些模块是在<a href="http://webpack.github.io/">Webpack</a>，<a href="http://browserify.org/">Browserify</a>或Node环境中导入redux时得到的。 如果你喜欢生活在边缘，使用<a href="http://rollupjs.org/">Rollup</a>，我们也支持。

如果你不使用模块bundler，它也没关系。 <code>redux</code> npm包包括在<a href="https://unpkg.com/redux/dist/">dist文件夹</a>中预编译的生产和开发<a href="https://github.com/umdjs/umd">UMD</a>版本。 它们可以直接使用而无需捆绑器，因此与许多流行的javascript模块加载器和环境兼容。 例如，可以将UMD构建作为<a href="https://unpkg.com/redux/dist/redux.js">script标记</a>放在页面上，或者告诉<a href="https://github.com/reactjs/redux/pull/1181#issuecomment-167361975">Bower安装它</a>。 UMD构建使Redux可用作<code>window.Redux</code>全局变量。

Redux源代码是在ES2015中编写的，但我们将CommonJS和UMD构建预编译为ES5，因此它们可在<a href="http://caniuse.com/#feat=es5">任何现代浏览器</a>中使用。 您不需要使用Babel或模块捆绑包来<a href="https://github.com/reactjs/redux/blob/master/examples/counter-vanilla/index.html">开始使用Redux</a>。
</p>
<h3>
互补包
</h3>
<p>
很可能，您还需要<a href="https://github.com/reactjs/react-redux">React绑定</a>和<a href="https://github.com/gaearon/redux-devtools">开发人员工具</a>。
<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class=""><span class="line">npm install --save react-redux
</span><span class="line">npm install --save-dev redux-devtools</span></code></pre></td></tr></table></div></figure></notextile></div>

请注意，与Redux本身不同，Redux生态系统中的许多软件包不提供UMD构建，因此我们建议使用<a href="http://webpack.github.io/"> Webpack </a>和<a href="http://browserify.org/">Browserify</a>之类的CommonJS模块捆绑软件，以获得最舒适的开发体验。
</p>
<h3>
要点
</h3>
<p>
应用程序的整个状态存储在单个存储中的对象树中。
改变状态树的唯一方法是发出一个动作，一个描述发生了什么的对象。
要指定动作如何转换状态树，您需要编写纯reducer。
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createStore</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;redux&#39;</span>
</span><span class="line">
</span><span class="line"><span class="cm">/**</span>
</span><span class="line"><span class="cm"> * This is a reducer, a pure function with (state, action) =&gt; state signature.</span>
</span><span class="line"><span class="cm"> * It describes how an action transforms the state into the next state.</span>
</span><span class="line"><span class="cm"> *</span>
</span><span class="line"><span class="cm"> * The shape of the state is up to you: it can be a primitive, an array, an object,</span>
</span><span class="line"><span class="cm"> * or even an Immutable.js data structure. The only important part is that you should</span>
</span><span class="line"><span class="cm"> * not mutate the state object, but return a new object if the state changes.</span>
</span><span class="line"><span class="cm"> *</span>
</span><span class="line"><span class="cm"> * In this example, we use a `switch` statement and strings, but you can use a helper that</span>
</span><span class="line"><span class="cm"> * follows a different convention (such as function maps) if it makes sense for your</span>
</span><span class="line"><span class="cm"> * project.</span>
</span><span class="line"><span class="cm"> */</span>
</span><span class="line"><span class="kd">function</span> <span class="nx">counter</span><span class="p">(</span><span class="nx">state</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">action</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="k">switch</span> <span class="p">(</span><span class="nx">action</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="k">case</span> <span class="s1">&#39;INCREMENT&#39;</span><span class="o">:</span>
</span><span class="line">    <span class="k">return</span> <span class="nx">state</span> <span class="o">+</span> <span class="mi">1</span>
</span><span class="line">  <span class="k">case</span> <span class="s1">&#39;DECREMENT&#39;</span><span class="o">:</span>
</span><span class="line">    <span class="k">return</span> <span class="nx">state</span> <span class="o">-</span> <span class="mi">1</span>
</span><span class="line">  <span class="k">default</span><span class="o">:</span>
</span><span class="line">    <span class="k">return</span> <span class="nx">state</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="c1">// Create a Redux store holding the state of your app.</span>
</span><span class="line"><span class="c1">// Its API is { subscribe, dispatch, getState }.</span>
</span><span class="line"><span class="kd">let</span> <span class="nx">store</span> <span class="o">=</span> <span class="nx">createStore</span><span class="p">(</span><span class="nx">counter</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">// You can use subscribe() to update the UI in response to state changes.</span>
</span><span class="line"><span class="c1">// Normally you&#39;d use a view binding library (e.g. React Redux) rather than subscribe() directly.</span>
</span><span class="line"><span class="c1">// However it can also be handy to persist the current state in the localStorage.</span>
</span><span class="line">
</span><span class="line"><span class="nx">store</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(()</span> <span class="o">=&gt;</span>
</span><span class="line">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">store</span><span class="p">.</span><span class="nx">getState</span><span class="p">())</span>
</span><span class="line"><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">// The only way to mutate the internal state is to dispatch an action.</span>
</span><span class="line"><span class="c1">// The actions can be serialized, logged or stored and later replayed.</span>
</span><span class="line"><span class="nx">store</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">({</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;INCREMENT&#39;</span> <span class="p">})</span>
</span><span class="line"><span class="c1">// 1</span>
</span><span class="line"><span class="nx">store</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">({</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;INCREMENT&#39;</span> <span class="p">})</span>
</span><span class="line"><span class="c1">// 2</span>
</span><span class="line"><span class="nx">store</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">({</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;DECREMENT&#39;</span> <span class="p">})</span>
</span><span class="line"><span class="c1">// 1</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

		
		<a href="/Blog/blog/2016/11/17/react-nativekai-fa-redux/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">




</div>
	<div class="tags">


	<a class='category' href='/Blog/blog/categories/react-native/'>React Native</a>


</div>
	
	<div class="comments"><a href="/Blog/blog/2016/11/17/react-nativekai-fa-redux/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/Blog/blog/2016/11/15/zai-xian-you-iosgong-cheng-jia-ru-react-native/">
		
			在现有iOS工程加入React-Native</a>
	</h2>
	<div class="entry-content">
		<h2>
React-Native在iOS工程的集成
</h2>
<p>
当我们想在现有的iOS开发工程中加入React-Native这个模块的时候，我们需要做一些准备工作。<我假设已经安装了homebrew>安装需要的工具：npm
<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">brew install npm</span></code></pre></td></tr></table></div></figure></notextile></div>
一般来说只要有这个就可以，但是鉴于npm 每次都要npm install React-Native并且时间很慢，我们可以辅助使用Yarn，这个工具也是Facebook出品的，这个打React-Native的效率比<code>npm install </code>高很多。
安装好了npm之后，我们创建一个package.json文件,内容如下
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
</pre></td><td class="code"><pre><code class="json"><span class="line"><span class="p">{</span>
</span><span class="line">  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;honer&quot;</span><span class="p">,</span>
</span><span class="line">  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0.0.1&quot;</span><span class="p">,</span>
</span><span class="line">  <span class="nt">&quot;private&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span class="line">  <span class="nt">&quot;scripts&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="line">    <span class="nt">&quot;update&quot;</span><span class="p">:</span> <span class="s2">&quot;echo &#39;{\&quot;presets\&quot;:[\&quot;react-native\&quot;],\&quot;plugins\&quot;:[\&quot;transform-decorators-legacy\&quot;,[\&quot;react-native-css-class\&quot;,{\&quot;pragma\&quot;:\&quot;CSS\&quot;}]]}&#39; &gt; .babelrc &amp;&amp; mkdir bundle &amp;&amp; npm i&quot;</span><span class="p">,</span>
</span><span class="line">    <span class="nt">&quot;start&quot;</span><span class="p">:</span> <span class="s2">&quot;node node_modules/react-native/local-cli/cli.js start&quot;</span><span class="p">,</span>
</span><span class="line">    <span class="nt">&quot;build&quot;</span><span class="p">:</span> <span class="s2">&quot;rm -rf ./bundle/* &amp;&amp; react-native bundle --platform ios --entry-file ./ReactComponent/index.ios.js --bundle-output ./bundle/main.jsbundle --assets-dest ./bundle/  --dev false&quot;</span><span class="p">,</span>
</span><span class="line">    <span class="nt">&quot;test&quot;</span><span class="p">:</span> <span class="s2">&quot;jest&quot;</span>
</span><span class="line">  <span class="p">},</span>
</span><span class="line">  <span class="nt">&quot;dependencies&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="line">    <span class="nt">&quot;react&quot;</span><span class="p">:</span> <span class="s2">&quot;15.3.2&quot;</span><span class="p">,</span>
</span><span class="line">    <span class="nt">&quot;react-native&quot;</span><span class="p">:</span> <span class="s2">&quot;0.36.1&quot;</span>
</span><span class="line">  <span class="p">},</span>
</span><span class="line">  <span class="nt">&quot;jest&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="line">    <span class="nt">&quot;preset&quot;</span><span class="p">:</span> <span class="s2">&quot;jest-react-native&quot;</span>
</span><span class="line">  <span class="p">},</span>
</span><span class="line">  <span class="nt">&quot;devDependencies&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="line">    <span class="nt">&quot;babel-jest&quot;</span><span class="p">:</span> <span class="s2">&quot;16.0.0&quot;</span><span class="p">,</span>
</span><span class="line">    <span class="nt">&quot;babel-plugin-react-native-css-class&quot;</span><span class="p">:</span> <span class="s2">&quot;git+https://github.com/qq4647805/babel-plugin-react-native-css-class.git&quot;</span><span class="p">,</span>
</span><span class="line">    <span class="nt">&quot;babel-plugin-transform-decorators-legacy&quot;</span><span class="p">:</span> <span class="s2">&quot;^1.3.4&quot;</span><span class="p">,</span>
</span><span class="line">    <span class="nt">&quot;babel-plugin-transform-runtime&quot;</span><span class="p">:</span> <span class="s2">&quot;^6.15.0&quot;</span><span class="p">,</span>
</span><span class="line">    <span class="nt">&quot;babel-preset-react-native&quot;</span><span class="p">:</span> <span class="s2">&quot;1.9.0&quot;</span><span class="p">,</span>
</span><span class="line">    <span class="nt">&quot;jest&quot;</span><span class="p">:</span> <span class="s2">&quot;16.0.2&quot;</span><span class="p">,</span>
</span><span class="line">    <span class="nt">&quot;jest-react-native&quot;</span><span class="p">:</span> <span class="s2">&quot;16.1.0&quot;</span><span class="p">,</span>
</span><span class="line">    <span class="nt">&quot;react-test-renderer&quot;</span><span class="p">:</span> <span class="s2">&quot;15.3.2&quot;</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
通过终端进入工程根目录下，如果这时安装了Yarn。在终端输入<code>yarn</code>，回车一按，自动查找需要安装的packages
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class="json"><span class="line"><span class="err">RickdeMacBook-Pro:xueba_ios_</span><span class="mi">2016</span> <span class="err">Wenba$</span> <span class="err">yarn</span>
</span><span class="line"><span class="err">yarn</span> <span class="err">install</span> <span class="err">v</span><span class="mf">0.16</span><span class="err">.</span><span class="mi">1</span>
</span><span class="line"><span class="err">info</span> <span class="err">No</span> <span class="err">lockfile</span> <span class="err">found.</span>
</span><span class="line"><span class="p">[</span><span class="mi">1</span><span class="err">/</span><span class="mi">4</span><span class="p">]</span> <span class="err">🔍</span>  <span class="err">Resolving</span> <span class="err">packages...</span>
</span><span class="line"><span class="err">warning</span> <span class="err">jest</span> <span class="err">&gt;</span> <span class="err">jest-cli</span> <span class="err">&gt;</span> <span class="err">istanbul-api</span> <span class="err">&gt;</span> <span class="err">fileset</span> <span class="err">&gt;</span> <span class="err">minimatch@</span><span class="mf">2.0</span><span class="err">.</span><span class="mi">10</span><span class="err">:</span> <span class="err">Please</span> <span class="err">update</span> <span class="err">to</span> <span class="err">minimatch</span> <span class="mf">3.0</span><span class="err">.</span><span class="mi">2</span> <span class="err">or</span> <span class="err">higher</span> <span class="err">to</span> <span class="err">avoid</span> <span class="err">a</span> <span class="err">RegExp</span> <span class="err">DoS</span> <span class="err">issue</span>
</span><span class="line"><span class="p">[</span><span class="mi">2</span><span class="err">/</span><span class="mi">4</span><span class="p">]</span> <span class="err">🚚</span>  <span class="err">Fetching</span> <span class="err">packages...</span>
</span><span class="line"><span class="p">[</span><span class="mi">3</span><span class="err">/</span><span class="mi">4</span><span class="p">]</span> <span class="err">🔗</span>  <span class="err">Linking</span> <span class="err">dependencies...</span>
</span><span class="line"><span class="err">warning</span> <span class="err">Unmet</span> <span class="err">peer</span> <span class="err">dependency</span> <span class="s2">&quot;whatwg-fetch@^1.0.0&quot;</span><span class="err">.</span>
</span><span class="line"><span class="p">[</span><span class="mi">4</span><span class="err">/</span><span class="mi">4</span><span class="p">]</span> <span class="err">📃</span>  <span class="err">Building</span> <span class="err">fresh</span> <span class="err">packages...</span>
</span><span class="line"><span class="err">success</span> <span class="err">Saved</span> <span class="err">lockfile.</span>
</span><span class="line"><span class="err">✨</span>  <span class="err">Done</span> <span class="err">in</span> <span class="mf">19.62</span><span class="err">s.</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

如果没有安装Yarn，安装了npm的话，只要键入 npm install 就会安装packages

然后我们去修改iOS工程的podfile文件，在所在的target多增加这个pod
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="n">pod</span> <span class="s1">&#39;React&#39;</span><span class="p">,</span> <span class="ss">:path</span> <span class="o">=&gt;</span> <span class="s1">&#39;./node_modules/react-native&#39;</span><span class="p">,</span> <span class="ss">:subspecs</span> <span class="o">=&gt;</span> <span class="o">[</span>
</span><span class="line">  <span class="s1">&#39;Core&#39;</span><span class="p">,</span>
</span><span class="line">  <span class="s1">&#39;RCTImage&#39;</span><span class="p">,</span>
</span><span class="line">  <span class="s1">&#39;RCTNetwork&#39;</span><span class="p">,</span>
</span><span class="line">  <span class="s1">&#39;RCTText&#39;</span><span class="p">,</span>
</span><span class="line">  <span class="s1">&#39;RCTWebSocket&#39;</span><span class="p">,</span>
</span><span class="line">  <span class="c1"># Add any other subspecs you want to use in your project</span>
</span><span class="line"><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
在iOS工程目录下执行<code>Pod install</code>。等待安装完成。此时React-Native模块已经加入到我们iOS的工程里了。


		
		<a href="/Blog/blog/2016/11/15/zai-xian-you-iosgong-cheng-jia-ru-react-native/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">




</div>
	<div class="tags">


	<a class='category' href='/Blog/blog/categories/react-native/'>React-Native</a>


</div>
	
	<div class="comments"><a href="/Blog/blog/2016/11/15/zai-xian-you-iosgong-cheng-jia-ru-react-native/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/Blog/blog/2016/10/28/po-ke-wei-xin-zhi-lu/">
		
			破壳微信之旅</a>
	</h2>
	<div class="entry-content">
		<h2 id="section">砸壳前期准备</h2>

<p>一个越狱设备,一台Mac设备。
1、openssh<br />
修改ssh -&gt; congifure prot
修改ssh的密码</p>

<p>2、adv-cmds   cycript 安装在越狱设备上</p>

<p>3、ssh root@192.168.1.8 (设备的IP)</p>

<p>4、ps -e | grep WeChat
<br /></p>
<p>
<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class=""><span class="line">Phone:~ root# 825 ??         0:08.66 /var/mobile/Applications/20EC6C4E-F75C-4FA5-8457-DFF4C2C4E9BC/WeChat.app/WeChat
</span><span class="line">Phone:~ root# 832 ttys000    0:00.01 grep WeChat
</span><span class="line">  Phone:~ root# cycript -p 825
</span><span class="line">  cy# [[NSFileManager defaultManager] URLsForDirectory:NSDocumentDirectory inDomains:NSUserDomainMask][0]
</span><span class="line">  cy#"file:///var/mobile/Applications/20EC6C4E-F75C-4FA5-8457-DFF4C2C4E9BC/Documents/"
</span><span class="line">  DYLD_INSERT_LIBRARIES=dumpdecrypted.dylib /var/mobile/Applications/20EC6C4E-F75C-4FA5-8457-DFF4C2C4E9BC/WeChat.app/WeChat</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>
<p>5、砸开
  class-dump –arch armv7 WeChat.decrypted -S -s -H -o /Users/Rick/Documents/ios/isere/WeChatHeader
<br /></p>
<p>
<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
</pre></td><td class="code"><pre><code class=""><span class="line">mach-o decryption dumper
</span><span class="line">
</span><span class="line">DISCLAIMER: This tool is only meant for security research purposes, not for application crackers.
</span><span class="line">
</span><span class="line">[+] detected 32bit ARM binary in memory.
</span><span class="line">[+] offset to cryptid found: @0x15a4c(from 0x15000) = a4c
</span><span class="line">[+] Found encrypted data at address 00004000 of length 45400064 bytes - type 1.
</span><span class="line">[+] Opening /private/var/mobile/Applications/20EC6C4E-F75C-4FA5-8457-DFF4C2C4E9BC/WeChat.app/WeChat for reading.
</span><span class="line">[+] Reading header
</span><span class="line">[+] Detecting header type
</span><span class="line">[+] Executable is a FAT image - searching for right architecture
</span><span class="line">[+] Correct arch is at offset 16384 in the file
</span><span class="line">[+] Opening WeChat.decrypted for writing.
</span><span class="line">[+] Copying the not encrypted start of the file
</span><span class="line">[+] Dumping the decrypted data into the file
</span><span class="line">[+] Copying the not encrypted remainder of the file
</span><span class="line">[+] Setting the LC_ENCRYPTION_INFO-&gt;cryptid to 0 at offset 4a4c
</span><span class="line">[+] Closing original file
</span><span class="line">[+] Closing dump file</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>
<p>看到这些log就能看到砸开所有的文件，下面是我砸开的微信定义函数文件
<br /></p>


		
		<a href="/Blog/blog/2016/10/28/po-ke-wei-xin-zhi-lu/" class="more-link">Read on &rarr;</a>
	</div>


<div class="meta">
	<div class="date">




</div>
	<div class="tags">


	<a class='category' href='/Blog/blog/categories/yue-yu/'>越狱</a>


</div>
	
	<div class="comments"><a href="/Blog/blog/2016/10/28/po-ke-wei-xin-zhi-lu/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/Blog/blog/2016/10/14/mian-xiang-dui-xiang-zhi-shu-ju-chou-xiang/">
		
			面向对象之数据抽象</a>
	</h2>
	<div class="entry-content">
		<h3 id="oo-programming">OO Programming</h3>
<p>Java中的编程主要基于构建数据类型。 这种编程风格被称为面向对象编程，因为它围绕着对象的概念，对象是一个保存数据类型值的实体。 对于Java的原始类型，我们主要局限于对数字进行操作的程序，但是对于引用类型，我们可以编写操作字符串，图片，声音或者在Java标准库中或在我们的书站上可用的数百个其他抽象中的任何一个 。 比预定义数据类型的库更重要的是，Java编程中可用的数据类型范围是开放式的，因为您可以定义自己的数据类型。
1. 数据类型。 数据类型是一组值和一组对这些值的操作。
2. 抽象数据类型。 抽象数据类型是其内部表示对客户端隐藏的数据类型。
3. 对象。 对象是可以接受数据类型值的实体。 对象的特征在于三个基本属性：对象的状态是来自其数据类型的值; 对象的身份将一个对象与另一个对象区分开; 对象的行为是数据类型操作的影响。 在Java中，引用是访问对象的机制。
4. 应用程序编程接口（API）。 为了指定抽象数据类型的行为，我们使用一个应用程序编程接口（API），它是构造函数和实例方法（操作）的列表，并对每个函数的效果进行非正式描述，如本计数器的API一样：
<br /><img src="/Blog/images/algorithms/alogrithms_1.2_counter-api.png" /><br />
5. 客户。 客户端是使用数据类型的程序。
6. 实现。 实现是实现API中指定的数据类型的代码。</p>

<h3 id="section">使用抽象数据类型。</h3>
<p>客户端不需要知道数据类型是如何实现的，以便能够使用它。
1. 创建对象。 每个数据类型值存储在对象中。 要创建（或实例化）单个对象，我们使用关键字new调用构造函数。 每次客户端使用new时，系统为对象分配内存空间，初始化其值，并返回对对象的引用。
<br /><img src="/Blog/images/algorithms/alogrithms_1.2_constructor.png" /><br />
2. 调用实例方法。 实例方法的目的是对数据类型值进行操作。 实例方法具有静态方法的所有属性：参数通过值传递，方法名称可以重载，它们可能具有返回值，并且它们可能导致副作用。 他们有一个额外的属性，表征他们：每个调用与一个对象相关联。
<br /><img src="/Blog/images/algorithms/alogrithms_1.2_instance-method.png" /><br />
3. 使用对象。 声明给了我们可以在代码中使用的对象的变量名。 要使用给定的数据类型，我们：
	* 声明类型的变量，用于引用对象
  * 使用关键字new来调用创建类型对象的构造函数
  * 使用对象名称来调用实例方法，作为语句或表达式
例如，<a href="http://algs4.cs.princeton.edu/12oop/Flips.java.html">Flips.java</a>是一个<a href="http://algs4.cs.princeton.edu/12oop/Counter.java.html">Counter.java</a>客户端，它接受命令行参数T并模拟T硬币翻转。
4. 分配语句。 具有引用类型的赋值语句创建引用的副本（并且不创建新对象）。 这种情况称为别名：两个变量都指向相同的对象。 别名是Java程序中常见的错误来源，如以下示例所示：</p>
<p>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="java"><span class="line"><span class="n">Counter</span> <span class="n">c1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Counter</span><span class="o">(</span><span class="s">&quot;ones&quot;</span><span class="o">);</span>
</span><span class="line"><span class="n">c1</span><span class="o">.</span><span class="na">increment</span><span class="o">();</span>
</span><span class="line"><span class="n">Counter</span> <span class="n">c2</span> <span class="o">=</span> <span class="n">c1</span><span class="o">;</span>
</span><span class="line"><span class="n">c2</span><span class="o">.</span><span class="na">increment</span><span class="o">();</span>
</span><span class="line"><span class="n">StdOut</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">c1</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>
<p>代码打印字符串“2 ones”。</p>
<hr />

<p class="post-footer">
                        written by <a href="http://ITMonkeyLife.github.io/Blog">Rick</a>&nbsp;posted at <a href="http://ITMonkeyLife.github.io/Blog">http://ITMonkeyLife.github.io/Blog</a></p>

		
		
	</div>


<div class="meta">
	<div class="date">




</div>
	<div class="tags">


	<a class='category' href='/Blog/blog/categories/java/'>Java</a>


</div>
	
	<div class="comments"><a href="/Blog/blog/2016/10/14/mian-xiang-dui-xiang-zhi-shu-ju-chou-xiang/#disqus_thread">Comments</a></div>
	
</div>
</article>

<nav id="pagenavi">
    
    
        <a href="/Blog/blog/page/2/" class="next">Next</a>
    
    <div class="center"><a href="/Blog/blog/archives">Blog Archives</a></div>
</nav>
</div>
	<footer id="footer" class="inner">Copyright &copy; 2016

    Rick

</footer>
	<script src="/Blog/javascripts/slash.js"></script>
<script src="/Blog/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'ITMonkeyLife';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//go.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-52658428-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>
