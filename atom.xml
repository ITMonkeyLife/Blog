<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[IT Monkey Life]]></title>
  <link href="http://ITMonkeyLife.github.io/Blog/atom.xml" rel="self"/>
  <link href="http://ITMonkeyLife.github.io/Blog/"/>
  <updated>2016-11-22T14:08:56+08:00</updated>
  <id>http://ITMonkeyLife.github.io/Blog/</id>
  <author>
    <name><![CDATA[Rick]]></name>
    <email><![CDATA[382542165@qq.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[React Nativeçš„Text]]></title>
    <link href="http://ITMonkeyLife.github.io/Blog/blog/2016/11/22/react-nativede-text/"/>
    <updated>2016-11-22T10:24:38+08:00</updated>
    <id>http://ITMonkeyLife.github.io/Blog/blog/2016/11/22/react-nativede-text</id>
    <content type="html"><![CDATA[<p>
ç”¨äºæ˜¾ç¤ºæ–‡æœ¬çš„Reactç»„ä»¶ã€‚

æ–‡æœ¬æ”¯æŒåµŒå¥—ï¼Œæ ·å¼å’Œè§¦æ‘¸å¤„ç†ã€‚

åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼ŒåµŒå¥—æ ‡é¢˜å’Œæ­£æ–‡æ–‡æœ¬å°†ä»styles.baseTextç»§æ‰¿fontFamilyï¼Œä½†æ ‡é¢˜æä¾›äº†è‡ªå·±çš„é™„åŠ æ ·å¼ã€‚ æ ‡é¢˜å’Œä¸»ä½“å°†å åŠ åœ¨ä¸€èµ·ï¼Œå› ä¸ºæ–‡å­—æ¢è¡Œï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span><span class="line"><span class="kr">import</span> <span class="p">{</span> <span class="nx">AppRegistry</span><span class="p">,</span> <span class="nx">Text</span><span class="p">,</span> <span class="nx">StyleSheet</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-native&#39;</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="kr">class</span> <span class="nx">TextInANest</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="kr">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
</span><span class="line">    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">      <span class="nx">titleText</span><span class="o">:</span> <span class="s2">&quot;Bird&#39;s Nestaaa&quot;</span><span class="p">,</span>
</span><span class="line">      <span class="nx">bodyText</span><span class="o">:</span> <span class="s1">&#39;This is not really a bird nest.&#39;</span>
</span><span class="line">    <span class="p">};</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">
</span><span class="line">  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="p">(</span>
</span><span class="line">      <span class="o">&lt;</span><span class="nx">Text</span> <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">baseText</span><span class="p">}</span><span class="o">&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">Text</span> <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">titleText</span><span class="p">}</span> <span class="nx">onPress</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">onPressTitle</span><span class="p">}</span><span class="o">&gt;</span>
</span><span class="line">          <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">titleText</span><span class="p">}{</span><span class="s1">&#39;\n&#39;</span><span class="p">}{</span><span class="s1">&#39;\n&#39;</span><span class="p">}</span>
</span><span class="line">        <span class="o">&lt;</span><span class="err">/Text&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">Text</span> <span class="nx">numberOfLines</span><span class="o">=</span><span class="p">{</span><span class="mi">5</span><span class="p">}</span><span class="o">&gt;</span>
</span><span class="line">          <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">bodyText</span><span class="p">}</span>
</span><span class="line">        <span class="o">&lt;</span><span class="err">/Text&gt;</span>
</span><span class="line">      <span class="o">&lt;</span><span class="err">/Text&gt;</span>
</span><span class="line">    <span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kr">const</span> <span class="nx">styles</span> <span class="o">=</span> <span class="nx">StyleSheet</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
</span><span class="line">  <span class="nx">baseText</span><span class="o">:</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">fontFamily</span><span class="o">:</span> <span class="s1">&#39;Cochin&#39;</span><span class="p">,</span>
</span><span class="line">  <span class="p">},</span>
</span><span class="line">  <span class="nx">titleText</span><span class="o">:</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">fontSize</span><span class="o">:</span> <span class="mi">20</span><span class="p">,</span>
</span><span class="line">    <span class="nx">fontWeight</span><span class="o">:</span> <span class="s1">&#39;bold&#39;</span><span class="p">,</span>
</span><span class="line">  <span class="p">},</span>
</span><span class="line"><span class="p">});</span>
</span><span class="line">
</span><span class="line"><span class="c1">// App registration and rendering</span>
</span><span class="line"><span class="nx">AppRegistry</span><span class="p">.</span><span class="nx">registerComponent</span><span class="p">(</span><span class="s1">&#39;TextInANest&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">TextInANest</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>
<!--more-->
<h3>
å¤„ç†æ–‡æœ¬è¾“å…¥
</h3>
<p>
TextInputæ˜¯ä¸€ä¸ªåŸºæœ¬ç»„ä»¶ï¼Œå…è®¸ç”¨æˆ·è¾“å…¥æ–‡æœ¬ã€‚ å®ƒæœ‰ä¸€ä¸ªonChangeText propï¼Œå®ƒæ¥å—ä¸€ä¸ªå‡½æ•°ï¼Œæ¯æ¬¡æ–‡æœ¬æ”¹å˜æ—¶è¢«è°ƒç”¨ï¼Œå’Œä¸€ä¸ªonSubmitEditing propï¼Œå½“ä¸€ä¸ªå‡½æ•°è¢«æäº¤æ—¶è¢«è°ƒç”¨ã€‚

ä¾‹å¦‚ï¼Œè®©æˆ‘ä»¬è¯´ï¼Œå½“ç”¨æˆ·é”®å…¥æ—¶ï¼Œæ‚¨å°†ä»–ä»¬çš„è¯ç¿»è¯‘æˆä¸åŒçš„è¯­è¨€ã€‚ åœ¨è¿™ç§æ–°è¯­è¨€ä¸­ï¼Œæ¯ä¸ªå•è¯çš„å†™æ³•éƒ½æ˜¯ä¸€æ ·çš„ï¼šğŸ•ã€‚ æ‰€ä»¥å¥å­â€œHello there Bobâ€å°†ç¿»è¯‘ä¸ºâ€œğŸ•ğŸ•ğŸ•â€ã€‚
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span><span class="line"><span class="kr">import</span> <span class="p">{</span> <span class="nx">AppRegistry</span><span class="p">,</span> <span class="nx">Text</span><span class="p">,</span> <span class="nx">TextInput</span><span class="p">,</span> <span class="nx">View</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-native&#39;</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="kr">class</span> <span class="nx">PizzaTranslator</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="kr">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
</span><span class="line">    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span><span class="nx">text</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">};</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">
</span><span class="line">  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="p">(</span>
</span><span class="line">      <span class="o">&lt;</span><span class="nx">View</span> <span class="nx">style</span><span class="o">=</span><span class="p"></span><span class="o">&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">TextInput</span>
</span><span class="line">          <span class="nx">style</span><span class="o">=</span><span class="p"></span>
</span><span class="line">          <span class="nx">placeholder</span><span class="o">=</span><span class="s2">&quot;Type here to translate!&quot;</span>
</span><span class="line">          <span class="nx">onChangeText</span><span class="o">=</span><span class="p">{(</span><span class="nx">text</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">text</span><span class="p">})}</span>
</span><span class="line">        <span class="o">/&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">Text</span> <span class="nx">style</span><span class="o">=</span><span class="p"></span><span class="o">&gt;</span>
</span><span class="line">          <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">text</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">).</span><span class="nx">map</span><span class="p">((</span><span class="nx">word</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">word</span> <span class="o">&amp;&amp;</span> <span class="s1">&#39;ğŸ•&#39;</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)}</span>
</span><span class="line">        <span class="o">&lt;</span><span class="err">/Text&gt;</span>
</span><span class="line">      <span class="o">&lt;</span><span class="err">/View&gt;</span>
</span><span class="line">    <span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="nx">AppRegistry</span><span class="p">.</span><span class="nx">registerComponent</span><span class="p">(</span><span class="s1">&#39;PizzaTranslator&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">PizzaTranslator</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†æ–‡æœ¬å­˜å‚¨åœ¨çŠ¶æ€ä¸­ï¼Œå› ä¸ºå®ƒéšæ—¶é—´è€Œå˜åŒ–ã€‚

è¿˜æœ‰å¾ˆå¤šäº‹æƒ…ä½ å¯èƒ½æƒ³åšä¸€ä¸ªæ–‡æœ¬è¾“å…¥ã€‚ ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥åœ¨ç”¨æˆ·é”®å…¥æ—¶éªŒè¯å†…éƒ¨çš„æ–‡æœ¬ã€‚ æœ‰å…³æ›´å¤šè¯¦ç»†ç¤ºä¾‹ï¼Œè¯·å‚é˜…å—æ§ç»„ä»¶ä¸Šçš„Reactæ–‡æ¡£ï¼Œæˆ–TextInputçš„å‚è€ƒæ–‡æ¡£ã€‚

æ–‡æœ¬è¾“å…¥å¯èƒ½æ˜¯å…¶çŠ¶æ€éšæ—¶é—´è‡ªç„¶æ”¹å˜çš„ç»„ä»¶çš„æœ€ç®€å•çš„ç¤ºä¾‹ã€‚
</p>
<h3>
åµŒå¥—æ–‡æœ¬
</h3>
<p>
iOSå’ŒAndroidéƒ½å…è®¸é€šè¿‡ä½¿ç”¨ç²—ä½“æˆ–å½©è‰²æ–‡æœ¬ï¼ˆåœ¨iOSä¸Šä¸ºNSAttributedStringï¼ŒAndroidä¸Šä¸ºSpannableStringï¼‰ç­‰ç‰¹å®šæ ¼å¼è®¾ç½®å­—ç¬¦ä¸²çš„èŒƒå›´æ¥æ˜¾ç¤ºæ ¼å¼åŒ–çš„æ–‡æœ¬ã€‚ åœ¨å®è·µä¸­ï¼Œè¿™æ˜¯éå¸¸ä¹å‘³ã€‚ å¯¹äºReact Nativeï¼Œæˆ‘ä»¬å†³å®šä½¿ç”¨WebèŒƒä¾‹ï¼Œåœ¨è¿™é‡Œä½ å¯ä»¥åµŒå¥—æ–‡æœ¬æ¥å®ç°ç›¸åŒçš„æ•ˆæœã€‚
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span><span class="line"><span class="kr">import</span> <span class="p">{</span> <span class="nx">AppRegistry</span><span class="p">,</span> <span class="nx">Text</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-native&#39;</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="kr">class</span> <span class="nx">BoldAndBeautiful</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="p">(</span>
</span><span class="line">      <span class="o">&lt;</span><span class="nx">Text</span> <span class="nx">style</span><span class="o">=</span><span class="p"></span><span class="o">&gt;</span>
</span><span class="line">        <span class="nx">I</span> <span class="nx">am</span> <span class="nx">bold</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">Text</span> <span class="nx">style</span><span class="o">=</span><span class="p"></span><span class="o">&gt;</span>
</span><span class="line">          <span class="nx">and</span> <span class="nx">red</span>
</span><span class="line">        <span class="o">&lt;</span><span class="err">/Text&gt;</span>
</span><span class="line">      <span class="o">&lt;</span><span class="err">/Text&gt;</span>
</span><span class="line">    <span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="nx">AppRegistry</span><span class="p">.</span><span class="nx">registerComponent</span><span class="p">(</span><span class="s1">&#39;BoldAndBeautiful&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">BoldAndBeautiful</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
åœ¨å¹•åï¼ŒReact Nativeå°†å…¶è½¬æ¢ä¸ºåŒ…å«ä»¥ä¸‹ä¿¡æ¯çš„å¹³é¢NSAttributedStringæˆ–SpannableStringï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="s2">&quot;I am bold and red&quot;</span>
</span><span class="line"><span class="mi">0</span><span class="o">-</span><span class="mi">9</span><span class="o">:</span> <span class="nx">bold</span>
</span><span class="line"><span class="mi">9</span><span class="o">-</span><span class="mi">17</span><span class="o">:</span> <span class="nx">bold</span><span class="p">,</span> <span class="nx">red</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>
<h3>
åµŒå¥—è§†å›¾ï¼ˆä»…é™iOSï¼‰
</h3>
<p>
åœ¨iOSä¸Šï¼Œæ‚¨å¯ä»¥åœ¨æ–‡æœ¬ç»„ä»¶ä¸­åµŒå¥—è§†å›¾ã€‚ è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span><span class="line"><span class="kr">import</span> <span class="p">{</span> <span class="nx">AppRegistry</span><span class="p">,</span> <span class="nx">Text</span><span class="p">,</span> <span class="nx">View</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-native&#39;</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="kr">class</span> <span class="nx">BlueIsCool</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="p">(</span>
</span><span class="line">      <span class="o">&lt;</span><span class="nx">Text</span><span class="o">&gt;</span>
</span><span class="line">        <span class="nx">There</span> <span class="nx">is</span> <span class="nx">a</span> <span class="nx">blue</span> <span class="nx">square</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">View</span> <span class="nx">style</span><span class="o">=</span><span class="p"></span> <span class="o">/&gt;</span>
</span><span class="line">        <span class="k">in</span> <span class="nx">between</span> <span class="nx">my</span> <span class="nx">text</span><span class="p">.</span>
</span><span class="line">      <span class="o">&lt;</span><span class="err">/Text&gt;</span>
</span><span class="line">    <span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="nx">AppRegistry</span><span class="p">.</span><span class="nx">registerComponent</span><span class="p">(</span><span class="s1">&#39;BlueIsCool&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">BlueIsCool</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<blockquote>
ä¸ºäº†ä½¿ç”¨æ­¤åŠŸèƒ½ï¼Œæ‚¨å¿…é¡»ç»™è§†å›¾ä¸€ä¸ªå®½åº¦å’Œé«˜åº¦ã€‚
</blockquote>
</p>
<h3>
å®¹å™¨
</h3>
<p>
<text>å…ƒç´ ç›¸å¯¹äºå¸ƒå±€æ˜¯ç‰¹æ®Šçš„ï¼šå†…éƒ¨çš„ä¸€åˆ‡ä¸å†ä½¿ç”¨flexboxå¸ƒå±€ï¼Œè€Œæ˜¯ä½¿ç”¨æ–‡æœ¬å¸ƒå±€ã€‚ è¿™æ„å‘³ç€<text>ä¸­çš„å…ƒç´ ä¸å†æ˜¯çŸ©å½¢ï¼Œè€Œæ˜¯å½“å®ƒä»¬çœ‹åˆ°è¡Œçš„æœ«å°¾æ—¶æ¢è¡Œã€‚
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;Text&gt;</span>
</span><span class="line">  <span class="nt">&lt;Text&gt;</span>First part and <span class="nt">&lt;/Text&gt;</span>
</span><span class="line">  <span class="nt">&lt;Text&gt;</span>second part<span class="nt">&lt;/Text&gt;</span>
</span><span class="line"><span class="nt">&lt;/Text&gt;</span>
</span><span class="line">// Text container: all the text flows as if it was one
</span><span class="line">// |First part |
</span><span class="line">// |and second |
</span><span class="line">// |part       |
</span><span class="line">
</span><span class="line"><span class="nt">&lt;View&gt;</span>
</span><span class="line">  <span class="nt">&lt;Text&gt;</span>First part and <span class="nt">&lt;/Text&gt;</span>
</span><span class="line">  <span class="nt">&lt;Text&gt;</span>second part<span class="nt">&lt;/Text&gt;</span>
</span><span class="line"><span class="nt">&lt;/View&gt;</span>
</span><span class="line">// View container: each text is its own block
</span><span class="line">// |First part |
</span><span class="line">// |and        |
</span><span class="line">// |second part|
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3>
æœ‰é™æ ·å¼ç»§æ‰¿
</h3>
<p>
åœ¨ç½‘ç»œä¸Šï¼Œè®¾ç½®æ•´ä¸ªæ–‡æ¡£çš„å­—ä½“ç³»åˆ—å’Œå¤§å°çš„é€šå¸¸æ–¹æ³•æ˜¯å†™ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class="css"><span class="line"><span class="c">/* CSS, *not* React Native */</span>
</span><span class="line"><span class="nt">html</span> <span class="p">{</span>
</span><span class="line">  <span class="k">font-family</span><span class="o">:</span> <span class="s1">&#39;lucida grande&#39;</span><span class="o">,</span> <span class="n">tahoma</span><span class="o">,</span> <span class="n">verdana</span><span class="o">,</span> <span class="n">arial</span><span class="o">,</span> <span class="k">sans-serif</span><span class="p">;</span>
</span><span class="line">  <span class="k">font-size</span><span class="o">:</span> <span class="m">11px</span><span class="p">;</span>
</span><span class="line">  <span class="k">color</span><span class="o">:</span> <span class="m">#141823</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
å½“æµè§ˆå™¨è¯•å›¾æ¸²æŸ“æ–‡æœ¬èŠ‚ç‚¹æ—¶ï¼Œå®ƒå°†ä¸€ç›´åˆ°æ ‘çš„æ ¹å…ƒç´ ï¼Œå¹¶æ‰¾åˆ°ä¸€ä¸ªå…·æœ‰font-sizeå±æ€§çš„å…ƒç´ ã€‚ è¿™ä¸ªç³»ç»Ÿçš„ä¸€ä¸ªæ„æƒ³ä¸åˆ°çš„å±æ€§æ˜¯ä»»ä½•èŠ‚ç‚¹éƒ½å¯ä»¥æœ‰font-sizeå±æ€§ï¼ŒåŒ…æ‹¬ä¸€ä¸ª<div>ã€‚ è¿™æ˜¯ä¸ºäº†æ–¹ä¾¿ï¼Œå³ä½¿ä¸æ˜¯çœŸçš„è¯­ä¹‰æ­£ç¡®ã€‚

åœ¨React Nativeä¸­ï¼Œæˆ‘ä»¬å¯¹å®ƒæ›´ä¸¥æ ¼ï¼šä½ å¿…é¡»å°†æ‰€æœ‰çš„æ–‡æœ¬èŠ‚ç‚¹åŒ…è£…åœ¨<text>ç»„ä»¶å†…; æ‚¨ä¸èƒ½åœ¨<view>ä¸‹ç›´æ¥æ”¾ç½®æ–‡æœ¬èŠ‚ç‚¹ã€‚
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class="html"><span class="line">// BAD: will raise exception, can&#39;t have a text node as child of a <span class="nt">&lt;View&gt;</span>
</span><span class="line"><span class="nt">&lt;View&gt;</span>
</span><span class="line">  Some text
</span><span class="line"><span class="nt">&lt;/View&gt;</span>
</span><span class="line">
</span><span class="line">// GOOD
</span><span class="line"><span class="nt">&lt;View&gt;</span>
</span><span class="line">  <span class="nt">&lt;Text&gt;</span>
</span><span class="line">    Some text
</span><span class="line">  <span class="nt">&lt;/Text&gt;</span>
</span><span class="line"><span class="nt">&lt;/View&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
æ‚¨è¿˜å¤±å»ä¸ºæ•´ä¸ªå­æ ‘è®¾ç½®é»˜è®¤å­—ä½“çš„èƒ½åŠ›ã€‚ åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ä¸€è‡´çš„å­—ä½“å’Œå¤§å°çš„å»ºè®®æ–¹æ³•æ˜¯åˆ›å»ºä¸€ä¸ªåŒ…å«å®ƒä»¬çš„ç»„ä»¶MyAppTextï¼Œå¹¶åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­ä½¿ç”¨æ­¤ç»„ä»¶ã€‚ æ‚¨è¿˜å¯ä»¥ä½¿ç”¨æ­¤ç»„ä»¶ä¸ºå…¶ä»–ç±»å‹çš„æ–‡æœ¬åˆ›å»ºæ›´å…·ä½“çš„ç»„ä»¶ï¼Œå¦‚MyAppHeaderTextã€‚
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;View&gt;</span>
</span><span class="line">  <span class="nt">&lt;MyAppText&gt;</span>Text styled with the default font for the entire application<span class="nt">&lt;/MyAppText&gt;</span>
</span><span class="line">  <span class="nt">&lt;MyAppHeaderText&gt;</span>Text styled as a header<span class="nt">&lt;/MyAppHeaderText&gt;</span>
</span><span class="line"><span class="nt">&lt;/View&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
å‡è®¾MyAppTextæ˜¯ä¸€ä¸ªé€šè¿‡æ ·å¼ç®€å•åœ°å°†å…¶å­ä»£æ¸²æŸ“ä¸ºTextç»„ä»¶çš„ç»„ä»¶ï¼Œåˆ™MyAppHeaderTextå¯ä»¥å®šä¹‰å¦‚ä¸‹ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">class</span> <span class="nx">MyAppHeaderText</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="o">&lt;</span><span class="nx">MyAppText</span><span class="o">&gt;</span>
</span><span class="line">      <span class="o">&lt;</span><span class="nx">Text</span> <span class="nx">style</span><span class="o">=</span><span class="p"></span><span class="o">&gt;</span>
</span><span class="line">        <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">}</span>
</span><span class="line">      <span class="o">&lt;</span><span class="err">/Text&gt;</span>
</span><span class="line">    <span class="o">&lt;</span><span class="err">/MyAppText&gt;</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
ä»¥è¿™ç§æ–¹å¼ç»„åˆMyAppTextç¡®ä¿æˆ‘ä»¬ä»é¡¶çº§ç»„ä»¶è·å–æ ·å¼ï¼Œä½†è®©æˆ‘ä»¬èƒ½å¤Ÿåœ¨ç‰¹å®šç”¨ä¾‹ä¸­æ·»åŠ /è¦†ç›–å®ƒä»¬ã€‚

React Nativeä»ç„¶å…·æœ‰æ ·å¼ç»§æ‰¿çš„æ¦‚å¿µï¼Œä½†ä»…é™äºæ–‡æœ¬å­æ ‘ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç¬¬äºŒéƒ¨åˆ†å°†æ˜¯ç²—ä½“å’Œçº¢è‰²ã€‚
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;Text</span> <span class="na">style=</span><span class="s"></span><span class="nt">&gt;</span>
</span><span class="line">  I am bold
</span><span class="line">  <span class="nt">&lt;Text</span> <span class="na">style=</span><span class="s"></span><span class="nt">&gt;</span>
</span><span class="line">    and red
</span><span class="line">  <span class="nt">&lt;/Text&gt;</span>
</span><span class="line"><span class="nt">&lt;/Text&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
æˆ‘ä»¬ç›¸ä¿¡ï¼Œè¿™ç§æ›´å—é™åˆ¶çš„æ ·å¼æ–‡æœ¬çš„æ–¹å¼å°†äº§ç”Ÿæ›´å¥½çš„åº”ç”¨ç¨‹åºï¼š
<ul>
<li>ï¼ˆå¼€å‘è€…ï¼‰Reactç»„ä»¶çš„è®¾è®¡è€ƒè™‘äº†å¼ºçƒˆçš„éš”ç¦»ï¼šä½ åº”è¯¥èƒ½å¤Ÿåœ¨åº”ç”¨ç¨‹åºçš„ä»»ä½•åœ°æ–¹æ”¾ç½®ä¸€ä¸ªç»„ä»¶ï¼Œç›¸ä¿¡åªè¦<code>props</code>æ˜¯ç›¸åŒçš„ï¼Œå®ƒå°†çœ‹èµ·æ¥å’Œè¡Œä¸ºç›¸åŒçš„æ–¹å¼ã€‚ å¯ä»¥ä»<code>props</code>å¤–ç»§æ‰¿çš„æ–‡æœ¬å±æ€§ä¼šç ´åè¿™ç§éš”ç¦»ã€‚</li>
<li>ï¼ˆå®ç°è€…ï¼‰React Nativeçš„å®ç°ä¹Ÿè¢«ç®€åŒ–ã€‚ æˆ‘ä»¬ä¸éœ€è¦åœ¨æ¯ä¸ªå•ä¸ªå…ƒç´ ä¸Šéƒ½æœ‰ä¸€ä¸ªfontFamilyå­—æ®µï¼Œå¹¶ä¸”æˆ‘ä»¬ä¸éœ€è¦åœ¨æ¯æ¬¡æ˜¾ç¤ºæ–‡æœ¬èŠ‚ç‚¹æ—¶éƒ½å°†æ ‘éå†åˆ°æ ¹ã€‚ æ ·å¼ç»§æ‰¿ä»…åœ¨åŸç”ŸTextç»„ä»¶å†…ç¼–ç ï¼Œä¸ä¼šæ³„æ¼åˆ°å…¶ä»–ç»„ä»¶æˆ–ç³»ç»Ÿæœ¬èº«ã€‚</li>
</ul>

<p class="post-footer">
                        written by <a href="http://ITMonkeyLife.github.io/Blog">Rick</a>&nbsp;posted at <a href="http://ITMonkeyLife.github.io/Blog">http://ITMonkeyLife.github.io/Blog</a></p>
</view></text></div></p></text></text></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[React Nativeçš„å¸ƒå±€]]></title>
    <link href="http://ITMonkeyLife.github.io/Blog/blog/2016/11/22/react-nativede-style/"/>
    <updated>2016-11-22T09:48:39+08:00</updated>
    <id>http://ITMonkeyLife.github.io/Blog/blog/2016/11/22/react-nativede-style</id>
    <content type="html"><![CDATA[<h2>
Styleæ ·å¼
</h2>
<p>
ä½¿ç”¨React Nativeï¼Œä¸è¦ä½¿ç”¨ç‰¹æ®Šè¯­è¨€æˆ–è¯­æ³•æ¥å®šä¹‰æ ·å¼ã€‚ ä½ åªéœ€ä½¿ç”¨JavaScriptæ¥è®¾è®¡ä½ çš„åº”ç”¨ç¨‹åºã€‚ æ‰€æœ‰çš„æ ¸å¿ƒç»„ä»¶æ¥å—<code>props</code>å‘½åé£æ ¼ã€‚ æ ·å¼åç§°å’Œå€¼é€šå¸¸åŒ¹é…CSSåœ¨Webä¸Šçš„å·¥ä½œæ–¹å¼ï¼Œé™¤äº†åç§°è¢«å†™ä¸º<em>backgroundColor</em>è€Œä¸æ˜¯åƒ<em>background-color</em>ã€‚

æ ·å¼propå¯ä»¥æ˜¯ä¸€ä¸ªæ™®é€šçš„æ—§JavaScriptå¯¹è±¡ã€‚ è¿™æ˜¯æœ€ç®€å•çš„ï¼Œæˆ‘ä»¬é€šå¸¸ç”¨äºç¤ºä¾‹ä»£ç ã€‚ æ‚¨è¿˜å¯ä»¥ä¼ é€’æ ·å¼æ•°ç»„ - æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªæ ·å¼å…·æœ‰ä¼˜å…ˆçº§ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨å®ƒæ¥ç»§æ‰¿æ ·å¼ã€‚

ç”±äºç»„ä»¶çš„å¤æ‚æ€§å¢åŠ ï¼Œä½¿ç”¨<em>StyleSheet.create</em>åœ¨ä¸€ä¸ªä½ç½®å®šä¹‰å¤šä¸ªæ ·å¼é€šå¸¸æ›´åŠ æ¸…æ™°ã€‚ è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span><span class="line"><span class="kr">import</span> <span class="p">{</span> <span class="nx">AppRegistry</span><span class="p">,</span> <span class="nx">StyleSheet</span><span class="p">,</span> <span class="nx">Text</span><span class="p">,</span> <span class="nx">View</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-native&#39;</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="kr">class</span> <span class="nx">LotsOfStyles</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="p">(</span>
</span><span class="line">      <span class="o">&lt;</span><span class="nx">View</span><span class="o">&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">Text</span> <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">red</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">just</span> <span class="nx">red</span><span class="o">&lt;</span><span class="err">/Text&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">Text</span> <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">styles</span><span class="p">.</span><span class="nx">bigblue</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">just</span> <span class="nx">bigblue</span><span class="o">&lt;</span><span class="err">/Text&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">Text</span> <span class="nx">style</span><span class="o">=</span><span class="p">{[</span><span class="nx">styles</span><span class="p">.</span><span class="nx">bigblue</span><span class="p">,</span> <span class="nx">styles</span><span class="p">.</span><span class="nx">red</span><span class="p">]}</span><span class="o">&gt;</span><span class="nx">bigblue</span><span class="p">,</span> <span class="nx">then</span> <span class="nx">red</span><span class="o">&lt;</span><span class="err">/Text&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">Text</span> <span class="nx">style</span><span class="o">=</span><span class="p">{[</span><span class="nx">styles</span><span class="p">.</span><span class="nx">red</span><span class="p">,</span> <span class="nx">styles</span><span class="p">.</span><span class="nx">bigblue</span><span class="p">]}</span><span class="o">&gt;</span><span class="nx">red</span><span class="p">,</span> <span class="nx">then</span> <span class="nx">bigblue</span><span class="o">&lt;</span><span class="err">/Text&gt;</span>
</span><span class="line">      <span class="o">&lt;</span><span class="err">/View&gt;</span>
</span><span class="line">    <span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kr">const</span> <span class="nx">styles</span> <span class="o">=</span> <span class="nx">StyleSheet</span><span class="p">.</span><span class="nx">create</span><span class="p">({</span>
</span><span class="line">  <span class="nx">bigblue</span><span class="o">:</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span>
</span><span class="line">    <span class="nx">fontWeight</span><span class="o">:</span> <span class="s1">&#39;bold&#39;</span><span class="p">,</span>
</span><span class="line">    <span class="nx">fontSize</span><span class="o">:</span> <span class="mi">30</span><span class="p">,</span>
</span><span class="line">  <span class="p">},</span>
</span><span class="line">  <span class="nx">red</span><span class="o">:</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span>
</span><span class="line">  <span class="p">},</span>
</span><span class="line"><span class="p">});</span>
</span><span class="line">
</span><span class="line"><span class="nx">AppRegistry</span><span class="p">.</span><span class="nx">registerComponent</span><span class="p">(</span><span class="s1">&#39;LotsOfStyles&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">LotsOfStyles</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
ä¸€ä¸ªå¸¸è§çš„æ¨¡å¼æ˜¯ä½¿ä½ çš„ç»„ä»¶æ¥å—ä¸€ä¸ªæ ·å¼å±æ€§ï¼Œåè¿‡æ¥ï¼Œå®ƒè¢«ç”¨äºæ ·å¼å­ç»„ä»¶ã€‚ ä½ å¯ä»¥ä½¿ç”¨å®ƒæ¥ä½¿æ ·å¼â€œçº§è”â€ä»–ä»¬åœ¨CSSä¸­çš„æ–¹å¼ã€‚
<!--more-->
æœ‰å¾ˆå¤šè‡ªå®šä¹‰æ–‡æœ¬æ ·å¼çš„æ–¹æ³•ã€‚ æŸ¥çœ‹<a href="">Textç»„ä»¶å¼•ç”¨</a>ä»¥è·å–å®Œæ•´åˆ—è¡¨ã€‚

ç°åœ¨ä½ å¯ä»¥è®©ä½ çš„æ–‡æœ¬ç¾ä¸½ã€‚ æˆä¸ºé£æ ¼å¤§å¸ˆçš„ä¸‹ä¸€æ­¥æ˜¯å­¦ä¹ å¦‚ä½•æ§åˆ¶ç»„ä»¶å¤§å°ã€‚
</p>
<h2>
é«˜å’Œå®½
</h2>
<p>
ç»„ä»¶çš„é«˜åº¦å’Œå®½åº¦å†³å®šäº†å…¶åœ¨å±å¹•ä¸Šçš„å¤§å°ã€‚
</p>
<h3>
å›ºå®šå°ºå¯¸
</h3>
<p>
è®¾ç½®ç»„ä»¶å°ºå¯¸çš„æœ€ç®€å•çš„æ–¹æ³•æ˜¯é€šè¿‡å‘æ ·å¼æ·»åŠ å›ºå®šçš„å®½åº¦å’Œé«˜åº¦ã€‚ React Nativeä¸­çš„æ‰€æœ‰ç»´éƒ½æ˜¯æ— å•ä½çš„ï¼Œè¡¨ç¤ºä¸å¯†åº¦æ— å…³çš„åƒç´ ã€‚
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
</pre></td><td class="code"><pre><code class="html"><span class="line">import React, { Component } from &#39;react&#39;;
</span><span class="line">import { AppRegistry, View } from &#39;react-native&#39;;
</span><span class="line">
</span><span class="line">class FixedDimensionsBasics extends Component {
</span><span class="line">  render() {
</span><span class="line">    return (
</span><span class="line">      <span class="nt">&lt;View&gt;</span>
</span><span class="line">        <span class="nt">&lt;View</span> <span class="na">style=</span><span class="s">{</span> <span class="err">{</span><span class="na">width:</span> <span class="na">50</span><span class="err">,</span> <span class="na">height:</span> <span class="na">50</span><span class="err">,</span> <span class="na">backgroundColor:</span> <span class="err">&#39;</span><span class="na">powderblue</span><span class="err">&#39;}</span> <span class="err">}</span> <span class="nt">/&gt;</span>
</span><span class="line">        <span class="nt">&lt;View</span> <span class="na">style=</span><span class="s">{</span> <span class="err">{</span><span class="na">width:</span> <span class="na">100</span><span class="err">,</span> <span class="na">height:</span> <span class="na">100</span><span class="err">,</span> <span class="na">backgroundColor:</span> <span class="err">&#39;</span><span class="na">skyblue</span><span class="err">&#39;}</span> <span class="err">}</span> <span class="nt">/&gt;</span>
</span><span class="line">        <span class="nt">&lt;View</span> <span class="na">style=</span><span class="s">{</span> <span class="err">{</span><span class="na">width:</span> <span class="na">150</span><span class="err">,</span> <span class="na">height:</span> <span class="na">150</span><span class="err">,</span> <span class="na">backgroundColor:</span> <span class="err">&#39;</span><span class="na">steelblue</span><span class="err">&#39;}</span> <span class="err">}</span> <span class="nt">/&gt;</span>
</span><span class="line">      <span class="nt">&lt;/View&gt;</span>
</span><span class="line">    );
</span><span class="line">  }
</span><span class="line">};
</span><span class="line">
</span><span class="line">AppRegistry.registerComponent(&#39;AwesomeProject&#39;, () =&gt; FixedDimensionsBasics);
</span></code></pre></td></tr></table></div></figure></notextile></div>
ä»¥æ­¤æ–¹å¼è®¾ç½®å°ºå¯¸å¯¹äºå§‹ç»ˆæŒ‰ç…§å®Œå…¨ç›¸åŒçš„å¤§å°å‘ˆç°çš„ç»„ä»¶è€Œè¨€æ˜¯å¸¸è§çš„ï¼Œè€Œä¸ç®¡å±å¹•å°ºå¯¸å¦‚ä½•ã€‚
</p>
<h3>
Flexå°ºå¯¸
</h3>
<p>
åœ¨ç»„ä»¶çš„æ ·å¼ä¸­ä½¿ç”¨flexï¼Œä»¥æ ¹æ®å¯ç”¨ç©ºé—´åŠ¨æ€åœ°å±•å¼€å’Œç¼©å°ç»„ä»¶ã€‚ é€šå¸¸ä½ å°†ä½¿ç”¨flexï¼š1ï¼Œå®ƒå‘Šè¯‰ç»„ä»¶å¡«å……æ‰€æœ‰å¯ç”¨ç©ºé—´ï¼Œåœ¨ç›¸åŒçš„çˆ¶ç»„ä»¶ä¹‹é—´å‡åŒ€åˆ†é…ã€‚ ç»™å®šçš„flexè¶Šå¤§ï¼Œç»„ä»¶ä¸å…¶å…„å¼ŸèŠ‚ç‚¹ç›¸æ¯”æ‰€éœ€çš„ç©ºé—´æ¯”ä¾‹è¶Šé«˜ã€‚
<blockquote>
å¦‚æœç»„ä»¶çš„çˆ¶çº§çš„å°ºå¯¸å¤§äº0ï¼Œåˆ™ç»„ä»¶åªèƒ½æ‰©å±•ä»¥å¡«å……å¯ç”¨ç©ºé—´ã€‚å¦‚æœçˆ¶çº§ç»„ä»¶ä¸å…·æœ‰å›ºå®šå®½åº¦å’Œé«˜åº¦æˆ–flexï¼Œåˆ™çˆ¶çº§çš„å°ºå¯¸ä¸º0ï¼Œè€Œflexå­ç»„ä»¶å°†ä¸å¯è§ã€‚
</blockquote>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
</pre></td><td class="code"><pre><code class="html"><span class="line">import React, { Component } from &#39;react&#39;;
</span><span class="line">import { AppRegistry, View } from &#39;react-native&#39;;
</span><span class="line">
</span><span class="line">class FlexDimensionsBasics extends Component {
</span><span class="line">  render() {
</span><span class="line">    return (
</span><span class="line">      // Try removing the `flex: 1` on the parent View.
</span><span class="line">      // The parent will not have dimensions, so the children can&#39;t expand.
</span><span class="line">      // What if you add `height: 300` instead of `flex: 1`?
</span><span class="line">      <span class="nt">&lt;View</span> <span class="na">style=</span><span class="s">{</span> <span class="err">{</span><span class="na">flex:</span> <span class="na">1</span><span class="err">}</span> <span class="err">}</span><span class="nt">&gt;</span>
</span><span class="line">        <span class="nt">&lt;View</span> <span class="na">style=</span><span class="s">{</span> <span class="err">{</span><span class="na">flex:</span> <span class="na">1</span><span class="err">,</span> <span class="na">backgroundColor:</span> <span class="err">&#39;</span><span class="na">powderblue</span><span class="err">&#39;}</span> <span class="err">}</span> <span class="nt">/&gt;</span>
</span><span class="line">        <span class="nt">&lt;View</span> <span class="na">style=</span><span class="s">{</span> <span class="err">{</span><span class="na">flex:</span> <span class="na">2</span><span class="err">,</span> <span class="na">backgroundColor:</span> <span class="err">&#39;</span><span class="na">skyblue</span><span class="err">&#39;}</span> <span class="err">}</span> <span class="nt">/&gt;</span>
</span><span class="line">        <span class="nt">&lt;View</span> <span class="na">style=</span><span class="s">{</span> <span class="err">{</span><span class="na">flex:</span> <span class="na">3</span><span class="err">,</span> <span class="na">backgroundColor:</span> <span class="err">&#39;</span><span class="na">steelblue</span><span class="err">&#39;}</span> <span class="err">}</span> <span class="nt">/&gt;</span>
</span><span class="line">      <span class="nt">&lt;/View&gt;</span>
</span><span class="line">    );
</span><span class="line">  }
</span><span class="line">};
</span><span class="line">
</span><span class="line">AppRegistry.registerComponent(&#39;AwesomeProject&#39;, () =&gt; FlexDimensionsBasics);
</span></code></pre></td></tr></table></div></figure></notextile></div>
åœ¨æ‚¨å¯ä»¥æ§åˆ¶ç»„ä»¶çš„å¤§å°åï¼Œä¸‹ä¸€æ­¥æ˜¯å­¦ä¹ å¦‚ä½•å°†å…¶æ”¾åœ¨å±å¹•ä¸Šã€‚
</p>
<h2>
ä½¿ç”¨Flexboxå¸ƒå±€
</h2>
<p>
ç»„ä»¶å¯ä»¥ä½¿ç”¨flexboxç®—æ³•æŒ‡å®šå…¶å­é¡¹çš„å¸ƒå±€ã€‚ Flexboxæ—¨åœ¨åœ¨ä¸åŒçš„å±å¹•å°ºå¯¸ä¸Šæä¾›ä¸€è‡´çš„å¸ƒå±€ã€‚

ä½ é€šå¸¸ä¼šä½¿ç”¨flexDirectionï¼ŒalignItemså’ŒjustifyContentçš„ç»„åˆæ¥å®ç°æ­£ç¡®çš„å¸ƒå±€ã€‚
<blockquote>
Flexboxåœ¨React Nativeä¸­çš„å·¥ä½œæ–¹å¼ä¸åœ¨Webä¸Šçš„CSSä¸­çš„å·¥ä½œæ–¹å¼ç›¸åŒï¼Œä½†æœ‰ä¸€äº›ä¾‹å¤–ã€‚ é»˜è®¤å€¼ä¸åŒï¼ŒflexDirectioné»˜è®¤ä¸ºcolumnè€Œä¸æ˜¯rowï¼ŒalignItemsé»˜è®¤ä¸ºstretchè€Œä¸æ˜¯flex-startï¼Œflexå‚æ•°åªæ”¯æŒä¸€ä¸ªæ•°å­—ã€‚
</blockquote>
</p>
<h3>
Flexæ–¹å‘
</h3>
<p>
å°†flexDirectionæ·»åŠ åˆ°ç»„ä»¶çš„æ ·å¼ç¡®å®šå…¶å¸ƒå±€çš„ä¸»è½´ã€‚ å­©å­ä»¬åº”è¯¥æ˜¯æ°´å¹³ï¼ˆè¡Œï¼‰è¿˜æ˜¯å‚ç›´ï¼ˆåˆ—ï¼‰ç»„ç»‡ï¼Ÿ é»˜è®¤å€¼ä¸ºcolumnã€‚
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
</pre></td><td class="code"><pre><code class="html"><span class="line">import React, { Component } from &#39;react&#39;;
</span><span class="line">import { AppRegistry, View } from &#39;react-native&#39;;
</span><span class="line">
</span><span class="line">class FlexDirectionBasics extends Component {
</span><span class="line">  render() {
</span><span class="line">    return (
</span><span class="line">      // Try setting `flexDirection` to `column`.
</span><span class="line">      <span class="nt">&lt;View</span> <span class="na">style=</span><span class="s">{</span> <span class="err">{</span><span class="na">flex:</span> <span class="na">1</span><span class="err">,</span> <span class="na">flexDirection:</span> <span class="err">&#39;</span><span class="na">row</span><span class="err">&#39;}</span> <span class="err">}</span><span class="nt">&gt;</span>
</span><span class="line">        <span class="nt">&lt;View</span> <span class="na">style=</span><span class="s">{</span> <span class="err">{</span><span class="na">width:</span> <span class="na">50</span><span class="err">,</span> <span class="na">height:</span> <span class="na">50</span><span class="err">,</span> <span class="na">backgroundColor:</span> <span class="err">&#39;</span><span class="na">powderblue</span><span class="err">&#39;}</span> <span class="err">}</span> <span class="nt">/&gt;</span>
</span><span class="line">        <span class="nt">&lt;View</span> <span class="na">style=</span><span class="s">{</span> <span class="err">{</span><span class="na">width:</span> <span class="na">50</span><span class="err">,</span> <span class="na">height:</span> <span class="na">50</span><span class="err">,</span> <span class="na">backgroundColor:</span> <span class="err">&#39;</span><span class="na">skyblue</span><span class="err">&#39;}</span> <span class="err">}</span> <span class="nt">/&gt;</span>
</span><span class="line">        <span class="nt">&lt;View</span> <span class="na">style=</span><span class="s">{</span> <span class="err">{</span><span class="na">width:</span> <span class="na">50</span><span class="err">,</span> <span class="na">height:</span> <span class="na">50</span><span class="err">,</span> <span class="na">backgroundColor:</span> <span class="err">&#39;</span><span class="na">steelblue</span><span class="err">&#39;}</span> <span class="err">}</span> <span class="nt">/&gt;</span>
</span><span class="line">      <span class="nt">&lt;/View&gt;</span>
</span><span class="line">    );
</span><span class="line">  }
</span><span class="line">};
</span><span class="line">
</span><span class="line">AppRegistry.registerComponent(&#39;AwesomeProject&#39;, () =&gt; FlexDirectionBasics);
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>
<h3>
è¯æ˜å†…å®¹
</h3>
<p>
å°†justifyContentæ·»åŠ åˆ°ç»„ä»¶çš„æ ·å¼ç¡®å®šæ²¿ä¸»è½´çš„å­é¡¹åˆ†å¸ƒã€‚ æ˜¯å¦åº”è¯¥åœ¨å¼€å§‹ï¼Œä¸­å¿ƒï¼Œç»“æŸæˆ–å‡åŒ€åˆ†å¸ƒchildrenï¼Ÿ å¯ç”¨é€‰é¡¹åŒ…æ‹¬flex-startï¼Œcenterï¼Œflex-endï¼Œspace-aroundå’Œspace-betweenã€‚
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
</pre></td><td class="code"><pre><code class="html"><span class="line">import React, { Component } from &#39;react&#39;;
</span><span class="line">import { AppRegistry, View } from &#39;react-native&#39;;
</span><span class="line">
</span><span class="line">class JustifyContentBasics extends Component {
</span><span class="line">  render() {
</span><span class="line">    return (
</span><span class="line">      // Try setting `justifyContent` to `center`.
</span><span class="line">      // Try setting `flexDirection` to `row`.
</span><span class="line">      <span class="nt">&lt;View</span> <span class="na">style=</span><span class="s">{</span> <span class="err">{</span>
</span><span class="line">        <span class="na">flex:</span> <span class="na">1</span><span class="err">,</span>
</span><span class="line">        <span class="na">flexDirection:</span> <span class="err">&#39;</span><span class="na">column</span><span class="err">&#39;,</span>
</span><span class="line">        <span class="na">justifyContent:</span> <span class="err">&#39;</span><span class="na">space-between</span><span class="err">&#39;,</span>
</span><span class="line">      <span class="err">}</span> <span class="err">}</span><span class="nt">&gt;</span>
</span><span class="line">        <span class="nt">&lt;View</span> <span class="na">style=</span><span class="s">{</span> <span class="err">{</span><span class="na">width:</span> <span class="na">50</span><span class="err">,</span> <span class="na">height:</span> <span class="na">50</span><span class="err">,</span> <span class="na">backgroundColor:</span> <span class="err">&#39;</span><span class="na">powderblue</span><span class="err">&#39;}</span> <span class="err">}</span> <span class="nt">/&gt;</span>
</span><span class="line">        <span class="nt">&lt;View</span> <span class="na">style=</span><span class="s">{</span> <span class="err">{</span><span class="na">width:</span> <span class="na">50</span><span class="err">,</span> <span class="na">height:</span> <span class="na">50</span><span class="err">,</span> <span class="na">backgroundColor:</span> <span class="err">&#39;</span><span class="na">skyblue</span><span class="err">&#39;}</span> <span class="err">}</span> <span class="nt">/&gt;</span>
</span><span class="line">        <span class="nt">&lt;View</span> <span class="na">style=</span><span class="s">{</span> <span class="err">{</span><span class="na">width:</span> <span class="na">50</span><span class="err">,</span> <span class="na">height:</span> <span class="na">50</span><span class="err">,</span> <span class="na">backgroundColor:</span> <span class="err">&#39;</span><span class="na">steelblue</span><span class="err">&#39;}</span> <span class="err">}</span> <span class="nt">/&gt;</span>
</span><span class="line">      <span class="nt">&lt;/View&gt;</span>
</span><span class="line">    );
</span><span class="line">  }
</span><span class="line">};
</span><span class="line">
</span><span class="line">AppRegistry.registerComponent(&#39;AwesomeProject&#39;, () =&gt; JustifyContentBasics);
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>
<h3>
å¯¹é½
</h3>
<p>
å°†alignItemsæ·»åŠ åˆ°ç»„ä»¶çš„æ ·å¼ç¡®å®šæ²¿è¾…åŠ©è½´çš„å­å¯¹é½ï¼ˆå¦‚æœä¸»è½´æ˜¯è¡Œï¼Œåˆ™è¾…åŠ©è½´æ˜¯åˆ—ï¼Œåä¹‹äº¦ç„¶ï¼‰ã€‚ childrenåº”è¯¥åœ¨å¼€å§‹ï¼Œä¸­å¿ƒï¼Œç»“æŸï¼Œè¿˜æ˜¯ä¼¸å±•å¡«å……ï¼Ÿ å¯ç”¨é€‰é¡¹æœ‰flex-startï¼Œcenterï¼Œflex-endå’Œstretchã€‚
<blockquote>
ä¸ºäº†æ‹‰ä¼¸æœ‰æ•ˆæœï¼Œchildrenä¸å¾—æ²¿ç€è¾…åŠ©è½´å…·æœ‰å›ºå®šå°ºå¯¸ã€‚ åœ¨ä¸‹é¢çš„ç¤ºä¾‹ä¸­ï¼Œè®¾ç½®alignItemsï¼šstretchä¸æ‰§è¡Œä»»ä½•æ“ä½œï¼Œç›´åˆ°å®½åº¦ï¼š50ä»å­é¡¹ä¸­åˆ é™¤ã€‚
</blockquote>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
</pre></td><td class="code"><pre><code class="html"><span class="line">import React, { Component } from &#39;react&#39;;
</span><span class="line">import { AppRegistry, View } from &#39;react-native&#39;;
</span><span class="line">
</span><span class="line">class AlignItemsBasics extends Component {
</span><span class="line">  render() {
</span><span class="line">    return (
</span><span class="line">      // Try setting `alignItems` to &#39;flex-start&#39;
</span><span class="line">      // Try setting `justifyContent` to `flex-end`.
</span><span class="line">      // Try setting `flexDirection` to `row`.
</span><span class="line">      <span class="nt">&lt;View</span> <span class="na">style=</span><span class="s">{</span> <span class="err">{</span>
</span><span class="line">        <span class="na">flex:</span> <span class="na">1</span><span class="err">,</span>
</span><span class="line">        <span class="na">flexDirection:</span> <span class="err">&#39;</span><span class="na">column</span><span class="err">&#39;,</span>
</span><span class="line">        <span class="na">justifyContent:</span> <span class="err">&#39;</span><span class="na">center</span><span class="err">&#39;,</span>
</span><span class="line">        <span class="na">alignItems:</span> <span class="err">&#39;</span><span class="na">center</span><span class="err">&#39;,</span>
</span><span class="line">      <span class="err">}</span> <span class="err">}</span><span class="nt">&gt;</span>
</span><span class="line">        <span class="nt">&lt;View</span> <span class="na">style=</span><span class="s">{</span> <span class="err">{</span><span class="na">width:</span> <span class="na">50</span><span class="err">,</span> <span class="na">height:</span> <span class="na">50</span><span class="err">,</span> <span class="na">backgroundColor:</span> <span class="err">&#39;</span><span class="na">powderblue</span><span class="err">&#39;}</span> <span class="err">}</span> <span class="nt">/&gt;</span>
</span><span class="line">        <span class="nt">&lt;View</span> <span class="na">style=</span><span class="s">{</span> <span class="err">{</span><span class="na">width:</span> <span class="na">50</span><span class="err">,</span> <span class="na">height:</span> <span class="na">50</span><span class="err">,</span> <span class="na">backgroundColor:</span> <span class="err">&#39;</span><span class="na">skyblue</span><span class="err">&#39;}</span> <span class="err">}</span> <span class="nt">/&gt;</span>
</span><span class="line">        <span class="nt">&lt;View</span> <span class="na">style=</span><span class="s">{</span> <span class="err">{</span><span class="na">width:</span> <span class="na">50</span><span class="err">,</span> <span class="na">height:</span> <span class="na">50</span><span class="err">,</span> <span class="na">backgroundColor:</span> <span class="err">&#39;</span><span class="na">steelblue</span><span class="err">&#39;}</span> <span class="err">}</span> <span class="nt">/&gt;</span>
</span><span class="line">      <span class="nt">&lt;/View&gt;</span>
</span><span class="line">    );
</span><span class="line">  }
</span><span class="line">};
</span><span class="line">
</span><span class="line">AppRegistry.registerComponent(&#39;AwesomeProject&#39;, () =&gt; AlignItemsBasics);
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>
<h3>
æ·±å…¥æ¢è®¨
</h3>
<p>
æˆ‘ä»¬å·²ç»ä»‹ç»äº†åŸºç¡€çŸ¥è¯†ï¼Œä½†æ˜¯æœ‰è®¸å¤šå…¶ä»–æ ·å¼å¯èƒ½éœ€è¦å¸ƒå±€ã€‚ æ§åˆ¶å¸ƒå±€çš„é“å…·çš„å®Œæ•´åˆ—è¡¨åœ¨<a href="http://facebook.github.io/react-native/docs/layout-props.html">è¿™é‡Œ</a>è®°å½•ã€‚

æˆ‘ä»¬æ­£åœ¨æ¥è¿‘èƒ½å¤Ÿæ„å»ºä¸€ä¸ªçœŸæ­£çš„åº”ç”¨ç¨‹åºã€‚ æˆ‘ä»¬è¿˜ç¼ºå°‘ä¸€ä¸ªæ–¹æ³•æ¥æ¥å—ç”¨æˆ·è¾“å…¥ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬ç»§ç»­å­¦ä¹ å¦‚ä½•ä½¿ç”¨TextInputç»„ä»¶å¤„ç†æ–‡æœ¬è¾“å…¥ã€‚
</p>

<hr />

<p class="post-footer">
                        written by <a href="http://ITMonkeyLife.github.io/Blog">Rick</a>&nbsp;posted at <a href="http://ITMonkeyLife.github.io/Blog">http://ITMonkeyLife.github.io/Blog</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[React Nativeçš„State]]></title>
    <link href="http://ITMonkeyLife.github.io/Blog/blog/2016/11/22/react-nativede-state/"/>
    <updated>2016-11-22T09:45:39+08:00</updated>
    <id>http://ITMonkeyLife.github.io/Blog/blog/2016/11/22/react-nativede-state</id>
    <content type="html"><![CDATA[<p>
æœ‰ä¸¤ç§ç±»å‹çš„æ•°æ®æ§åˆ¶ç»„ä»¶ï¼špropså’Œstateã€‚ propsç”±çˆ¶èŠ‚ç‚¹è®¾ç½®ï¼Œå®ƒä»¬åœ¨ç»„ä»¶çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­éƒ½æ˜¯å›ºå®šçš„ã€‚ å¯¹äºè¦æ”¹å˜çš„æ•°æ®ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨çŠ¶æ€ã€‚

ä¸€èˆ¬æ¥è¯´ï¼Œä½ åº”è¯¥åœ¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–çŠ¶æ€ï¼Œç„¶åå½“ä½ æƒ³æ”¹å˜å®ƒæ—¶è°ƒç”¨setStateã€‚

ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æƒ³è®©æ–‡æœ¬ä¸€ç›´é—ªçƒã€‚ æ–‡æœ¬æœ¬èº«åœ¨åˆ›å»ºé—ªçƒç»„ä»¶æ—¶è®¾ç½®ä¸€æ¬¡ï¼Œå› æ­¤æ–‡æœ¬æœ¬èº«æ˜¯ä¸€ä¸ª<code>props</code>ã€‚ â€œæ–‡æœ¬æ˜¯å¦å½“å‰æ‰“å¼€æˆ–å…³é—­â€éšæ—¶é—´æ”¹å˜ï¼Œæ‰€ä»¥åº”ä¿æŒçŠ¶æ€ã€‚
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span><span class="line"><span class="kr">import</span> <span class="p">{</span> <span class="nx">AppRegistry</span><span class="p">,</span> <span class="nx">Text</span><span class="p">,</span> <span class="nx">View</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-native&#39;</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="kr">class</span> <span class="nx">Blink</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="kr">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
</span><span class="line">    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span><span class="nx">showText</span><span class="o">:</span> <span class="kc">true</span><span class="p">};</span>
</span><span class="line">
</span><span class="line">    <span class="c1">// Toggle the state every second</span>
</span><span class="line">    <span class="nx">setInterval</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span><span class="line">      <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span> <span class="nx">showText</span><span class="o">:</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">showText</span> <span class="p">});</span>
</span><span class="line">    <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">
</span><span class="line">  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="kd">let</span> <span class="nx">display</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">showText</span> <span class="o">?</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">text</span> <span class="o">:</span> <span class="s1">&#39; &#39;</span><span class="p">;</span>
</span><span class="line">    <span class="k">return</span> <span class="p">(</span>
</span><span class="line">      <span class="o">&lt;</span><span class="nx">Text</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">display</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/Text&gt;</span>
</span><span class="line">    <span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kr">class</span> <span class="nx">BlinkApp</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="p">(</span>
</span><span class="line">      <span class="o">&lt;</span><span class="nx">View</span><span class="o">&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">Blink</span> <span class="nx">text</span><span class="o">=</span><span class="s1">&#39;I love to blink&#39;</span> <span class="o">/&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">Blink</span> <span class="nx">text</span><span class="o">=</span><span class="s1">&#39;Yes blinking is so great&#39;</span> <span class="o">/&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">Blink</span> <span class="nx">text</span><span class="o">=</span><span class="s1">&#39;Why did they ever take this out of HTML&#39;</span> <span class="o">/&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">Blink</span> <span class="nx">text</span><span class="o">=</span><span class="s1">&#39;Look at me look at me look at me&#39;</span> <span class="o">/&gt;</span>
</span><span class="line">      <span class="o">&lt;</span><span class="err">/View&gt;</span>
</span><span class="line">    <span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="nx">AppRegistry</span><span class="p">.</span><span class="nx">registerComponent</span><span class="p">(</span><span class="s1">&#39;BlinkApp&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">BlinkApp</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæ‚¨å¯èƒ½ä¸ä¼šä½¿ç”¨è®¡æ—¶å™¨è®¾ç½®çŠ¶æ€ã€‚ æ‚¨å¯ä»¥åœ¨ä»æœåŠ¡å™¨æ”¶åˆ°æ–°æ•°æ®æˆ–ç”¨æˆ·è¾“å…¥æ—¶è®¾ç½®çŠ¶æ€ã€‚ æ‚¨è¿˜å¯ä»¥ä½¿ç”¨çŠ¶æ€å®¹å™¨ï¼ˆå¦‚<a href="http://redux.js.org/index.html">Redux</a>ï¼‰æ¥æ§åˆ¶æ•°æ®æµã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨å°†ä½¿ç”¨Reduxæ¥ä¿®æ”¹çŠ¶æ€ï¼Œè€Œä¸æ˜¯ç›´æ¥è°ƒç”¨setStateã€‚
<!--more-->
Stateçš„å·¥ä½œæ–¹å¼ä¸Reactä¸­çš„ç›¸åŒï¼Œå› æ­¤æœ‰å…³å¤„ç†çŠ¶æ€çš„æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œå¯ä»¥æŸ¥çœ‹<a href="https://facebook.github.io/react/docs/component-api.html">React.Component API</a>ã€‚

åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œä½ å¯èƒ½ä¼šæ„Ÿåˆ°æ‡Šæ¼ï¼Œæˆ‘ä»¬çš„å¤§å¤šæ•°ç¤ºä¾‹è¿„ä»Šä¸ºæ­¢ä½¿ç”¨æ— èŠçš„é»˜è®¤é»‘è‰²æ–‡æœ¬ã€‚ ä¸ºäº†ä½¿äº‹æƒ…æ›´ç¾ä¸½ï¼Œä½ å¿…é¡»å­¦ä¹ é£æ ¼ã€‚
</p>
<hr />

<p class="post-footer">
                        written by <a href="http://ITMonkeyLife.github.io/Blog">Rick</a>&nbsp;posted at <a href="http://ITMonkeyLife.github.io/Blog">http://ITMonkeyLife.github.io/Blog</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[React Nativeçš„Props]]></title>
    <link href="http://ITMonkeyLife.github.io/Blog/blog/2016/11/22/react-nativede-props/"/>
    <updated>2016-11-22T09:37:53+08:00</updated>
    <id>http://ITMonkeyLife.github.io/Blog/blog/2016/11/22/react-nativede-props</id>
    <content type="html"><![CDATA[<p>
å¤§å¤šæ•°ç»„ä»¶å¯ä»¥åœ¨åˆ›å»ºæ—¶ä½¿ç”¨ä¸åŒçš„å‚æ•°è¿›è¡Œè‡ªå®šä¹‰ã€‚ è¿™äº›åˆ›å»ºå‚æ•°ç§°ä¸º<code>props</code>ã€‚

ä¾‹å¦‚ï¼Œä¸€ä¸ªåŸºæœ¬çš„React Nativeç»„ä»¶æ˜¯Imageã€‚ å½“æ‚¨åˆ›å»ºå›¾åƒæ—¶ï¼Œå¯ä»¥ä½¿ç”¨propå‘½å<code>source</code>æ¥æ§åˆ¶å…¶æ˜¾ç¤ºçš„å›¾åƒã€‚
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span><span class="line"><span class="kr">import</span> <span class="p">{</span> <span class="nx">AppRegistry</span><span class="p">,</span> <span class="nx">Image</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-native&#39;</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="kr">class</span> <span class="nx">Bananas</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="kd">let</span> <span class="nx">pic</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">      <span class="nx">uri</span><span class="o">:</span> <span class="s1">&#39;https://upload.wikimedia.org/wikipedia/commons/d/de/Bananavarieties.jpg&#39;</span>
</span><span class="line">    <span class="p">};</span>
</span><span class="line">    <span class="k">return</span> <span class="p">(</span>
</span><span class="line">      <span class="o">&lt;</span><span class="nx">Image</span> <span class="nx">source</span><span class="o">=</span><span class="p">{</span><span class="nx">pic</span><span class="p">}</span> <span class="nx">style</span><span class="o">=</span><span class="p"></span><span class="o">/&gt;</span>
</span><span class="line">    <span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="nx">AppRegistry</span><span class="p">.</span><span class="nx">registerComponent</span><span class="p">(</span><span class="s1">&#39;Bananas&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">Bananas</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
æ³¨æ„<em>{pic}</em>è¢«å¤§æ‹¬å·æ‹¬èµ·æ¥ï¼Œä»¥å°†å˜é‡<em>pic</em>åµŒå…¥åˆ°JSXä¸­ã€‚ ä½ å¯ä»¥æŠŠä»»ä½•JavaScriptè¡¨è¾¾å¼æ”¾åœ¨å¤§æ‹¬å·å†…JSXã€‚

ä½ è‡ªå·±çš„ç»„ä»¶ä¹Ÿå¯ä»¥ä½¿ç”¨<em>props</em>ã€‚ è¿™æ ·ï¼Œæ‚¨å¯ä»¥åœ¨åº”ç”¨ç¨‹åºçš„è®¸å¤šä¸åŒä½ç½®åˆ›å»ºå•ä¸ªç»„ä»¶ï¼Œæ¯ä¸ªä½ç½®çš„å±æ€§ç•¥æœ‰ä¸åŒã€‚ åªéœ€åœ¨<em>render</em>å‡½æ•°ä¸­å¼•ç”¨<em>this.props</em>ã€‚ è¿™é‡Œæœ‰ä¸€ä¸ªä¾‹å­ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span><span class="line"><span class="kr">import</span> <span class="p">{</span> <span class="nx">AppRegistry</span><span class="p">,</span> <span class="nx">Text</span><span class="p">,</span> <span class="nx">View</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-native&#39;</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="kr">class</span> <span class="nx">Greeting</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="p">(</span>
</span><span class="line">      <span class="o">&lt;</span><span class="nx">Text</span><span class="o">&gt;</span><span class="nx">Hello</span> <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="o">!&lt;</span><span class="err">/Text&gt;</span>
</span><span class="line">    <span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kr">class</span> <span class="nx">LotsOfGreetings</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="p">(</span>
</span><span class="line">      <span class="o">&lt;</span><span class="nx">View</span> <span class="nx">style</span><span class="o">=</span><span class="p"></span><span class="o">&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">Greeting</span> <span class="nx">name</span><span class="o">=</span><span class="s1">&#39;Rexxar&#39;</span> <span class="o">/&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">Greeting</span> <span class="nx">name</span><span class="o">=</span><span class="s1">&#39;Jaina&#39;</span> <span class="o">/&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">Greeting</span> <span class="nx">name</span><span class="o">=</span><span class="s1">&#39;Valeera&#39;</span> <span class="o">/&gt;</span>
</span><span class="line">      <span class="o">&lt;</span><span class="err">/View&gt;</span>
</span><span class="line">    <span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="nx">AppRegistry</span><span class="p">.</span><span class="nx">registerComponent</span><span class="p">(</span><span class="s1">&#39;LotsOfGreetings&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">LotsOfGreetings</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
ä½¿ç”¨åç§°ä½œä¸º<code>props</code>ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰<em>Greeting</em>ç»„ä»¶ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä¸ºæ¯ä¸ªé—®å€™é‡å¤ä½¿ç”¨è¯¥ç»„ä»¶ã€‚ æ­¤ç¤ºä¾‹è¿˜åœ¨JSXä¸­ä½¿ç”¨Greetingç»„ä»¶ï¼Œå°±åƒå†…ç½®ç»„ä»¶ä¸€æ ·ã€‚ åšåˆ°è¿™ä¸€ç‚¹çš„åŠ›é‡æ˜¯ä»€ä¹ˆä½¿Reactè¿™ä¹ˆé…· - å¦‚æœä½ å‘ç°è‡ªå·±å¸Œæœ›æœ‰ä¸€ç»„ä¸åŒçš„UIåŸè¯­æ¥å·¥ä½œï¼Œä½ åªæ˜¯å‘æ˜æ–°çš„ã€‚
<!--more-->
å¦ä¸€ä¸ªæ–°çš„ä¸œè¥¿åœ¨è¿™é‡Œæ˜¯è§†å›¾ç»„ä»¶ã€‚ è§†å›¾å¯ç”¨ä½œå…¶ä»–ç»„ä»¶çš„å®¹å™¨ï¼Œä»¥å¸®åŠ©æ§åˆ¶æ ·å¼å’Œå¸ƒå±€ã€‚

ä½¿ç”¨<code>props</code>å’ŒåŸºæœ¬çš„æ–‡æœ¬ï¼Œå›¾åƒå’Œè§†å›¾ç»„ä»¶ï¼Œæ‚¨å¯ä»¥æ„å»ºå„ç§å„æ ·çš„é™æ€å±å¹•ã€‚ è¦äº†è§£å¦‚ä½•è®©æ‚¨çš„åº”ç”¨éšæ—¶é—´å˜åŒ–ï¼Œæ‚¨éœ€è¦äº†è§£çŠ¶æ€ã€‚
</p>
<hr />

<p class="post-footer">
                        written by <a href="http://ITMonkeyLife.github.io/Blog">Rick</a>&nbsp;posted at <a href="http://ITMonkeyLife.github.io/Blog">http://ITMonkeyLife.github.io/Blog</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[JSXä»0åˆ°1]]></title>
    <link href="http://ITMonkeyLife.github.io/Blog/blog/2016/11/21/jsxcong-0dao-1/"/>
    <updated>2016-11-21T17:45:01+08:00</updated>
    <id>http://ITMonkeyLife.github.io/Blog/blog/2016/11/21/jsxcong-0dao-1</id>
    <content type="html"><![CDATA[<p>
ä»€ä¹ˆæ˜¯JSXã€‚æˆ‘ä»¬å…ˆçœ‹ä¸€æ®µä»£ç ,è€ƒè™‘è¿™ä¸ªå˜é‡å£°æ˜ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">const</span> <span class="nx">element</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Hello</span><span class="p">,</span> <span class="nx">world</span><span class="o">!&lt;</span><span class="err">/h1&gt;;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
è¿™ä¸ªæœ‰è¶£çš„æ ‡ç­¾è¯­æ³•æ—¢ä¸æ˜¯å­—ç¬¦ä¸²ä¹Ÿä¸æ˜¯HTMLã€‚

å®ƒè¢«ç§°ä¸ºJSXï¼Œå®ƒæ˜¯JavaScriptçš„è¯­æ³•æ‰©å±•ã€‚ æˆ‘ä»¬å»ºè®®ä½¿ç”¨å®ƒä¸Reactæ¥æè¿°UIåº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­ã€‚ JSXå¯ä»¥æé†’ä½ ä¸€ä¸ªæ¨¡æ¿è¯­è¨€ï¼Œä½†å®ƒä¼´éšç€JavaScriptçš„å…¨éƒ¨åŠ›é‡ã€‚

JSXäº§ç”ŸReactâ€œå…ƒç´ â€ã€‚ æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€èŠ‚ä¸­æ¢è®¨å°†å®ƒä»¬æ¸²æŸ“åˆ°DOMã€‚ ä¸‹é¢ï¼Œä½ å¯ä»¥æ‰¾åˆ°JSXçš„åŸºç¡€çŸ¥è¯†ï¼Œè®©ä½ å¼€å§‹ã€‚
</p>
<h3>
åœ¨JSXä¸­åµŒå…¥è¡¨è¾¾å¼
</h3>
<p>
æ‚¨å¯ä»¥é€šè¿‡å°†å…¶åŒ…å«åœ¨å¤§æ‹¬å·ä¸­æ¥åœ¨JSXä¸­åµŒå…¥ä»»ä½•<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Expressions_and_Operators#Expressions">JavaScriptè¡¨è¾¾å¼</a>ã€‚

ä¾‹å¦‚ï¼Œ2 + 2ï¼Œuser.nameå’ŒformatNameï¼ˆuserï¼‰éƒ½æ˜¯æœ‰æ•ˆçš„è¡¨è¾¾å¼ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">function</span> <span class="nx">formatName</span><span class="p">(</span><span class="nx">user</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="k">return</span> <span class="nx">user</span><span class="p">.</span><span class="nx">firstName</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="nx">user</span><span class="p">.</span><span class="nx">lastName</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kr">const</span> <span class="nx">user</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">firstName</span><span class="o">:</span> <span class="s1">&#39;Harper&#39;</span><span class="p">,</span>
</span><span class="line">  <span class="nx">lastName</span><span class="o">:</span> <span class="s1">&#39;Perez&#39;</span>
</span><span class="line"><span class="p">};</span>
</span><span class="line">
</span><span class="line"><span class="kr">const</span> <span class="nx">element</span> <span class="o">=</span> <span class="p">(</span>
</span><span class="line">  <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span>
</span><span class="line">    <span class="nx">Hello</span><span class="p">,</span> <span class="p">{</span><span class="nx">formatName</span><span class="p">(</span><span class="nx">user</span><span class="p">)}</span><span class="o">!</span>
</span><span class="line">  <span class="o">&lt;</span><span class="err">/h1&gt;</span>
</span><span class="line"><span class="p">);</span>
</span><span class="line">
</span><span class="line"><span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
</span><span class="line">  <span class="nx">element</span><span class="p">,</span>
</span><span class="line">  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;root&#39;</span><span class="p">)</span>
</span><span class="line"><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
æˆ‘ä»¬å°†JSXæ‹†åˆ†ä¸ºå¤šè¡Œä»¥æé«˜å¯è¯»æ€§ã€‚ è™½ç„¶è¿™ä¸æ˜¯å¼ºåˆ¶æ€§çš„ï¼Œä½†å½“æ‰§è¡Œæ­¤æ“ä½œæ—¶ï¼Œæˆ‘ä»¬è¿˜å»ºè®®å°†å…¶æ‹¬åœ¨æ‹¬å·ä¸­ï¼Œä»¥é¿å…<a href="http://stackoverflow.com/questions/2846283/what-are-the-rules-for-javascripts-automatic-semicolon-insertion-asi">è‡ªåŠ¨åˆ†å·æ’å…¥</a>çš„é™·é˜±ã€‚
</p>
<h3>
JSXæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼
</h3>
<p>
ç¼–è¯‘åï¼ŒJSXè¡¨è¾¾å¼æˆä¸ºå¸¸è§„JavaScriptå¯¹è±¡ã€‚è¿™æ„å‘³ç€æ‚¨å¯ä»¥åœ¨ifè¯­å¥å’Œforå¾ªç¯ä¸­ä½¿ç”¨JSXï¼Œå°†å…¶åˆ†é…ç»™å˜é‡ï¼Œå°†å…¶æ¥å—ä¸ºå‚æ•°ï¼Œç„¶åä»å‡½æ•°ä¸­è¿”å›ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">function</span> <span class="nx">getGreeting</span><span class="p">(</span><span class="nx">user</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="k">if</span> <span class="p">(</span><span class="nx">user</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Hello</span><span class="p">,</span> <span class="p">{</span><span class="nx">formatName</span><span class="p">(</span><span class="nx">user</span><span class="p">)}</span><span class="o">!&lt;</span><span class="err">/h1&gt;;</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Hello</span><span class="p">,</span> <span class="nx">Stranger</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/h1&gt;;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>
<!--more-->
<h3>
ä½¿ç”¨JSXæŒ‡å®šå±æ€§
</h3>
<p>
æ‚¨å¯ä»¥ä½¿ç”¨å¼•å·å°†å­—ç¬¦ä¸²æ–‡å­—æŒ‡å®šä¸ºå±æ€§ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">const</span> <span class="nx">element</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">tabIndex</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="o">&gt;&lt;</span><span class="err">/div&gt;;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
æ‚¨è¿˜å¯ä»¥ä½¿ç”¨å¤§æ‹¬å·åœ¨å±æ€§ä¸­åµŒå…¥JavaScriptè¡¨è¾¾å¼ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">const</span> <span class="nx">element</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">img</span> <span class="nx">src</span><span class="o">=</span><span class="p">{</span><span class="nx">user</span><span class="p">.</span><span class="nx">avatarUrl</span><span class="p">}</span><span class="o">&gt;&lt;</span><span class="err">/img&gt;;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>
<h3>
ä½¿ç”¨JSXæŒ‡å®šå­é¡¹
</h3>
<p>
å¦‚æœæ ‡è®°ä¸ºç©ºï¼Œæ‚¨å¯ä»¥ä½¿ç”¨<code>/&gt;</code>ç«‹å³å…³é—­å®ƒï¼Œä¾‹å¦‚XMLï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">const</span> <span class="nx">element</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">img</span> <span class="nx">src</span><span class="o">=</span><span class="p">{</span><span class="nx">user</span><span class="p">.</span><span class="nx">avatarUrl</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
JSXæ ‡ç­¾å¯èƒ½åŒ…å«å­å…ƒç´ ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">const</span> <span class="nx">element</span> <span class="o">=</span> <span class="p">(</span>
</span><span class="line">  <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span><span class="line">    <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Hello</span><span class="o">!&lt;</span><span class="err">/h1&gt;</span>
</span><span class="line">    <span class="o">&lt;</span><span class="nx">h2</span><span class="o">&gt;</span><span class="nx">Good</span> <span class="nx">to</span> <span class="nx">see</span> <span class="nx">you</span> <span class="nx">here</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/h2&gt;</span>
</span><span class="line">  <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span><span class="line"><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<blockquote>
è­¦å‘Šï¼š
ç”±äºJSXæ¯”HTMLæ›´æ¥è¿‘JavaScriptï¼ŒReact DOMä½¿ç”¨camelCaseå±æ€§å‘½åçº¦å®šè€Œä¸æ˜¯HTMLå±æ€§åç§°ã€‚
ä¾‹å¦‚ï¼Œç±»åœ¨JSXä¸­å˜ä¸º<a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/className"><code>className</code></a>ï¼Œtabindexå˜ä¸º<a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/tabIndex"><code>tabIndex</code></a>ã€‚
</blockquote>
</p>
<h3>
JSXé˜²æ­¢æ³¨å…¥æ”»å‡»
</h3>
<p>
åœ¨JSXä¸­åµŒå…¥ç”¨æˆ·è¾“å…¥æ˜¯å®‰å…¨çš„ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">const</span> <span class="nx">title</span> <span class="o">=</span> <span class="nx">response</span><span class="p">.</span><span class="nx">potentiallyMaliciousInput</span><span class="p">;</span>
</span><span class="line"><span class="c1">// This is safe:</span>
</span><span class="line"><span class="kr">const</span> <span class="nx">element</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">title</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/h1&gt;;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
é»˜è®¤æƒ…å†µä¸‹ï¼ŒReact DOMåœ¨æ¸²æŸ“å®ƒä»¬ä¹‹å‰è½¬ä¹‰åµŒå…¥åœ¨JSXä¸­çš„<a href="http://stackoverflow.com/questions/7381974/which-characters-need-to-be-escaped-on-html">ä»»ä½•å€¼</a>ã€‚ å› æ­¤ï¼Œå®ƒç¡®ä¿ä½ ä¸èƒ½æ³¨å…¥æ²¡æœ‰æ˜ç¡®å†™åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­çš„ä»»ä½•ä¸œè¥¿ã€‚ åœ¨æ¸²æŸ“ä¹‹å‰ï¼Œä¸€åˆ‡éƒ½è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚ è¿™æœ‰åŠ©äºé˜²æ­¢<a href="https://en.wikipedia.org/wiki/Cross-site_scripting">XSSï¼ˆè·¨ç«™ç‚¹è„šæœ¬ï¼‰</a>æ”»å‡»ã€‚
</p>
<h3>
JSXè¡¨ç¤ºå¯¹è±¡
</h3>
<p>
Babelå°†JSXç¼–è¯‘ä¸ºReact.createElementï¼ˆï¼‰è°ƒç”¨ã€‚

è¿™ä¸¤ä¸ªä¾‹å­æ˜¯ç›¸åŒçš„ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">const</span> <span class="nx">element</span> <span class="o">=</span> <span class="p">(</span>
</span><span class="line">  <span class="o">&lt;</span><span class="nx">h1</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;greeting&quot;</span><span class="o">&gt;</span>
</span><span class="line">    <span class="nx">Hello</span><span class="p">,</span> <span class="nx">world</span><span class="o">!</span>
</span><span class="line">  <span class="o">&lt;</span><span class="err">/h1&gt;</span>
</span><span class="line"><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">const</span> <span class="nx">element</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span>
</span><span class="line">  <span class="s1">&#39;h1&#39;</span><span class="p">,</span>
</span><span class="line">  <span class="p">{</span><span class="nx">className</span><span class="o">:</span> <span class="s1">&#39;greeting&#39;</span><span class="p">},</span>
</span><span class="line">  <span class="s1">&#39;Hello, world!&#39;</span>
</span><span class="line"><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
React.createElementï¼ˆï¼‰æ‰§è¡Œä¸€äº›æ£€æŸ¥ï¼Œä»¥å¸®åŠ©æ‚¨ç¼–å†™æ— é”™è¯¯çš„ä»£ç ï¼Œä½†æœ¬è´¨ä¸Šï¼Œå®ƒåˆ›å»ºä¸€ä¸ªå¯¹è±¡åƒè¿™æ ·ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="c1">// Note: this structure is simplified</span>
</span><span class="line"><span class="kr">const</span> <span class="nx">element</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;h1&#39;</span><span class="p">,</span>
</span><span class="line">  <span class="nx">props</span><span class="o">:</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">className</span><span class="o">:</span> <span class="s1">&#39;greeting&#39;</span><span class="p">,</span>
</span><span class="line">    <span class="nx">children</span><span class="o">:</span> <span class="s1">&#39;Hello, world&#39;</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
è¿™äº›å¯¹è±¡ç§°ä¸ºâ€œReactå…ƒç´ â€ã€‚ ä½ å¯ä»¥æŠŠå®ƒä»¬æƒ³è±¡æˆä½ æƒ³åœ¨å±å¹•ä¸Šçœ‹åˆ°çš„æè¿°ã€‚ Reactè¯»å–è¿™äº›å¯¹è±¡ï¼Œå¹¶ä½¿ç”¨å®ƒä»¬æ„é€ DOMå¹¶ä¿æŒå…¶ä¸ºæœ€æ–°ã€‚

æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€èŠ‚ä¸­æ¢ç´¢æ¸²æŸ“Reactå…ƒç´ åˆ°DOMã€‚
<blockquote>
æç¤ºï¼š
æˆ‘ä»¬å»ºè®®ä¸ºæ‚¨é€‰æ‹©çš„ç¼–è¾‘å™¨æœç´¢â€œBabelâ€è¯­æ³•æ–¹æ¡ˆï¼Œä»¥ä¾¿æ­£ç¡®çªå‡ºæ˜¾ç¤ºES6å’ŒJSXä»£ç ã€‚
</blockquote>
</p>
<h2>
æ›´æ·±å±‚æ¬¡è§£è¯»JSX
</h2>
<p>
ä»æ ¹æœ¬ä¸Šè¯´ï¼ŒJSXåªæ˜¯ä¸ºReact.createElementï¼ˆcomponentï¼Œpropsï¼Œ&#8230; childrenï¼‰å‡½æ•°æä¾›è¯­æ³•æ›´æ–¹ä¾¿ã€‚ JSXä»£ç ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="o">&lt;</span><span class="nx">MyButton</span> <span class="nx">color</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span> <span class="nx">shadowSize</span><span class="o">=</span><span class="p">{</span><span class="mi">2</span><span class="p">}</span><span class="o">&gt;</span>
</span><span class="line">  <span class="nx">Click</span> <span class="nx">Me</span>
</span><span class="line"><span class="o">&lt;</span><span class="err">/MyButton&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
ç¼–è¯‘æˆ
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span>
</span><span class="line">  <span class="nx">MyButton</span><span class="p">,</span>
</span><span class="line">  <span class="p">{</span><span class="nx">color</span><span class="o">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="nx">shadowSize</span><span class="o">:</span> <span class="mi">2</span><span class="p">},</span>
</span><span class="line">  <span class="s1">&#39;Click Me&#39;</span>
</span><span class="line"><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
å¦‚æœæ²¡æœ‰å­ä»£ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ ‡è®°çš„è‡ªå…³é—­å½¢å¼ã€‚ æ‰€ä»¥ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;sidebar&quot;</span> <span class="o">/&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
ç¼–è¯‘æˆ
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span>
</span><span class="line">  <span class="s1">&#39;div&#39;</span><span class="p">,</span>
</span><span class="line">  <span class="p">{</span><span class="nx">className</span><span class="o">:</span> <span class="s1">&#39;sidebar&#39;</span><span class="p">},</span>
</span><span class="line">  <span class="kc">null</span>
</span><span class="line"><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
å¦‚æœä½ æƒ³æµ‹è¯•ä¸€äº›ç‰¹å®šçš„JSXæ˜¯å¦‚ä½•è½¬æ¢æˆJavaScriptï¼Œä½ å¯ä»¥è¯•è¯•<a href="https://babeljs.io/repl/#?babili=false&amp;evaluate=true&amp;lineWrap=false&amp;presets=es2015%2Creact%2Cstage-0&amp;code=function%20hello()%20%7B%0A%20%20return%20%3Cdiv%3EHello%20world!%3C%2Fdiv%3E%3B%0A%7D">åœ¨çº¿Babelç¼–è¯‘å™¨</a>ã€‚
</p>
<h3>
æŒ‡å®šReactå…ƒç´ ç±»å‹
</h3>
<p>
JSXæ ‡è®°çš„ç¬¬ä¸€éƒ¨åˆ†å†³å®šäº†Reactå…ƒç´ çš„ç±»å‹ã€‚

å¤§å†™çš„ç±»å‹è¡¨ç¤ºJSXæ ‡è®°æŒ‡çš„æ˜¯Reactç»„ä»¶ã€‚ è¿™äº›æ ‡ç­¾è¢«ç¼–è¯‘ä¸ºå¯¹æŒ‡å®šå˜é‡çš„ç›´æ¥å¼•ç”¨ï¼Œå› æ­¤å¦‚æœä½¿ç”¨JSX<code> <foo /> </code>è¡¨è¾¾å¼ï¼ŒFooå¿…é¡»åœ¨èŒƒå›´å†…ã€‚
</p>
<h4>
Reactå¿…é¡»åœ¨èŒƒå›´å†…
</h4>
<p>
ç”±äºJSXç¼–è¯‘ä¸ºå¯¹React.createElementçš„è°ƒç”¨ï¼Œå› æ­¤Reactåº“ä¹Ÿå¿…é¡»å§‹ç»ˆåœ¨JSXä»£ç çš„ä½œç”¨åŸŸä¸­ã€‚

ä¾‹å¦‚ï¼Œè¿™ä¸¤ä¸ªå¯¼å…¥åœ¨è¿™æ®µä»£ç ä¸­æ˜¯å¿…è¦çš„ï¼Œå³ä½¿Reactå’ŒCustomButtonæ²¡æœ‰ç›´æ¥ä»JavaScriptå¼•ç”¨ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span><span class="line"><span class="kr">import</span> <span class="nx">CustomButton</span> <span class="nx">from</span> <span class="s1">&#39;./CustomButton&#39;</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="kd">function</span> <span class="nx">WarningButton</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">  <span class="c1">// return React.createElement(CustomButton, {color: &#39;red&#39;}, null);</span>
</span><span class="line">  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">CustomButton</span> <span class="nx">color</span><span class="o">=</span><span class="s2">&quot;red&quot;</span> <span class="o">/&gt;</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
å¦‚æœä¸ä½¿ç”¨JavaScriptç»‘å®šå™¨å¹¶å°†Reactæ·»åŠ ä¸ºè„šæœ¬æ ‡è®°ï¼Œåˆ™å®ƒå·²ä½œä¸º<code>React</code>å…¨å±€èŒƒå›´ã€‚
</p>
<h3>
å¯¹JSXç±»å‹ä½¿ç”¨ç‚¹è¡¨ç¤ºæ³•
</h3>
<p>
æ‚¨è¿˜å¯ä»¥ä½¿ç”¨JSXä¸­çš„ç‚¹è¡¨ç¤ºæ³•æ¥å¼•ç”¨Reactç»„ä»¶ã€‚ å¦‚æœæ‚¨æœ‰ä¸€ä¸ªæ¨¡å—å¯¼å‡ºè®¸å¤šReactç»„ä»¶ï¼Œè¿™å¾ˆæ–¹ä¾¿ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœMyComponents.DatePickeræ˜¯ä¸€ä¸ªç»„ä»¶ï¼Œæ‚¨å¯ä»¥ç›´æ¥ä»JSXä½¿ç”¨å®ƒï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="kr">const</span> <span class="nx">MyComponents</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">DatePicker</span><span class="o">:</span> <span class="kd">function</span> <span class="nx">DatePicker</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Imagine</span> <span class="nx">a</span> <span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">color</span><span class="p">}</span> <span class="nx">datepicker</span> <span class="nx">here</span><span class="p">.</span><span class="o">&lt;</span><span class="err">/div&gt;;</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kd">function</span> <span class="nx">BlueDatePicker</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">MyComponents</span><span class="p">.</span><span class="nx">DatePicker</span> <span class="nx">color</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span> <span class="o">/&gt;</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>
<h3>
ç”¨æˆ·å®šä¹‰çš„ç»„ä»¶å¿…é¡»å¤§å†™
</h3>
<p>
å½“å…ƒç´ ç±»å‹ä»¥å°å†™å­—æ¯å¼€å¤´æ—¶ï¼Œå®ƒæŒ‡å‘ä¸€ä¸ªå†…ç½®ç»„ä»¶ï¼Œå¦‚<div>æˆ–<span>ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªå­—ç¬¦ä¸²&#8217;div&#8217;æˆ–&#8217;span&#8217;ä¼ é€’ç»™React.createElementã€‚ ä»¥å¤§å†™å­—æ¯å¼€å¤´çš„ç±»å‹ï¼Œå¦‚<code><foo /></code>ç¼–è¯‘ä¸ºReact.createElementï¼ˆFooï¼‰ï¼Œå¹¶ä¸”å¯¹åº”äºåœ¨JavaScriptæ–‡ä»¶ä¸­å®šä¹‰æˆ–å¯¼å…¥çš„ç»„ä»¶ã€‚

æˆ‘ä»¬å»ºè®®ä½¿ç”¨å¤§å†™å­—æ¯å‘½åç»„ä»¶ã€‚ å¦‚æœä½ æœ‰ä¸€ä¸ªä»¥å°å†™å­—æ¯å¼€å¤´çš„ç»„ä»¶ï¼Œè¯·åœ¨JSXä¸­ä½¿ç”¨å®ƒä¹‹å‰å°†å®ƒåˆ†é…ç»™å¤§å†™çš„å˜é‡ã€‚

ä¾‹å¦‚ï¼Œæ­¤ä»£ç ä¸ä¼šæŒ‰é¢„æœŸè¿è¡Œï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="c1">// Wrong! This is a component and should have been capitalized:</span>
</span><span class="line"><span class="kd">function</span> <span class="nx">hello</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="c1">// Correct! This use of &lt;div&gt; is legitimate because div is a valid HTML tag:</span>
</span><span class="line">  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Hello</span> <span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">toWhat</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kd">function</span> <span class="nx">HelloWorld</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">  <span class="c1">// Wrong! React thinks &lt;hello /&gt; is an HTML tag because it&#39;s not capitalized:</span>
</span><span class="line">  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">hello</span> <span class="nx">toWhat</span><span class="o">=</span><span class="s2">&quot;World&quot;</span> <span class="o">/&gt;</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°†helloé‡å‘½åä¸ºHelloï¼Œå¹¶åœ¨å¼•ç”¨å®ƒæ—¶ä½¿ç”¨<code><hello /></code>ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="c1">// Correct! This is a component and should be capitalized:</span>
</span><span class="line"><span class="kd">function</span> <span class="nx">Hello</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="c1">// Correct! This use of &lt;div&gt; is legitimate because div is a valid HTML tag:</span>
</span><span class="line">  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Hello</span> <span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">toWhat</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kd">function</span> <span class="nx">HelloWorld</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">  <span class="c1">// Correct! React knows &lt;Hello /&gt; is a component because it&#39;s capitalized.</span>
</span><span class="line">  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">Hello</span> <span class="nx">toWhat</span><span class="o">=</span><span class="s2">&quot;World&quot;</span> <span class="o">/&gt;</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h3>
åœ¨è¿è¡Œæ—¶é€‰æ‹©ç±»å‹
</h3>
<p>
ä¸èƒ½å°†å¸¸è§„è¡¨è¾¾å¼ç”¨ä½œReactå…ƒç´ ç±»å‹ã€‚ å¦‚æœä½ æƒ³ä½¿ç”¨ä¸€ä¸ªé€šç”¨è¡¨è¾¾å¼æ¥è¡¨ç¤ºå…ƒç´ çš„ç±»å‹ï¼Œåªéœ€é¦–å…ˆå°†å®ƒåˆ†é…ç»™ä¸€ä¸ªå¤§å†™çš„å˜é‡ã€‚ è¿™é€šå¸¸å‡ºç°åœ¨å½“ä½ æƒ³åŸºäºä¸€ä¸ªé“å…·æ¸²æŸ“ä¸€ä¸ªä¸åŒçš„ç»„ä»¶ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span><span class="line"><span class="kr">import</span> <span class="p">{</span> <span class="nx">PhotoStory</span><span class="p">,</span> <span class="nx">VideoStory</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./stories&#39;</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="kr">const</span> <span class="nx">components</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">photo</span><span class="o">:</span> <span class="nx">PhotoStory</span><span class="p">,</span>
</span><span class="line">  <span class="nx">video</span><span class="o">:</span> <span class="nx">VideoStory</span>
</span><span class="line"><span class="p">};</span>
</span><span class="line">
</span><span class="line"><span class="kd">function</span> <span class="nx">Story</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="c1">// Wrong! JSX type can&#39;t be an expression.</span>
</span><span class="line">  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">components</span><span class="p">[</span><span class="nx">props</span><span class="p">.</span><span class="nx">storyType</span><span class="p">]</span> <span class="nx">story</span><span class="o">=</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">story</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°†é¦–å…ˆå°†ç±»å‹æŒ‡å®šä¸ºå¤§å†™å˜é‡ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span><span class="line"><span class="kr">import</span> <span class="p">{</span> <span class="nx">PhotoStory</span><span class="p">,</span> <span class="nx">VideoStory</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;./stories&#39;</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="kr">const</span> <span class="nx">components</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">photo</span><span class="o">:</span> <span class="nx">PhotoStory</span><span class="p">,</span>
</span><span class="line">  <span class="nx">video</span><span class="o">:</span> <span class="nx">VideoStory</span>
</span><span class="line"><span class="p">};</span>
</span><span class="line">
</span><span class="line"><span class="kd">function</span> <span class="nx">Story</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="c1">// Correct! JSX type can be a capitalized variable.</span>
</span><span class="line">  <span class="kr">const</span> <span class="nx">SpecificStory</span> <span class="o">=</span> <span class="nx">components</span><span class="p">[</span><span class="nx">props</span><span class="p">.</span><span class="nx">storyType</span><span class="p">];</span>
</span><span class="line">  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">SpecificStory</span> <span class="nx">story</span><span class="o">=</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">story</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>
<h2>
åœ¨JSXä¸­çš„props
</h2>
<p>
åœ¨JSXä¸­æŒ‡å®špropsæœ‰å‡ ç§ä¸åŒçš„æ–¹æ³•ã€‚
</p>
<h3>
JavaScriptè¡¨è¾¾å¼
</h3>
<p>
ä½ å¯ä»¥ä¼ é€’ä»»ä½•JavaScriptè¡¨è¾¾å¼ä½œä¸ºpropsï¼Œç”¨{}åŒ…å›´å®ƒã€‚ ä¾‹å¦‚ï¼Œåœ¨è¿™ä¸ªJSXä¸­ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="o">&lt;</span><span class="nx">MyComponent</span> <span class="nx">foo</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">4</span><span class="p">}</span> <span class="o">/&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
å¯¹äºMyComponentï¼Œprops.fooçš„å€¼å°†ä¸º10ï¼Œå› ä¸ºè¡¨è¾¾å¼1 + 2 + 3 + 4å¾—åˆ°è®¡ç®—ã€‚

ifè¯­å¥å’Œforå¾ªç¯åœ¨JavaScriptä¸­ä¸æ˜¯è¡¨è¾¾å¼ï¼Œå› æ­¤å®ƒä»¬ä¸èƒ½åœ¨JSXä¸­ç›´æ¥ä½¿ç”¨ã€‚ ç›¸åï¼Œä½ å¯ä»¥æŠŠè¿™äº›åœ¨å‘¨å›´çš„ä»£ç ã€‚ ä¾‹å¦‚ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">function</span> <span class="nx">NumberDescriber</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="kd">let</span> <span class="nx">description</span><span class="p">;</span>
</span><span class="line">  <span class="k">if</span> <span class="p">(</span><span class="nx">props</span><span class="p">.</span><span class="nx">number</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">description</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">strong</span><span class="o">&gt;</span><span class="nx">even</span><span class="o">&lt;</span><span class="err">/strong&gt;;</span>
</span><span class="line">  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">description</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nx">i</span><span class="o">&gt;</span><span class="nx">odd</span><span class="o">&lt;</span><span class="err">/i&gt;;</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">number</span><span class="p">}</span> <span class="nx">is</span> <span class="nx">an</span> <span class="p">{</span><span class="nx">description</span><span class="p">}</span> <span class="nx">number</span><span class="o">&lt;</span><span class="err">/div&gt;;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>
<h3>
å­—ç¬¦ä¸²å­—é¢é‡
</h3>
<p>
ä½ å¯ä»¥ä¼ é€’ä¸€ä¸ªå­—ç¬¦ä¸²æ–‡å­—ä½œä¸ºpropsã€‚ è¿™ä¸¤ä¸ªJSXè¡¨è¾¾å¼æ˜¯ç­‰ä»·çš„ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="o">&lt;</span><span class="nx">MyComponent</span> <span class="nx">message</span><span class="o">=</span><span class="s2">&quot;hello world&quot;</span> <span class="o">/&gt;</span>
</span><span class="line">
</span><span class="line"><span class="o">&lt;</span><span class="nx">MyComponent</span> <span class="nx">message</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;hello world&#39;</span><span class="p">}</span> <span class="o">/&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
å½“ä½ ä¼ é€’ä¸€ä¸ªå­—ç¬¦ä¸²å­—é¢é‡æ—¶ï¼Œå®ƒçš„å€¼æ˜¯HTML-unescapedã€‚ æ‰€ä»¥è¿™ä¸¤ä¸ªJSXè¡¨è¾¾å¼æ˜¯ç­‰ä»·çš„ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="o">&lt;</span><span class="nx">MyComponent</span> <span class="nx">message</span> <span class="o">=</span><span class="err">â€œï¼†</span><span class="nx">lt</span><span class="p">;</span> <span class="mi">3</span><span class="err">â€</span><span class="o">/&gt;</span>
</span><span class="line">
</span><span class="line"><span class="o">&lt;</span><span class="nx">MyComponent</span> <span class="nx">message</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;&lt;3&#39;</span><span class="p">}</span> <span class="o">/&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
æ­¤è¡Œä¸ºé€šå¸¸ä¸ç›¸å…³ã€‚ è¿™é‡Œåªæåˆ°å®Œæ•´æ€§ã€‚
</p>
<h3>
Propsé»˜è®¤ä¸ºâ€œTrueâ€
</h3>
<p>
å¦‚æœä½ ä¸ä¼ é€’propçš„å€¼ï¼Œå®ƒé»˜è®¤ä¸ºtrueã€‚ è¿™ä¸¤ä¸ªJSXè¡¨è¾¾å¼æ˜¯ç­‰ä»·çš„ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="o">&lt;</span><span class="nx">MyTextBox</span> <span class="nx">autocomplete</span> <span class="o">/&gt;</span>
</span><span class="line">
</span><span class="line"><span class="o">&lt;</span><span class="nx">MyTextbox</span> <span class="nx">autocomplete</span> <span class="o">=</span> <span class="p">{</span><span class="kc">true</span><span class="p">}</span> <span class="o">/&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬ä¸å»ºè®®ä½¿ç”¨å®ƒï¼Œå› ä¸ºå®ƒå¯ä»¥ä¸ES6å¯¹è±¡ç®€å†™{foo}ï¼Œè¿™æ˜¯{fooï¼šfoo}çš„ç®€ç§°ï¼Œè€Œä¸æ˜¯{fooï¼štrue}æ··æ·†ã€‚ è¿™ç§è¡Œä¸ºåªæ˜¯åœ¨é‚£é‡Œï¼Œä»¥ä¾¿å®ƒåŒ¹é…HTMLçš„è¡Œä¸ºã€‚
</p>
<h3>
æ‰©å±•å±æ€§
</h3>
<p>
å¦‚æœä½ å·²ç»æœ‰propsä½œä¸ºå¯¹è±¡ï¼Œå¹¶ä¸”ä½ æƒ³åœ¨JSXä¸­ä¼ é€’å®ƒï¼Œä½ å¯ä»¥ä½¿ç”¨&#8230;ä½œä¸ºä¸€ä¸ªâ€œspreadâ€è¿ç®—ç¬¦ä¼ é€’æ•´ä¸ªpropså¯¹è±¡ã€‚ è¿™ä¸¤ä¸ªç»„ä»¶æ˜¯ç­‰æ•ˆçš„ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">function</span> <span class="nx">App1</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">Greeting</span> <span class="nx">firstName</span><span class="o">=</span><span class="s2">&quot;Ben&quot;</span> <span class="nx">lastName</span><span class="o">=</span><span class="s2">&quot;Hector&quot;</span> <span class="o">/&gt;</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kd">function</span> <span class="nx">App2</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">  <span class="kr">const</span> <span class="nx">props</span> <span class="o">=</span> <span class="p">{</span><span class="nx">firstName</span><span class="o">:</span> <span class="s1">&#39;Ben&#39;</span><span class="p">,</span> <span class="nx">lastName</span><span class="o">:</span> <span class="s1">&#39;Hector&#39;</span><span class="p">};</span>
</span><span class="line">  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">Greeting</span> <span class="p">{...</span><span class="nx">props</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
å½“æ„å»ºé€šç”¨å®¹å™¨æ—¶ï¼Œæ‰©å±•å±æ€§å¯èƒ½å¾ˆæœ‰ç”¨ã€‚ ç„¶è€Œï¼Œä»–ä»¬ä¹Ÿå¯ä»¥è®©ä½ çš„ä»£ç å‡Œä¹±ï¼Œé€šè¿‡ä½¿å¾ˆå®¹æ˜“å°†å¤§é‡ä¸ç›¸å…³çš„propsä¼ é€’ç»™ä¸å…³å¿ƒå®ƒä»¬çš„ç»„ä»¶ã€‚ æˆ‘ä»¬å»ºè®®æ‚¨è°¨æ…ä½¿ç”¨æ­¤è¯­æ³•ã€‚
</p>
<h2>
JSXä¸­çš„å­ç±»
</h2>
<p>
åœ¨åŒ…å«å¼€å§‹æ ‡è®°å’Œç»“æŸæ ‡è®°çš„JSXè¡¨è¾¾å¼ä¸­ï¼Œè¿™äº›æ ‡è®°ä¹‹é—´çš„å†…å®¹ä½œä¸ºç‰¹æ®Špropï¼šprops.childrenä¼ é€’ã€‚ æœ‰å‡ ç§ä¸åŒçš„æ–¹å¼ä¼ é€’å­ç±»ï¼š
</p>
<h3>
å­—ç¬¦ä¸²å­—é¢é‡
</h3>
<p>
ä½ å¯ä»¥åœ¨å¼€å§‹å’Œç»“æŸæ ‡ç­¾ä¹‹é—´æ”¾ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œprops.childrenå°±æ˜¯é‚£ä¸ªå­—ç¬¦ä¸²ã€‚ è¿™å¯¹è®¸å¤šå†…ç½®çš„HTMLå…ƒç´ å¾ˆæœ‰ç”¨ã€‚ ä¾‹å¦‚ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="o">&lt;</span><span class="nx">MyComponent</span><span class="o">&gt;</span><span class="nx">Hello</span> <span class="nx">world</span><span class="o">!&lt;</span><span class="err">/MyComponent&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
è¿™æ˜¯æœ‰æ•ˆçš„JSXï¼Œå¹¶ä¸”MyComponentä¸­çš„props.childrenå°†åªæ˜¯å­—ç¬¦ä¸²â€œHello worldï¼â€ã€‚ HTMLæ˜¯éè½¬ä¹‰çš„ï¼Œæ‰€ä»¥ä½ ä¸€èˆ¬å¯ä»¥å†™JSXå°±åƒä½ è¿™æ ·å†™HTMLï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="err">è¿™æ˜¯æœ‰æ•ˆçš„</span><span class="nx">HTML</span><span class="err">ï¼†</span><span class="nx">amp</span><span class="p">;</span> <span class="nx">JSX</span><span class="err">åŒæ—¶ã€‚</span><span class="o">&lt;</span><span class="err">/ div&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
JSXåˆ é™¤è¡Œçš„å¼€å§‹å’Œç»“å°¾å¤„çš„ç©ºæ ¼ã€‚ å®ƒä¹Ÿåˆ é™¤ç©ºç™½è¡Œã€‚ ä¸æ ‡ç­¾ç›¸é‚»çš„æ–°è¡Œè¢«åˆ é™¤; åœ¨å­—ç¬¦ä¸²æ–‡æœ¬ä¸­é—´å‡ºç°çš„æ–°è¡Œä¼šç¼©åˆåˆ°å•ä¸ªç©ºé—´ä¸­ã€‚ æ‰€ä»¥è¿™äº›éƒ½æ¸²æŸ“ç›¸åŒçš„äº‹æƒ…ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Hello</span> <span class="nx">World</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
</span><span class="line">
</span><span class="line"><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span><span class="line">  <span class="nx">Hello</span> <span class="nx">World</span>
</span><span class="line"><span class="o">&lt;</span><span class="err">/div&gt;</span>
</span><span class="line">
</span><span class="line"><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span><span class="line">  <span class="nx">Hello</span>
</span><span class="line">  <span class="nx">World</span>
</span><span class="line"><span class="o">&lt;</span><span class="err">/div&gt;</span>
</span><span class="line">
</span><span class="line"><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span><span class="line">
</span><span class="line">  <span class="nx">Hello</span> <span class="nx">World</span>
</span><span class="line"><span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>
<h3>
JSX å­ç±»
</h3>
<p>
ä½ å¯ä»¥æä¾›æ›´å¤šçš„JSXå…ƒç´ ä½œä¸ºå­©å­ã€‚ è¿™å¯¹æ˜¾ç¤ºåµŒå¥—ç»„ä»¶å¾ˆæœ‰ç”¨ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="o">&lt;</span><span class="nx">MyContainer</span><span class="o">&gt;</span>
</span><span class="line">  <span class="o">&lt;</span><span class="nx">MyFirstComponent</span> <span class="o">/&gt;</span>
</span><span class="line">  <span class="o">&lt;</span><span class="nx">MySecondComponent</span> <span class="o">/&gt;</span>
</span><span class="line"><span class="o">&lt;</span><span class="err">/MyContainer&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
æ‚¨å¯ä»¥å°†ä¸åŒç±»å‹çš„å­é¡¹æ··åˆåœ¨ä¸€èµ·ï¼Œå› æ­¤å¯ä»¥ä¸JSXå­é¡¹ä¸€èµ·ä½¿ç”¨å­—ç¬¦ä¸²å­—é¢å€¼ã€‚ è¿™æ˜¯JSXçš„å¦ä¸€ç§æ–¹å¼ï¼Œå°±åƒHTMLï¼Œæ‰€ä»¥è¿™æ˜¯æœ‰æ•ˆçš„JSXå’Œæœ‰æ•ˆçš„HTMLï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span><span class="line">  <span class="nx">Here</span> <span class="nx">is</span> <span class="nx">a</span> <span class="nx">list</span><span class="o">:</span>
</span><span class="line">  <span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
</span><span class="line">    <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">Item</span> <span class="mi">1</span><span class="o">&lt;</span><span class="err">/li&gt;</span>
</span><span class="line">    <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">Item</span> <span class="mi">2</span><span class="o">&lt;</span><span class="err">/li&gt;</span>
</span><span class="line">  <span class="o">&lt;</span><span class="err">/ul&gt;</span>
</span><span class="line"><span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
Reactç»„ä»¶ä¸èƒ½è¿”å›å¤šä¸ªReactå…ƒç´ ï¼Œä½†æ˜¯ä¸€ä¸ªJSXè¡¨è¾¾å¼å¯ä»¥æœ‰å¤šä¸ªå­å…ƒç´ ï¼Œå› æ­¤å¦‚æœä½ æƒ³è¦ä¸€ä¸ªç»„ä»¶å‘ˆç°å¤šä¸ªä¸œè¥¿ï¼Œä½ å¯ä»¥å°†å®ƒåŒ…è£…åœ¨è¿™æ ·çš„divä¸­ã€‚
</p>
<h3>
JSè¡¨è¾¾å¼
</h3>
<p>
æ‚¨å¯ä»¥å°†ä»»ä½•JavaScriptè¡¨è¾¾å¼ä½œä¸ºå­è¡¨è¾¾å¼ä¼ é€’ï¼Œå°†å…¶æ”¾åœ¨{}ä¸­ã€‚ ä¾‹å¦‚ï¼Œè¿™äº›è¡¨è¾¾å¼æ˜¯ç­‰ä»·çš„ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="o">&lt;</span><span class="nx">MyComponent</span><span class="o">&gt;</span><span class="nx">foo</span><span class="o">&lt;</span><span class="err">/MyComponent&gt;</span>
</span><span class="line">
</span><span class="line"><span class="o">&lt;</span><span class="nx">MyComponent</span><span class="o">&gt;</span><span class="p">{</span><span class="s1">&#39;foo&#39;</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/MyComponent&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
è¿™é€šå¸¸ç”¨äºå‘ˆç°ä»»æ„é•¿åº¦çš„JSXè¡¨è¾¾å¼çš„åˆ—è¡¨ã€‚ ä¾‹å¦‚ï¼Œè¿™å°†å‘ˆç°ä¸€ä¸ªHTMLåˆ—è¡¨ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">function</span> <span class="nx">Item</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">message</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/li&gt;;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kd">function</span> <span class="nx">TodoList</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">  <span class="kr">const</span> <span class="nx">todos</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;finish doc&#39;</span><span class="p">,</span> <span class="s1">&#39;submit pr&#39;</span><span class="p">,</span> <span class="s1">&#39;nag dan to review&#39;</span><span class="p">];</span>
</span><span class="line">  <span class="k">return</span> <span class="p">(</span>
</span><span class="line">    <span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
</span><span class="line">      <span class="p">{</span><span class="nx">todos</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">message</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="nx">Item</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">message</span><span class="p">}</span> <span class="nx">message</span><span class="o">=</span><span class="p">{</span><span class="nx">message</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">)}</span>
</span><span class="line">    <span class="o">&lt;</span><span class="err">/ul&gt;</span>
</span><span class="line">  <span class="p">);</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
JSè¡¨è¾¾å¼å¯ä»¥ä¸å…¶ä»–ç±»å‹çš„å­©å­æ··åˆä½¿ç”¨ã€‚ è¿™é€šå¸¸ç”¨äºæ›¿æ¢å­—ç¬¦ä¸²æ¨¡æ¿ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">function</span> <span class="nx">Hello</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Hello</span> <span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">addressee</span><span class="p">}</span><span class="o">!&lt;</span><span class="err">/div&gt;;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>
<h3>
ä½œä¸ºå­ç±»çš„å‡½æ•°
</h3>
<p>
é€šå¸¸ï¼Œæ’å…¥JSXä¸­çš„JavaScriptè¡¨è¾¾å¼å°†æ±‚å€¼ä¸ºå­—ç¬¦ä¸²ï¼ŒReactå…ƒç´ æˆ–è¿™äº›äº‹ç‰©çš„åˆ—è¡¨ã€‚ ç„¶è€Œï¼Œprops.childrenåƒä»»ä½•å…¶ä»–é“å…·ä¸€æ ·å·¥ä½œï¼Œå®ƒå¯ä»¥ä¼ é€’ä»»ä½•ç±»å‹çš„æ•°æ®ï¼Œè€Œä¸åªæ˜¯ReactçŸ¥é“å¦‚ä½•renderçš„ç±»ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æœ‰ä¸€ä¸ªè‡ªå®šä¹‰ç»„ä»¶ï¼Œæ‚¨å¯ä»¥å°†å…¶ä½œä¸ºprops.childrenè¿›è¡Œå›è°ƒï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">function</span> <span class="nx">ListOfTenThings</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">  <span class="k">return</span> <span class="p">(</span>
</span><span class="line">    <span class="o">&lt;</span><span class="nx">Repeat</span> <span class="nx">numTimes</span><span class="o">=</span><span class="p">{</span><span class="mi">10</span><span class="p">}</span><span class="o">&gt;</span>
</span><span class="line">      <span class="p">{(</span><span class="nx">index</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">index</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">This</span> <span class="nx">is</span> <span class="nx">item</span> <span class="p">{</span><span class="nx">index</span><span class="p">}</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">list</span><span class="o">&lt;</span><span class="err">/div&gt;}</span>
</span><span class="line">    <span class="o">&lt;</span><span class="err">/Repeat&gt;</span>
</span><span class="line">  <span class="p">);</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="c1">// Calls the children callback numTimes to produce a repeated component</span>
</span><span class="line"><span class="kd">function</span> <span class="nx">Repeat</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="kd">let</span> <span class="nx">items</span> <span class="o">=</span> <span class="p">[];</span>
</span><span class="line">  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">props</span><span class="p">.</span><span class="nx">numTimes</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">items</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">(</span><span class="nx">i</span><span class="p">));</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">items</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
ä¼ é€’ç»™è‡ªå®šä¹‰ç»„ä»¶çš„å­é¡¹å¯ä»¥æ˜¯ä»»ä½•ä¸œè¥¿ï¼Œåªè¦è¯¥ç»„ä»¶å°†å®ƒä»¬è½¬æ¢ä¸ºReactåœ¨renderä¹‹å‰å¯ä»¥ç†è§£çš„ä¸œè¥¿å³å¯ã€‚ è¿™ç§ç”¨æ³•ä¸å¸¸è§ï¼Œä½†å®ƒçš„å·¥ä½œåŸç†ï¼Œå¦‚æœä½ æƒ³æ‰©å±•ä»€ä¹ˆJSXçš„èƒ½åŠ›ã€‚
</p>
<h3>
å¿½ç•¥å¸ƒå°”å€¼ï¼Œç©ºå€¼å’Œæœªå®šä¹‰
</h3>
<p>
falseï¼Œnullï¼Œundefinedå’Œtrueæ˜¯æœ‰æ•ˆçš„å­ç±»ã€‚ ä»–ä»¬æ ¹æœ¬ä¸renderã€‚ è¿™äº›JSXè¡¨è¾¾å¼å°†å‘ˆç°ç›¸åŒçš„ä¸œè¥¿ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="o">&lt;</span><span class="nx">div</span> <span class="o">/&gt;</span>
</span><span class="line">
</span><span class="line"><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;&lt;</span><span class="err">/div&gt;</span>
</span><span class="line">
</span><span class="line"><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{</span><span class="kc">false</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
</span><span class="line">
</span><span class="line"><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{</span><span class="kc">null</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
</span><span class="line">
</span><span class="line"><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{</span><span class="kc">true</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
è¿™å¯¹äºæœ‰æ¡ä»¶åœ°å‘ˆç°Reactå…ƒç´ å¾ˆæœ‰ç”¨ã€‚ è¿™ä¸ªJSXåªæ¸²æŸ“ä¸€ä¸ª<code><header /></code>å¦‚æœshowHeaderä¸ºtrueï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span><span class="line">  <span class="p">{</span><span class="nx">showHeader</span> <span class="o">&amp;&amp;</span> <span class="o">&lt;</span><span class="nx">Header</span> <span class="o">/&gt;</span><span class="p">}</span>
</span><span class="line">  <span class="o">&lt;</span><span class="nx">Content</span> <span class="o">/&gt;</span>
</span><span class="line"><span class="o">&lt;</span><span class="err">/div</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
ä¸€ä¸ªè­¦å‘Šæ˜¯ï¼Œä¸€äº›<a href="https://developer.mozilla.org/en-US/docs/Glossary/Falsy">â€œfalsyâ€å€¼</a>ï¼Œå¦‚0å·ï¼Œä»ç„¶ç”±Reactæ¸²æŸ“ã€‚ ä¾‹å¦‚ï¼Œæ­¤ä»£ç å°†ä¸ä¼šåƒæ‚¨é¢„æœŸçš„é‚£æ ·å·¥ä½œï¼Œå› ä¸ºå½“props.messagesæ˜¯ç©ºæ•°ç»„æ—¶å°†æ‰“å°0ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span><span class="line">  <span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">messages</span><span class="p">.</span><span class="nx">length</span> <span class="o">&amp;&amp;</span>
</span><span class="line">    <span class="o">&lt;</span><span class="nx">MessageList</span> <span class="nx">messages</span><span class="o">=</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">messages</span><span class="p">}</span> <span class="o">/&gt;</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¯·ç¡®ä¿&amp;&amp;ä¹‹å‰çš„è¡¨è¾¾å¼å§‹ç»ˆæ˜¯å¸ƒå°”å€¼ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span><span class="line">  <span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">messages</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span>
</span><span class="line">    <span class="o">&lt;</span><span class="nx">MessageList</span> <span class="nx">messages</span><span class="o">=</span><span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">messages</span><span class="p">}</span> <span class="o">/&gt;</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
ç›¸åï¼Œå¦‚æœä½ æƒ³è¦ä¸€ä¸ªå€¼å¦‚falseï¼Œtrueï¼Œnullæˆ–undefinedå‡ºç°åœ¨è¾“å‡ºä¸­ï¼Œä½ å¿…é¡»å…ˆå°†å®ƒ<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String#String_conversion">è½¬æ¢ä¸ºå­—ç¬¦ä¸²</a>ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span><span class="line">  <span class="nx">My</span> <span class="nx">JavaScript</span> <span class="nx">variable</span> <span class="nx">is</span> <span class="p">{</span><span class="nb">String</span><span class="p">(</span><span class="nx">myVariable</span><span class="p">)}.</span>
</span><span class="line"><span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>
<hr />
<p class="post-footer">
                        written by <a href="http://ITMonkeyLife.github.io/Blog">Rick</a>&nbsp;posted at <a href="http://ITMonkeyLife.github.io/Blog">http://ITMonkeyLife.github.io/Blog</a></p>
</span></div></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[React.js é¡¹ç›®æŒ‡å—]]></title>
    <link href="http://ITMonkeyLife.github.io/Blog/blog/2016/11/21/react-dot-js-xiang-mu-zhi-nan/"/>
    <updated>2016-11-21T09:52:42+08:00</updated>
    <id>http://ITMonkeyLife.github.io/Blog/blog/2016/11/21/react-dot-js-xiang-mu-zhi-nan</id>
    <content type="html"><![CDATA[<p>React æ˜¯ä¸€ç§å£°æ˜æ€§ã€é«˜æ•ˆå’Œçµæ´»çš„JavaScriptåº“æ¥æ„å»ºç”¨æˆ·ç•Œé¢ã€‚</p>
<h2>
React ç»„ä»¶
</h2>
<p>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">class</span> <span class="nx">ShoppingList</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="p">(</span>
</span><span class="line">      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;shopping-list&quot;</span><span class="o">&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">h1</span><span class="o">&gt;</span><span class="nx">Shopping</span> <span class="nx">List</span> <span class="k">for</span> <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/h1&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
</span><span class="line">          <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">Instagram</span><span class="o">&lt;</span><span class="err">/li&gt;</span>
</span><span class="line">          <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">WhatsApp</span><span class="o">&lt;</span><span class="err">/li&gt;</span>
</span><span class="line">          <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">Oculus</span><span class="o">&lt;</span><span class="err">/li&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="err">/ul&gt;</span>
</span><span class="line">      <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span><span class="line">    <span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="c1">// Example usage: &lt;ShoppingList name=&quot;Mark&quot; /&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
ç»„ä»¶å‘Šè¯‰Reactä½ æƒ³æä¾›çš„ï¼Œç„¶åReactä¼šåœ¨ä½ æ•°æ®æ›´æ–°æ—¶é«˜æ•ˆæ›´æ–°å’Œæä¾›æ­£ç¡®ç»„ä»¶ã€‚

åœ¨è¿™é‡Œï¼ŒShoppingList æ˜¯ä¸€ä¸ªReactç»„ä»¶ç±»æˆ–è€…Reactç»„ä»¶ç±»å‹ã€‚ä¸€ä¸ªç»„ä»¶åŒ…å«çš„å‚æ•°æˆä¸ºpropsï¼Œå¹¶ä¸”é€šè¿‡renderæ–¹æ³•è¿”å›ä¸€ä¸ªå±‚çº§è§†å›¾æ¥æ˜¾ç¤ºã€‚

render æ–¹æ³•è¿”å›ä¸€ä¸ªæè¿°å…³äºä½ æƒ³renderçš„ï¼Œå¹¶ä¸”Reacté‡‡ç”¨æè¿°è¿”å›ç»™å±å¹•ã€‚ç‰¹åˆ«æ˜¯ï¼Œrenderä¼šè¿”å›ä¸€ä¸ªReactå…ƒç´ ï¼Œä¸€ä¸ªrenderä»€ä¹ˆçš„è½»é‡çº§æè¿°ã€‚è®¸å¤šReactå¼€å‘è€…ä½¿ç”¨ä¸€ä¸ªç‰¹æ®Šçš„è¯­æ³•ç§°ä¹‹ä¸ºJSXï¼Œå¯ä»¥æ›´æ–¹ä¾¿çš„ç¼–å†™è¿™äº›ç»“æ„ã€‚divæ ‡è®°åœ¨ç¼–è¯‘æ—¶è¢«è½¬åŒ–æˆäº†React.createElement(&#8216;div&#8217;)ã€‚
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="k">return</span> <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="p">{</span><span class="nx">className</span><span class="o">:</span> <span class="s1">&#39;shopping-list&#39;</span><span class="p">},</span>
</span><span class="line">  <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;h1&#39;</span><span class="p">,</span> <span class="p">...),</span>
</span><span class="line">  <span class="nx">React</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;ul&#39;</span><span class="p">,</span> <span class="p">...)</span>
</span><span class="line"><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
å¯ä»¥å°†ä»»ä½• JavaScript è¡¨è¾¾å¼æ”¾åœ¨å¤§æ‹¬å·å†… JSX å†…ã€‚Reactçš„æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªçœŸæ­£çš„ JavaScript å¯¹è±¡ï¼Œå¯ä»¥å­˜å‚¨åœ¨ä¸€ä¸ªå˜é‡æˆ–åœ¨ç¨‹åºä¸­ä¼ é€’ã€‚
ShoppingListç»„ä»¶åªèƒ½åœ¨å†…ç½®çš„DOMç»„ä»¶æä¾›ï¼Œä½†æ˜¯ä½ èƒ½è‡ªå·±ç»„åˆä¸€ä¸ªå®šåˆ¶çš„Reactç»„ä»¶ã€‚é€šè¿‡<code><shoppinglist /></code>ã€‚æ¯ä¸ªç»„ä»¶éƒ½åŒ…å«å› æ­¤ä»–èƒ½ç‹¬ç«‹æ“ä½œï¼Œå…è®¸ä½ æ„å»ºå¤æ‚çš„UIé€šè¿‡ç®€å•çš„ç»„ä»¶ã€‚
</p>

<h2>
å®ä¾‹
</h2>
<p>
é€šè¿‡ä¸‹é¢çš„ä¾‹å­æ¥è®²è§£Reactï¼š
<!--more-->
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
<span class="line-number">46</span>
<span class="line-number">47</span>
<span class="line-number">48</span>
<span class="line-number">49</span>
<span class="line-number">50</span>
<span class="line-number">51</span>
<span class="line-number">52</span>
<span class="line-number">53</span>
<span class="line-number">54</span>
<span class="line-number">55</span>
<span class="line-number">56</span>
<span class="line-number">57</span>
<span class="line-number">58</span>
<span class="line-number">59</span>
<span class="line-number">60</span>
<span class="line-number">61</span>
<span class="line-number">62</span>
<span class="line-number">63</span>
<span class="line-number">64</span>
<span class="line-number">65</span>
<span class="line-number">66</span>
<span class="line-number">67</span>
<span class="line-number">68</span>
<span class="line-number">69</span>
<span class="line-number">70</span>
<span class="line-number">71</span>
<span class="line-number">72</span>
<span class="line-number">73</span>
<span class="line-number">74</span>
<span class="line-number">75</span>
<span class="line-number">76</span>
<span class="line-number">77</span>
<span class="line-number">78</span>
<span class="line-number">79</span>
<span class="line-number">80</span>
<span class="line-number">81</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">class</span> <span class="nx">Square</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="p">(</span>
</span><span class="line">      <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;square&quot;</span><span class="o">&gt;</span>
</span><span class="line">        <span class="p">{</span><span class="cm">/* TODO */</span><span class="p">}</span>
</span><span class="line">      <span class="o">&lt;</span><span class="err">/button&gt;</span>
</span><span class="line">    <span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kr">class</span> <span class="nx">Board</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">renderSquare</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">Square</span> <span class="o">/&gt;</span><span class="p">;</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="kr">const</span> <span class="nx">status</span> <span class="o">=</span> <span class="s1">&#39;Next player: X&#39;</span><span class="p">;</span>
</span><span class="line">    <span class="k">return</span> <span class="p">(</span>
</span><span class="line">      <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;status&quot;</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">status</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;board-row&quot;</span><span class="o">&gt;</span>
</span><span class="line">          <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">renderSquare</span><span class="p">(</span><span class="mi">0</span><span class="p">)}</span>
</span><span class="line">          <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">renderSquare</span><span class="p">(</span><span class="mi">1</span><span class="p">)}</span>
</span><span class="line">          <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">renderSquare</span><span class="p">(</span><span class="mi">2</span><span class="p">)}</span>
</span><span class="line">        <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;board-row&quot;</span><span class="o">&gt;</span>
</span><span class="line">          <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">renderSquare</span><span class="p">(</span><span class="mi">3</span><span class="p">)}</span>
</span><span class="line">          <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">renderSquare</span><span class="p">(</span><span class="mi">4</span><span class="p">)}</span>
</span><span class="line">          <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">renderSquare</span><span class="p">(</span><span class="mi">5</span><span class="p">)}</span>
</span><span class="line">        <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;board-row&quot;</span><span class="o">&gt;</span>
</span><span class="line">          <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">renderSquare</span><span class="p">(</span><span class="mi">6</span><span class="p">)}</span>
</span><span class="line">          <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">renderSquare</span><span class="p">(</span><span class="mi">7</span><span class="p">)}</span>
</span><span class="line">          <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">renderSquare</span><span class="p">(</span><span class="mi">8</span><span class="p">)}</span>
</span><span class="line">        <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span><span class="line">      <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span><span class="line">    <span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kr">class</span> <span class="nx">Game</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="p">(</span>
</span><span class="line">      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;game&quot;</span><span class="o">&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;game-board&quot;</span><span class="o">&gt;</span>
</span><span class="line">          <span class="o">&lt;</span><span class="nx">Board</span> <span class="o">/&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;game-info&quot;</span><span class="o">&gt;</span>
</span><span class="line">          <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{</span><span class="cm">/* status */</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
</span><span class="line">          <span class="o">&lt;</span><span class="nx">ol</span><span class="o">&gt;</span><span class="p">{</span><span class="cm">/* TODO */</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/ol&gt;</span>
</span><span class="line">        <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span><span class="line">      <span class="o">&lt;</span><span class="err">/div&gt;</span>
</span><span class="line">    <span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="c1">// ========================================</span>
</span><span class="line">
</span><span class="line"><span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
</span><span class="line">  <span class="o">&lt;</span><span class="nx">Game</span> <span class="o">/&gt;</span><span class="p">,</span>
</span><span class="line">  <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;container&#39;</span><span class="p">)</span>
</span><span class="line"><span class="p">);</span>
</span><span class="line">
</span><span class="line"><span class="kd">function</span> <span class="nx">calculateWinner</span><span class="p">(</span><span class="nx">squares</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="kr">const</span> <span class="nx">lines</span> <span class="o">=</span> <span class="p">[</span>
</span><span class="line">    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
</span><span class="line">    <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span>
</span><span class="line">    <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>
</span><span class="line">    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
</span><span class="line">    <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span>
</span><span class="line">    <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>
</span><span class="line">    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span>
</span><span class="line">    <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
</span><span class="line">  <span class="p">];</span>
</span><span class="line">  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">lines</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="kr">const</span> <span class="p">[</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">]</span> <span class="o">=</span> <span class="nx">lines</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
</span><span class="line">    <span class="k">if</span> <span class="p">(</span><span class="nx">squares</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nx">squares</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span> <span class="o">===</span> <span class="nx">squares</span><span class="p">[</span><span class="nx">b</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nx">squares</span><span class="p">[</span><span class="nx">a</span><span class="p">]</span> <span class="o">===</span> <span class="nx">squares</span><span class="p">[</span><span class="nx">c</span><span class="p">])</span> <span class="p">{</span>
</span><span class="line">      <span class="k">return</span> <span class="nx">squares</span><span class="p">[</span><span class="nx">a</span><span class="p">];</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">  <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
å®ƒåŒ…å«äº†ä»Šå¤©éœ€è¦ç¼–å†™çš„è„šæœ¬ã€‚å®ƒä¼šæä¾›ä¸€äº›æ ·å¼è¿™æ ·ä½ åªéœ€è¦å…³å¿ƒçš„ä½ javascriptã€‚
æˆ‘ä»¬æœ‰ä¸‰ä¸ªç»„ä»¶ï¼š
<ul>
<li>Square</li>
<li>Board</li>
<li>Game</li>
</ul>

Squareç»„ä»¶æä¾›ä¸€ä¸ªdivï¼ŒBoardæä¾›9å®«æ ¼ï¼ŒGameæä¾›ä¸€ä¸ªæ¿åŒ…å«æˆ‘ä»¬æ¥ä¸‹æ¥è¦å¡«çš„å­—æ®µã€‚calculateWinnerè¿™ä¸ªå‡½æ•°æˆ‘ä»¬æ¥ä¸‹æ¥ä¼šç”¨åˆ°ã€‚
</p>
<h3>
é€šè¿‡propsä¼ é€’æ•°æ®
</h3>
<p>
æˆ‘ä»¬è¯•å›¾ä»Boardç»„ä»¶ä¼ é€’æ•°æ®åˆ°Squareç»„ä»¶ã€‚Boardçš„renderSquareæ–¹æ³•ï¼Œæ”¹å˜è¿™ä¸ªä»£ç å»è¿”å›<code>&lt;Square value={i} /&gt;</code>ç„¶åæ”¹å˜Squareçš„renderæ–¹æ³•å±•ç¤ºæ›¿æ¢<code>{/* TODO*/}</code>ä¸º<code>{this.props.value}</code>
</p>
<h3>
ä¸€ä¸ªäº¤äº’çš„ç»„ä»¶
</h3>
<p>
Squareç»„ä»¶å¡«å……
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;button</span> <span class="na">className=</span><span class="s">&quot;square&quot;</span> <span class="na">onClick=</span><span class="s">{()</span> <span class="err">=</span><span class="nt">&gt;</span> alert(&#39;click&#39;)}&gt;
</span></code></pre></td></tr></table></div></figure></notextile></div>
é€šè¿‡åœ¨æ„é€ å‡½æ•°ä¸­è®¾ç½®this.stateï¼ŒReactç»„ä»¶å¯ä»¥å…·æœ‰çŠ¶æ€ï¼Œè¿™åº”è¯¥è¢«è§†ä¸ºç»„ä»¶çš„ç§æœ‰ã€‚ è®©æˆ‘ä»¬å°†æ–¹å½¢çš„å½“å‰å€¼å­˜å‚¨åœ¨çŠ¶æ€ä¸­ï¼Œå¹¶åœ¨å•å‡»æ–¹å½¢æ—¶æ›´æ”¹å®ƒã€‚ é¦–å…ˆï¼Œå‘ç±»æ·»åŠ ä¸€ä¸ªæ„é€ å‡½æ•°ä»¥åˆå§‹åŒ–çŠ¶æ€ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">class</span> <span class="nx">Square</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="kr">super</span><span class="p">();</span>
</span><span class="line">    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">      <span class="nx">value</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="line">    <span class="p">};</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">  <span class="p">...</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
åœ¨JavaScriptç±»ä¸­ï¼Œéœ€è¦æ˜¾å¼è°ƒç”¨superï¼ˆï¼‰; å½“å®šä¹‰ä¸€ä¸ªå­ç±»çš„æ„é€ å‡½æ•°ã€‚

ç°åœ¨æ›´æ”¹renderæ–¹æ³•ä»¥æ˜¾ç¤ºthis.state.valueï¼Œè€Œä¸æ˜¯this.props.valueï¼Œå¹¶å°†äº‹ä»¶å¤„ç†ç¨‹åºæ›´æ”¹ä¸ºbeï¼ˆï¼‰=&gt; this.setStateï¼ˆ{valueï¼š&#8217;X&#8217;}ï¼‰ï¼Œè€Œä¸æ˜¯alertï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="o">&lt;</span><span class="nx">button</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;square&quot;</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;X&#39;</span><span class="p">})}</span><span class="o">&gt;</span>
</span><span class="line">    <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">value</span><span class="p">}</span>
</span><span class="line"><span class="o">&lt;</span><span class="err">/button&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
æ¯å½“è°ƒç”¨this.setStateæ—¶ï¼Œéƒ½ä¼šè°ƒåº¦ç»„ä»¶çš„æ›´æ–°ï¼Œå¯¼è‡´Reactåœ¨å·²ä¼ é€’çš„çŠ¶æ€æ›´æ–°ä¸­åˆå¹¶ï¼Œå¹¶é‡æ–°æ¸²æŸ“ç»„ä»¶åŠå…¶åä»£ã€‚ å½“ç»„ä»¶é‡å»ºæ—¶ï¼Œthis.state.valueå°†æ˜¯&#8217;X&#8217;ï¼Œæ‰€ä»¥ä½ å°†åœ¨ç½‘æ ¼ä¸­çœ‹åˆ°ä¸€ä¸ªX.
</p>
<h3>
å¼€å‘å·¥å…·
</h3>
<p>
Chromeå’ŒFirefoxçš„React Devtools Extensionså…è®¸æ‚¨æ£€æŸ¥æµè§ˆå™¨devtoolsä¸­çš„Reactç»„ä»¶æ ‘ã€‚

å®ƒå…è®¸æ‚¨æ£€æŸ¥æ ‘ä¸­ä»»ä½•ç»„ä»¶çš„é“å…·å’ŒçŠ¶æ€ã€‚

å®ƒä¸èƒ½åœ¨CodePenä¸Šå·¥ä½œå¾ˆå¥½ï¼Œå› ä¸ºå¤šä¸ªæ¡†æ¶ï¼Œä½†å¦‚æœä½ ç™»å½•åˆ°CodePenå¹¶ç¡®è®¤æ‚¨çš„ç”µå­é‚®ä»¶ï¼ˆä¸ºé˜²æ­¢åƒåœ¾é‚®ä»¶ï¼‰ï¼Œæ‚¨å¯ä»¥è½¬åˆ°æ›´æ”¹è§†å›¾&gt;è°ƒè¯•ä»¥åœ¨æ–°æ ‡ç­¾ä¸­æ‰“å¼€æ‚¨çš„ä»£ç ï¼Œç„¶å devtoolså°†å·¥ä½œã€‚ è¿™æ˜¯å¾ˆå¥½ï¼Œå¦‚æœä½ ä¸æƒ³è¿™æ ·åšã€‚
</p>
<h3>
å‘ä¸Šç§»åŠ¨çŠ¶æ€
</h3>
<p>
æˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªtic-tac-toeæ¸¸æˆçš„åŸºæœ¬æ„å»ºå—ã€‚ ä½†ç°åœ¨ï¼ŒçŠ¶æ€è¢«å°è£…åœ¨æ¯ä¸ªSquareç»„ä»¶ä¸­ã€‚ è¦åšä¸€ä¸ªå…¨é¢çš„æ¸¸æˆï¼Œæˆ‘ä»¬ç°åœ¨éœ€è¦æ£€æŸ¥ä¸€ä¸ªç©å®¶æ˜¯å¦èµ¢å¾—äº†æ¸¸æˆï¼Œå¹¶å°†Xå’ŒOäº¤æ›¿æ”¾ç½®åœ¨æ­£æ–¹å½¢ä¸­ã€‚ è¦æ£€æŸ¥æŸäººæ˜¯å¦èµ¢äº†ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä¸€ä¸ªåœ°æ–¹æ‹¥æœ‰æ‰€æœ‰9ä¸ªæ–¹å—çš„å€¼ï¼Œè€Œä¸æ˜¯åœ¨Squareç»„ä»¶ä¹‹é—´æ‹†åˆ†ã€‚

ä½ å¯èƒ½è®¤ä¸ºBoardåº”è¯¥è¯¢é—®æ¯ä¸ªSquareçš„å½“å‰çŠ¶æ€ã€‚ è™½ç„¶åœ¨æŠ€æœ¯ä¸Šå¯ä»¥åœ¨Reactä¸­åšåˆ°è¿™ä¸€ç‚¹ï¼Œä½†æ˜¯å®ƒä¸é¼“åŠ±ï¼Œå› ä¸ºå®ƒå¾€å¾€ä½¿ä»£ç éš¾ä»¥ç†è§£ï¼Œæ›´è„†å¼±ï¼Œæ›´éš¾é‡æ„ã€‚

ç›¸åï¼Œè¿™é‡Œçš„æœ€ä½³è§£å†³æ–¹æ¡ˆæ˜¯å°†æ­¤çŠ¶æ€å­˜å‚¨åœ¨Boardç»„ä»¶ä¸­ï¼Œè€Œä¸æ˜¯æ¯ä¸ªSquare - å¹¶ä¸”Boardç»„ä»¶å¯ä»¥å‘Šè¯‰æ¯ä¸ªSquareè¦æ˜¾ç¤ºä»€ä¹ˆï¼Œå°±åƒæˆ‘ä»¬å¦‚ä½•è®©æ¯ä¸ªæ–¹å—æ—©å…ˆæ˜¾ç¤ºå…¶ç´¢å¼•ã€‚

å½“è¦èšåˆæ¥è‡ªå¤šä¸ªå­é¡¹çš„æ•°æ®æˆ–ä½¿ä¸¤ä¸ªå­ç»„ä»¶ç›¸äº’é€šä¿¡æ—¶ï¼Œå‘ä¸Šç§»åŠ¨çŠ¶æ€ï¼Œä½¿å…¶å±…ä½åœ¨çˆ¶ç»„ä»¶ä¸­ã€‚ ç„¶åçˆ¶å¯¹è±¡å¯ä»¥é€šè¿‡propså°†çŠ¶æ€ä¼ å›ç»™å­©å­ï¼Œè¿™æ ·å­ç»„ä»¶æ€»æ˜¯ä¸çˆ¶å¯¹è±¡å’Œçˆ¶å¯¹è±¡åŒæ­¥ã€‚

åœ¨é‡æ„Reactç»„ä»¶æ—¶ï¼Œå‘ä¸Šæ‹‰è¿™ç§çŠ¶æ€æ˜¯å¾ˆå¸¸è§çš„ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬å€Ÿæ­¤æœºä¼šå°è¯•ä¸€ä¸‹ã€‚ ä¸ºåŒ…å«å…·æœ‰9ä¸ªç©ºå€¼çš„æ•°ç»„çš„Boardæ·»åŠ åˆå§‹çŠ¶æ€ï¼Œå¯¹åº”äº9ä¸ªæ­£æ–¹å½¢ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">class</span> <span class="nx">Board</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="kr">super</span><span class="p">();</span>
</span><span class="line">    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">      <span class="nx">squares</span><span class="o">:</span> <span class="nb">Array</span><span class="p">(</span><span class="mi">9</span><span class="p">).</span><span class="nx">fill</span><span class="p">(</span><span class="kc">null</span><span class="p">),</span>
</span><span class="line">    <span class="p">};</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
æˆ‘ä»¬ä¼šåœ¨ä»¥åå¡«å†™å®ƒï¼Œä½¿æ¿å­çœ‹èµ·æ¥åƒ:
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="p">[</span>
</span><span class="line">  <span class="s1">&#39;O&#39;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span>
</span><span class="line">  <span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;O&#39;</span><span class="p">,</span>
</span><span class="line">  <span class="s1">&#39;O&#39;</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span>
</span><span class="line"><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
ä¼ é€’æ¯ä¸ªæ–¹å—çš„å€¼
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="nx">renderSquare</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">Square</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">squares</span><span class="p">[</span><span class="nx">i</span><span class="p">]}</span> <span class="o">/&gt;</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
å¹¶æ›´æ”¹Squareä»¥å†æ¬¡ä½¿ç”¨this.props.valueã€‚ ç°åœ¨æˆ‘ä»¬éœ€è¦æ”¹å˜ç‚¹å‡»æ–¹å—æ—¶å‘ç”Ÿçš„æƒ…å†µã€‚ Boardç»„ä»¶ç°åœ¨å­˜å‚¨å“ªäº›æ–¹å—å¡«å……ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬éœ€è¦ä¸€äº›æ–¹æ³•æ¥æ›´æ–°Boardçš„çŠ¶æ€ã€‚ ç”±äºç»„ä»¶çŠ¶æ€è¢«è®¤ä¸ºæ˜¯ç§æœ‰çš„ï¼Œæˆ‘ä»¬ä¸èƒ½ç›´æ¥ä»Squareæ›´æ–°Boardçš„çŠ¶æ€ã€‚ è¿™é‡Œé€šå¸¸çš„æ¨¡å¼æ˜¯ä¼ é€’ä¸€ä¸ªå‡½æ•°ä»Boardåˆ°Squareï¼Œå½“æ–¹å—è¢«ç‚¹å‡»æ—¶è¢«è°ƒç”¨ã€‚ å†æ¬¡æ›´æ”¹renderSquareï¼Œä½¿å…¶æ˜¾ç¤ºä¸ºï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="k">return</span> <span class="o">&lt;</span><span class="nx">Square</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">squares</span><span class="p">[</span><span class="nx">i</span><span class="p">]}</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleClick</span><span class="p">(</span><span class="nx">i</span><span class="p">)}</span> <span class="o">/&gt;</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
ç°åœ¨æˆ‘ä»¬æŠŠä¸¤ä¸ªpropsä»Boardä¼ é€’ç»™Squareï¼švalueå’ŒonClickã€‚ åè€…æ˜¯Squareå¯ä»¥è°ƒç”¨çš„å‡½æ•°ã€‚ æ‰€ä»¥è®©æˆ‘ä»¬é€šè¿‡æ”¹å˜åœ¨Squareä¸­çš„renderæœ‰ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="o">&lt;</span><span class="nx">button</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;square&quot;</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">onClick</span><span class="p">()}</span><span class="o">&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
è¿™æ„å‘³ç€ï¼Œå½“æ–¹å—è¢«ç‚¹å‡»æ—¶ï¼Œå®ƒè°ƒç”¨ç”±çˆ¶ä»£ä¼ é€’çš„onClickå‡½æ•°ã€‚ onClickåœ¨è¿™é‡Œæ²¡æœ‰ä»»ä½•ç‰¹æ®Šçš„æ„ä¹‰ï¼Œä½†å®ƒå¾ˆå—æ¬¢è¿çš„å‘½åå¤„ç†ç¨‹åºé“å…·ä»å¼€å§‹å’Œä»–ä»¬çš„å®ç°ä¸å¥æŸ„ã€‚ å°è¯•ç‚¹å‡»ä¸€ä¸ªæ–¹å— - ä½ åº”è¯¥å¾—åˆ°ä¸€ä¸ªé”™è¯¯ï¼Œå› ä¸ºæˆ‘ä»¬è¿˜æ²¡æœ‰å®šä¹‰handleClickã€‚ å°†å…¶æ·»åŠ åˆ°Boardç±»ä¸­ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="nx">handleClick</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="kr">const</span> <span class="nx">squares</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">squares</span><span class="p">.</span><span class="nx">slice</span><span class="p">();</span>
</span><span class="line">  <span class="nx">squares</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;X&#39;</span><span class="p">;</span>
</span><span class="line">  <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span><span class="nx">squares</span><span class="o">:</span> <span class="nx">squares</span><span class="p">});</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
æˆ‘ä»¬è°ƒç”¨.sliceï¼ˆï¼‰æ¥å¤åˆ¶squareæ•°ç»„ï¼Œè€Œä¸æ˜¯æ”¹å˜ç°æœ‰æ•°ç»„ã€‚ ä¸‹é¢ä¼šäº†è§£ä¸ºä»€ä¹ˆä¸å˜æ€§å¾ˆé‡è¦ã€‚

ç°åœ¨ä½ åº”è¯¥èƒ½å¤Ÿç‚¹å‡»æ–¹å—å†æ¬¡å¡«å……å®ƒä»¬ï¼Œä½†çŠ¶æ€å­˜å‚¨åœ¨Boardç»„ä»¶ï¼Œè€Œä¸æ˜¯æ¯ä¸ªSquareï¼Œè¿™ä½¿æˆ‘ä»¬ç»§ç»­æ„å»ºæ¸¸æˆã€‚ æ³¨æ„æ¯å½“Boardçš„çŠ¶æ€æ”¹å˜æ—¶ï¼ŒSquareç»„ä»¶ä¼šè‡ªåŠ¨é‡æ–°æ¸²æŸ“ã€‚

Boardä¸å†ä¿æŒè‡ªå·±çš„çŠ¶æ€; å®ƒä»å…¶çˆ¶Boardæ¥æ”¶å…¶å€¼ï¼Œå¹¶åœ¨å…¶è¢«ç‚¹å‡»æ—¶é€šçŸ¥å…¶çˆ¶çº§ã€‚ æˆ‘ä»¬è°ƒç”¨ç±»ä¼¼è¿™ç§å—æ§ç»„ä»¶çš„ç»„ä»¶ã€‚
</p>
<h3>
ä¸ºä»€ä¹ˆä¸å˜æ€§å¾ˆé‡è¦
</h3>
<p>
åœ¨å‰é¢çš„ä»£ç ç¤ºä¾‹ä¸­ï¼Œæˆ‘å»ºè®®ä½¿ç”¨.sliceï¼ˆï¼‰è¿ç®—ç¬¦åœ¨è¿›è¡Œæ›´æ”¹ä¹‹å‰å¤åˆ¶æ–¹å—æ•°ç»„ï¼Œå¹¶é˜²æ­¢å¯¹ç°æœ‰æ•°ç»„è¿›è¡Œä¿®æ”¹ã€‚ è®©æˆ‘ä»¬æ¥è°ˆè°ˆè¿™æ˜¯ä»€ä¹ˆæ„æ€ï¼Œä»¥åŠä¸ºä»€ä¹ˆå®ƒæ˜¯ä¸€ä¸ªé‡è¦çš„å­¦ä¹ æ¦‚å¿µã€‚

é€šå¸¸æœ‰ä¸¤ç§æ–¹å¼æ¥æ”¹å˜æ•°æ®ã€‚ ç¬¬ä¸€ç§æ–¹æ³•æ˜¯é€šè¿‡ç›´æ¥æ”¹å˜å˜é‡çš„å€¼æ¥æ”¹å˜æ•°æ®ã€‚ ç¬¬äºŒç§æ–¹æ³•æ˜¯ä½¿ç”¨è¿˜åŒ…æ‹¬æ‰€éœ€æ›´æ”¹çš„å¯¹è±¡çš„æ–°å‰¯æœ¬æ›¿æ¢æ•°æ®ã€‚

ç›´æ¥æ›´æ”¹å˜é‡çš„å€¼
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">player</span> <span class="o">=</span> <span class="p">{</span><span class="nx">score</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Jeff&#39;</span><span class="p">};</span>
</span><span class="line"><span class="nx">player</span><span class="p">.</span><span class="nx">score</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
</span><span class="line"><span class="c1">// Now player is {score: 2, name: &#39;Jeff&#39;}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

ä¸ç›´æ¥æ›´æ”¹å˜é‡çš„å€¼
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">var</span> <span class="nx">player</span> <span class="o">=</span> <span class="p">{</span><span class="nx">score</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;Jeff&#39;</span><span class="p">};</span>
</span><span class="line">
</span><span class="line"><span class="kd">var</span> <span class="nx">newPlayer</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">({},</span> <span class="nx">player</span><span class="p">,</span> <span class="p">{</span><span class="nx">score</span><span class="o">:</span> <span class="mi">2</span><span class="p">});</span>
</span><span class="line"><span class="c1">// Now player is unchanged, but newPlayer is {score: 2, name: &#39;Jeff&#39;}</span>
</span><span class="line">
</span><span class="line"><span class="c1">// Or if you are using object spread, you can write:</span>
</span><span class="line"><span class="c1">// var newPlayer = {score: 2, ...player};</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
æœ€ç»ˆç»“æœæ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯é€šè¿‡ä¸ç›´æ¥æ”¹å˜ï¼ˆæˆ–æ”¹å˜åº•å±‚æ•°æ®ï¼‰ï¼Œæˆ‘ä»¬ç°åœ¨æœ‰ä¸€ä¸ªé¢å¤–çš„å¥½å¤„ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬å¢åŠ ç»„ä»¶å’Œæ€»ä½“åº”ç”¨ç¨‹åºæ€§èƒ½ã€‚
</p>
<h4>
è¿½è¸ªå˜åŒ–
</h4>
<p>
ç¡®å®šæ”¹å˜å¯¹è±¡æ˜¯å¦å·²æ›´æ”¹æ˜¯å¤æ‚çš„ï¼Œå› ä¸ºæ›´æ”¹æ˜¯ç›´æ¥å¯¹å¯¹è±¡è¿›è¡Œçš„ã€‚ è¿™éœ€è¦å°†å½“å‰å¯¹è±¡ä¸å‰ä¸€ä¸ªå‰¯æœ¬è¿›è¡Œæ¯”è¾ƒï¼Œéå†æ•´ä¸ªå¯¹è±¡æ ‘ï¼Œå¹¶æ¯”è¾ƒæ¯ä¸ªå˜é‡å’Œå€¼ã€‚ è¿™ä¸ªè¿‡ç¨‹å¯èƒ½å˜å¾—è¶Šæ¥è¶Šå¤æ‚ã€‚

ç¡®å®šä¸å¯å˜å¯¹è±¡å¦‚ä½•æ”¹å˜æ˜¯ç›¸å½“å®¹æ˜“çš„ã€‚ å¦‚æœè¢«å¼•ç”¨çš„å¯¹è±¡ä¸ä»¥å‰ä¸åŒï¼Œé‚£ä¹ˆå¯¹è±¡å·²ç»æ”¹å˜ã€‚
</p>
<h3>
ç¡®å®šä½•æ—¶åœ¨Reactä¸­é‡æ–°æ¸²æŸ“
</h3>
<p>
å½“ä½ æ„å»ºç®€å•çš„çº¯ç»„ä»¶æ—¶ï¼ŒReactä¸­ä¸å¯å˜æ€§çš„æœ€å¤§å¥½å¤„å°±æ˜¯ã€‚ ç”±äºä¸å¯å˜æ•°æ®å¯ä»¥æ›´å®¹æ˜“åœ°ç¡®å®šæ˜¯å¦å·²ç»è¿›è¡Œäº†æ›´æ”¹ï¼Œå› æ­¤ä¹Ÿæœ‰åŠ©äºç¡®å®šç»„ä»¶ä½•æ—¶éœ€è¦é‡æ–°æ¸²æŸ“ã€‚

è¦äº†è§£å¦‚ä½•æ„å»ºçº¯ç»„ä»¶ï¼Œè¯·å‚é˜…<a href="https://facebook.github.io/react/docs/update.html">shouldComponentUpdate()</a>ã€‚ å¦å¤–ï¼Œçœ‹çœ‹<a href="https://facebook.github.io/immutable-js/">Immutable.js</a>åº“æ¥ä¸¥æ ¼æ‰§è¡Œä¸å¯å˜çš„æ•°æ®ã€‚
</p>
<h2>
åŠŸèƒ½ç»„ä»¶
</h2>
<p>
å›åˆ°æˆ‘ä»¬çš„é¡¹ç›®ï¼Œä½ ç°åœ¨å¯ä»¥ä»Squareä¸­åˆ é™¤æ„é€ å‡½æ•°; æˆ‘ä»¬ä¸å†éœ€è¦å®ƒäº†ã€‚ äº‹å®ä¸Šï¼ŒReactæ”¯æŒä¸€ç§æ›´ç®€å•çš„è¯­æ³•ï¼Œç§°ä¸ºæ— çŠ¶æ€åŠŸèƒ½ç»„ä»¶ï¼Œç”¨äºç±»ä¼¼äºä»…ç”±æ¸²æŸ“æ–¹æ³•ç»„æˆçš„Squareã€‚ è€Œä¸æ˜¯å®šä¹‰ä¸€ä¸ªæ‰©å±•React.Componentçš„ç±»ï¼Œåªéœ€ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥å—propså¹¶è¿”å›åº”è¯¥æ¸²æŸ“çš„å†…å®¹ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">function</span> <span class="nx">Square</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="k">return</span> <span class="p">(</span>
</span><span class="line">    <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;square&quot;</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="nx">props</span><span class="p">.</span><span class="nx">onClick</span><span class="p">()}</span><span class="o">&gt;</span>
</span><span class="line">      <span class="p">{</span><span class="nx">props</span><span class="p">.</span><span class="nx">value</span><span class="p">}</span>
</span><span class="line">    <span class="o">&lt;</span><span class="err">/button&gt;</span>
</span><span class="line">  <span class="p">);</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
ä½ éœ€è¦æ”¹å˜this.propsåˆ°propsæ¯æ¬¡å‡ºç°ã€‚ æ‚¨çš„åº”ç”¨ç¨‹åºä¸­çš„è®¸å¤šç»„ä»¶å°†èƒ½å¤Ÿå†™ä½œåŠŸèƒ½ç»„ä»¶ï¼šè¿™äº›ç»„ä»¶å¾€å¾€æ›´å®¹æ˜“ç¼–å†™ï¼Œå¹¶ä¸”Reactå°†åœ¨æœªæ¥æ›´å¥½åœ°ä¼˜åŒ–å®ƒä»¬ã€‚
</p>
<h3>
è½®æ¢
</h3>
<p>
æˆ‘ä»¬çš„æ¸¸æˆçš„ä¸€ä¸ªæ˜æ˜¾ç¼ºé™·æ˜¯åªæœ‰Xå¯ä»¥ç©ã€‚ è®©æˆ‘ä»¬è§£å†³è¿™ä¸ªé—®é¢˜ã€‚

è®©æˆ‘ä»¬é»˜è®¤ç¬¬ä¸€ä¸ªç§»åŠ¨æ˜¯&#8217;X&#8217;ã€‚ åœ¨æˆ‘ä»¬çš„Boardæ„é€ å‡½æ•°ä¸­ä¿®æ”¹æˆ‘ä»¬çš„åˆå§‹çŠ¶æ€ã€‚
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">class</span> <span class="nx">Board</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="kr">super</span><span class="p">();</span>
</span><span class="line">    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">      <span class="p">...</span>
</span><span class="line">      <span class="nx">xIsNext</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span class="line">    <span class="p">};</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
æ¯æ¬¡æˆ‘ä»¬ç§»åŠ¨ï¼Œæˆ‘ä»¬å°†é€šè¿‡ç¿»è½¬å¸ƒå°”å€¼å¹¶ä¿å­˜çŠ¶æ€æ¥åˆ‡æ¢xIsNextã€‚ ç°åœ¨æ›´æ–°æˆ‘ä»¬çš„handleClickå‡½æ•°æ¥ç¿»è½¬xIsNextçš„å€¼ã€‚
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="nx">handleClick</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="kr">const</span> <span class="nx">squares</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">squares</span><span class="p">.</span><span class="nx">slice</span><span class="p">();</span>
</span><span class="line">  <span class="nx">squares</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">xIsNext</span> <span class="o">?</span> <span class="s1">&#39;X&#39;</span> <span class="o">:</span> <span class="s1">&#39;O&#39;</span><span class="p">;</span>
</span><span class="line">  <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span>
</span><span class="line">    <span class="nx">squares</span><span class="o">:</span> <span class="nx">squares</span><span class="p">,</span>
</span><span class="line">    <span class="nx">xIsNext</span><span class="o">:</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">xIsNext</span><span class="p">,</span>
</span><span class="line">  <span class="p">});</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
ç°åœ¨Xå’ŒOè½®æµã€‚ æ¥ä¸‹æ¥ï¼Œæ›´æ”¹Boardçš„æ¸²æŸ“ä¸­çš„â€œçŠ¶æ€â€æ–‡æœ¬ï¼Œä»¥ä¾¿å®ƒä¹Ÿæ˜¾ç¤ºä¸‹ä¸€ä¸ªæ˜¯è°ã€‚
</p>
<h3>
å®£å¸ƒè·èƒœè€…
</h3>
<p>
è®©æˆ‘ä»¬å±•ç¤ºæ¸¸æˆèµ¢äº†ã€‚ å·²åœ¨æ–‡ä»¶åº•éƒ¨ä¸ºæ‚¨æä¾›äº†ä¸€ä¸ªcalculateWinner(squares)åŠ©æ‰‹å‡½æ•°ï¼Œå…¶ä¸­åŒ…å«9ä¸ªå€¼çš„åˆ—è¡¨ã€‚ ä½ å¯ä»¥åœ¨Boardçš„renderå‡½æ•°ä¸­è°ƒç”¨å®ƒæ¥æ£€æŸ¥æ˜¯å¦æœ‰äººèµ¢å¾—äº†æ¸¸æˆï¼Œå¹¶ä¸”å½“æœ‰äººèµ¢äº†æ—¶ï¼Œä½¿çŠ¶æ€æ–‡æœ¬æ˜¾ç¤ºâ€œWinnerï¼š[X / O]â€ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">  <span class="kr">const</span> <span class="nx">winner</span> <span class="o">=</span> <span class="nx">calculateWinner</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">squares</span><span class="p">);</span>
</span><span class="line">  <span class="kd">let</span> <span class="nx">status</span><span class="p">;</span>
</span><span class="line">  <span class="k">if</span> <span class="p">(</span><span class="nx">winner</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">status</span> <span class="o">=</span> <span class="s1">&#39;Winner: &#39;</span> <span class="o">+</span> <span class="nx">winner</span><span class="p">;</span>
</span><span class="line">  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">status</span> <span class="o">=</span> <span class="s1">&#39;Next player: &#39;</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">xIsNext</span> <span class="o">?</span> <span class="s1">&#39;X&#39;</span> <span class="o">:</span> <span class="s1">&#39;O&#39;</span><span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">  <span class="p">...</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
ä½ ç°åœ¨å¯ä»¥æ›´æ”¹handleClickä»¥æ›´æ—©è¿”å›ï¼Œå¹¶å¿½ç•¥ç‚¹å‡»å¦‚æœæœ‰äººå·²ç»èµ¢å¾—äº†æ¸¸æˆæˆ–å¦‚æœä¸€ä¸ªsquareå·²ç»å¡«å……ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="nx">handleClick</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="kr">const</span> <span class="nx">squares</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">squares</span><span class="p">.</span><span class="nx">slice</span><span class="p">();</span>
</span><span class="line">  <span class="k">if</span> <span class="p">(</span><span class="nx">calculateWinner</span><span class="p">(</span><span class="nx">squares</span><span class="p">)</span> <span class="o">||</span> <span class="nx">squares</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span><span class="p">;</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">  <span class="p">...</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
æ­å–œï¼ ä½ ç°åœ¨æœ‰ä¸€ä¸ªå·¥ä½œçš„tic-tac-toeæ¸¸æˆã€‚ ç°åœ¨ä½ çŸ¥é“Reactçš„åŸºæœ¬çŸ¥è¯†ã€‚ æ‰€ä»¥ä½ å¯èƒ½æ˜¯çœŸæ­£çš„èµ¢å®¶ã€‚
</p>
<h3>
å­˜å‚¨å†å²
</h3>
<p>
è®©æˆ‘ä»¬å¯ä»¥é‡æ–°å®¡è§†boardçš„æ—§çŠ¶æ€ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨ä»»ä½•ä»¥å‰çš„ä¸¾åŠ¨åï¼Œå®ƒçœ‹èµ·æ¥åƒä»€ä¹ˆã€‚ æˆ‘ä»¬å·²ç»åœ¨æ¯æ¬¡ç§»åŠ¨æ—¶åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„æ–¹å½¢æ•°ç»„ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥è½»æ¾åœ°åŒæ—¶å­˜å‚¨è¿‡å»çš„boardçŠ¶æ€ã€‚

è®©æˆ‘ä»¬è®¡åˆ’åœ¨çŠ¶æ€ä¸­å­˜å‚¨ä¸€ä¸ªè¿™æ ·çš„å¯¹è±¡ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="nx">history</span> <span class="o">=</span> <span class="p">[</span>
</span><span class="line">  <span class="p">{</span>
</span><span class="line">    <span class="nx">squares</span><span class="o">:</span> <span class="p">[</span><span class="kc">null</span> <span class="nx">x</span> <span class="mi">9</span><span class="p">]</span>
</span><span class="line">  <span class="p">},</span>
</span><span class="line">  <span class="p">{</span>
</span><span class="line">    <span class="nx">squares</span><span class="o">:</span> <span class="p">[...</span> <span class="nx">x</span> <span class="mi">9</span><span class="p">]</span>
</span><span class="line">  <span class="p">},</span>
</span><span class="line">  <span class="p">...</span>
</span><span class="line"><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
æˆ‘ä»¬å¸Œæœ›é¡¶çº§æ¸¸æˆç»„ä»¶è´Ÿè´£æ˜¾ç¤ºç§»åŠ¨åˆ—è¡¨ã€‚ å› æ­¤ï¼Œå°±åƒæˆ‘ä»¬å°†çŠ¶æ€ä»Squareæ¨å…¥Boardä¹‹å‰ï¼Œè®©æˆ‘ä»¬å†æ¬¡å°†å®ƒä»Boardä¸Šæ‹‰åˆ°æ¸¸æˆä¸­ - è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥è·å¾—é¡¶çº§æ‰€éœ€çš„æ‰€æœ‰ä¿¡æ¯ã€‚

é¦–å…ˆï¼Œè®¾ç½®Gameçš„åˆå§‹çŠ¶æ€ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">class</span> <span class="nx">Game</span> <span class="kr">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="kr">super</span><span class="p">();</span>
</span><span class="line">    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">      <span class="nx">history</span><span class="o">:</span> <span class="p">[{</span>
</span><span class="line">        <span class="nx">squares</span><span class="o">:</span> <span class="nb">Array</span><span class="p">(</span><span class="mi">9</span><span class="p">).</span><span class="nx">fill</span><span class="p">(</span><span class="kc">null</span><span class="p">)</span>
</span><span class="line">      <span class="p">}],</span>
</span><span class="line">      <span class="nx">xIsNext</span><span class="o">:</span> <span class="kc">true</span>
</span><span class="line">    <span class="p">};</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">  <span class="p">...</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
ç„¶åä»Boardä¸­åˆ é™¤æ„é€ å‡½æ•°ï¼Œå¹¶æ›´æ”¹Boardï¼Œä»¥ä¾¿å®ƒé€šè¿‡propsä½¿ç”¨squareï¼Œå¹¶å…·æœ‰è‡ªå·±çš„ç”±GameæŒ‡å®šçš„onClick propï¼Œå°±åƒæˆ‘ä»¬ä¹‹å‰å¯¹Squareçš„è½¬æ¢ä¸€æ ·ã€‚ æ‚¨å¯ä»¥å°†æ¯ä¸ªSquareçš„ä½ç½®ä¼ é€’åˆ°ç‚¹å‡»å¤„ç†ç¨‹åºï¼Œä»¥ä¾¿æˆ‘ä»¬ä»ç„¶çŸ¥é“ç‚¹å‡»äº†å“ªä¸ªSquareï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="k">return</span> <span class="o">&lt;</span><span class="nx">Square</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">squares</span><span class="p">[</span><span class="nx">i</span><span class="p">]}</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">onClick</span><span class="p">(</span><span class="nx">i</span><span class="p">)}</span> <span class="o">/&gt;</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
æ¸¸æˆçš„æ¸²æŸ“åº”è¯¥æŸ¥çœ‹æœ€è¿‘çš„å†å²è®°å½•ï¼Œå¹¶å¯ä»¥æ¥ç®¡è®¡ç®—æ¸¸æˆçŠ¶æ€ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">const</span> <span class="nx">history</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">history</span><span class="p">;</span>
</span><span class="line"><span class="kr">const</span> <span class="nx">current</span> <span class="o">=</span> <span class="nx">history</span><span class="p">[</span><span class="nx">history</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span><span class="line"><span class="kr">const</span> <span class="nx">winner</span> <span class="o">=</span> <span class="nx">calculateWinner</span><span class="p">(</span><span class="nx">current</span><span class="p">.</span><span class="nx">squares</span><span class="p">);</span>
</span><span class="line">
</span><span class="line"><span class="kd">let</span> <span class="nx">status</span><span class="p">;</span>
</span><span class="line"><span class="k">if</span> <span class="p">(</span><span class="nx">winner</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">status</span> <span class="o">=</span> <span class="s1">&#39;Winner: &#39;</span> <span class="o">+</span> <span class="nx">winner</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">status</span> <span class="o">=</span> <span class="s1">&#39;Next player: &#39;</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">xIsNext</span> <span class="o">?</span> <span class="s1">&#39;X&#39;</span> <span class="o">:</span> <span class="s1">&#39;O&#39;</span><span class="p">);</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line"><span class="p">...</span>
</span><span class="line"><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;game-board&quot;</span><span class="o">&gt;</span>
</span><span class="line">  <span class="o">&lt;</span><span class="nx">Board</span>
</span><span class="line">    <span class="nx">squares</span><span class="o">=</span><span class="p">{</span><span class="nx">current</span><span class="p">.</span><span class="nx">squares</span><span class="p">}</span>
</span><span class="line">    <span class="nx">onClick</span><span class="o">=</span><span class="p">{(</span><span class="nx">i</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">handleClick</span><span class="p">(</span><span class="nx">i</span><span class="p">)}</span>
</span><span class="line">  <span class="o">/&gt;</span>
</span><span class="line"><span class="o">&lt;</span><span class="err">/div&gt;</span>
</span><span class="line"><span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="s2">&quot;game-info&quot;</span><span class="o">&gt;</span>
</span><span class="line">  <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">status</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
</span><span class="line">  <span class="o">&lt;</span><span class="nx">ol</span><span class="o">&gt;</span><span class="p">{</span><span class="cm">/* TODO */</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/ol&gt;</span>
</span><span class="line"><span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
å®ƒçš„handleClickå¯ä»¥é€šè¿‡è¿æ¥æ–°çš„å†å²è®°å½•æ¡ç›®æ¥åˆ›å»ºæ–°çš„å†å²è®°å½•æ•°ç»„æ¥å°†æ–°çš„æ¡ç›®æ¨å…¥å †æ ˆï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="nx">handleClick</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="kr">const</span> <span class="nx">history</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">history</span><span class="p">;</span>
</span><span class="line">  <span class="kr">const</span> <span class="nx">current</span> <span class="o">=</span> <span class="nx">history</span><span class="p">[</span><span class="nx">history</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
</span><span class="line">  <span class="kr">const</span> <span class="nx">squares</span> <span class="o">=</span> <span class="nx">current</span><span class="p">.</span><span class="nx">squares</span><span class="p">.</span><span class="nx">slice</span><span class="p">();</span>
</span><span class="line">  <span class="k">if</span> <span class="p">(</span><span class="nx">calculateWinner</span><span class="p">(</span><span class="nx">squares</span><span class="p">)</span> <span class="o">||</span> <span class="nx">squares</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span><span class="p">;</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">  <span class="nx">squares</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">xIsNext</span> <span class="o">?</span> <span class="s1">&#39;X&#39;</span> <span class="o">:</span> <span class="s1">&#39;O&#39;</span><span class="p">;</span>
</span><span class="line">  <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span>
</span><span class="line">    <span class="nx">history</span><span class="o">:</span> <span class="nx">history</span><span class="p">.</span><span class="nx">concat</span><span class="p">([{</span>
</span><span class="line">      <span class="nx">squares</span><span class="o">:</span> <span class="nx">squares</span>
</span><span class="line">    <span class="p">}]),</span>
</span><span class="line">    <span class="nx">xIsNext</span><span class="o">:</span> <span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">xIsNext</span><span class="p">,</span>
</span><span class="line">  <span class="p">});</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
æ­¤æ—¶ï¼ŒBoardåªéœ€è¦renderSquareå’Œrender; çŠ¶æ€åˆå§‹åŒ–å’Œç‚¹å‡»å¤„ç†ç¨‹åºéƒ½åº”è¯¥å­˜åœ¨äºGameä¸­ã€‚
</p>
<h3>
æ˜¾ç¤ºç§»åŠ¨
</h3>
<p>
è®©æˆ‘ä»¬å±•ç¤ºä»¥å‰åœ¨æ¸¸æˆä¸­åšçš„åŠ¨ä½œã€‚ æˆ‘ä»¬æ—©äº›æ—¶å€™å­¦åˆ°Reactå…ƒç´ æ˜¯ä¸€æµçš„JSå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥å­˜å‚¨å®ƒä»¬æˆ–ä¼ é€’å®ƒä»¬ã€‚ è¦åœ¨Reactä¸­æ¸²æŸ“å¤šä¸ªé¡¹ç›®ï¼Œæˆ‘ä»¬ä¼ é€’ä¸€ä¸ªReactå…ƒç´ æ•°ç»„ã€‚ æœ€å¸¸è§çš„æ„å»ºæ•°ç»„çš„æ–¹æ³•æ˜¯æ˜ å°„æ•°æ®æ•°ç»„ã€‚ è®©æˆ‘ä»¬åœ¨æ¸¸æˆçš„æ¸²æŸ“æ–¹æ³•ä¸­è¿™æ ·åšï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">const</span> <span class="nx">moves</span> <span class="o">=</span> <span class="nx">history</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">step</span><span class="p">,</span> <span class="nx">move</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span><span class="line">  <span class="kr">const</span> <span class="nx">desc</span> <span class="o">=</span> <span class="nx">move</span> <span class="o">?</span>
</span><span class="line">    <span class="s1">&#39;Move #&#39;</span> <span class="o">+</span> <span class="nx">move</span> <span class="o">:</span>
</span><span class="line">    <span class="s1">&#39;Game start&#39;</span><span class="p">;</span>
</span><span class="line">  <span class="k">return</span> <span class="p">(</span>
</span><span class="line">    <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span>
</span><span class="line">      <span class="o">&lt;</span><span class="nx">a</span> <span class="nx">href</span><span class="o">=</span><span class="s2">&quot;#&quot;</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">jumpTo</span><span class="p">(</span><span class="nx">move</span><span class="p">)}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">desc</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/a&gt;</span>
</span><span class="line">    <span class="o">&lt;</span><span class="err">/li&gt;</span>
</span><span class="line">  <span class="p">);</span>
</span><span class="line"><span class="p">});</span>
</span><span class="line"><span class="p">...</span>
</span><span class="line"><span class="o">&lt;</span><span class="nx">ol</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">moves</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/ol&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
å¯¹äºå†å²è®°å½•ä¸­çš„æ¯ä¸ªæ­¥éª¤ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåˆ—è¡¨é¡¹<li>ï¼Œå…¶ä¸­çš„é“¾æ¥aåœ¨æ— å¤„ï¼ˆhref =â€œï¼ƒâ€ï¼‰ï¼Œä½†æœ‰ä¸€ä¸ªç‚¹å‡»å¤„ç†ç¨‹åºï¼Œæˆ‘ä»¬å°†å¾ˆå¿«å®ç°ã€‚ æœ‰äº†è¿™ä¸ªä»£ç ï¼Œä½ åº”è¯¥çœ‹åˆ°åœ¨æ¸¸æˆä¸­åšå‡ºçš„ä¸¾åŠ¨çš„åˆ—è¡¨ï¼Œä»¥åŠä¸€ä¸ªè­¦å‘Šè¯´
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="nx">Warning</span><span class="o">:</span> <span class="nx">Each</span> <span class="nx">child</span> <span class="k">in</span> <span class="nx">an</span> <span class="nx">array</span> <span class="nx">or</span> <span class="nx">iterator</span> <span class="nx">should</span> <span class="nx">have</span> <span class="nx">a</span> <span class="nx">unique</span> <span class="s2">&quot;key&quot;</span> <span class="nx">prop</span><span class="p">.</span> <span class="nx">Check</span> <span class="nx">the</span> <span class="nx">render</span> <span class="nx">method</span> <span class="nx">of</span> <span class="s2">&quot;Game&quot;</span><span class="p">.</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
è®©æˆ‘ä»¬æ¥è°ˆè°ˆè¿™ä¸ªè­¦å‘Šæ˜¯ä»€ä¹ˆæ„æ€ã€‚

<h3>
Keys
</h3>
<p>
å½“æ¸²æŸ“é¡¹ç›®åˆ—è¡¨æ—¶ï¼ŒReactæ€»æ˜¯å­˜å‚¨åˆ—è¡¨ä¸­æ¯ä¸ªé¡¹ç›®çš„ä¸€äº›ä¿¡æ¯ã€‚ å¦‚æœæ¸²æŸ“å…·æœ‰çŠ¶æ€çš„ç»„ä»¶ï¼Œè¯¥çŠ¶æ€éœ€è¦å­˜å‚¨ï¼Œå¹¶ä¸”æ— è®ºå¦‚ä½•å®ç°ç»„ä»¶ï¼ŒReactéƒ½ä¼šå­˜å‚¨å¯¹åç«¯æœ¬åœ°è§†å›¾çš„å¼•ç”¨ã€‚

å½“æ‚¨æ›´æ–°è¯¥åˆ—è¡¨æ—¶ï¼ŒReactéœ€è¦ç¡®å®šå·²æ›´æ”¹çš„å†…å®¹ã€‚ æ‚¨å¯ä»¥åœ¨åˆ—è¡¨ä¸­æ·»åŠ ï¼Œåˆ é™¤ï¼Œé‡æ–°æ’åˆ—æˆ–æ›´æ–°é¡¹ç›®ã€‚

æƒ³è±¡ä¸€ä¸‹
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;li&gt;</span>Alexa: 7 tasks left<span class="nt">&lt;/li&gt;</span>
</span><span class="line"><span class="nt">&lt;li&gt;</span>Ben: 5 tasks left<span class="nt">&lt;/li&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
æ”¹æˆäº†
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;li&gt;</span>Ben: 9 tasks left<span class="nt">&lt;/li&gt;</span>
</span><span class="line"><span class="nt">&lt;li&gt;</span>Claudia: 8 tasks left<span class="nt">&lt;/li&gt;</span>
</span><span class="line"><span class="nt">&lt;li&gt;</span>Alexa: 5 tasks left<span class="nt">&lt;/li&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
å¯¹äºäººçœ¼æ¥è¯´ï¼Œçœ‹èµ·æ¥å¾ˆå¯èƒ½Alexaå’ŒBenäº¤æ¢äº†åœ°æ–¹ï¼ŒClaudiaè¢«æ·»åŠ äº† - ä½†Reactåªæ˜¯ä¸€ä¸ªè®¡ç®—æœºç¨‹åºï¼Œä¸çŸ¥é“ä½ æ‰“ç®—åšä»€ä¹ˆã€‚ å› æ­¤ï¼ŒReactè¦æ±‚æ‚¨åœ¨åˆ—è¡¨ä¸­çš„æ¯ä¸ªå…ƒç´ ä¸ŠæŒ‡å®šä¸€ä¸ªé”®å±æ€§ï¼Œä¸€ä¸ªå­—ç¬¦ä¸²æ¥åŒºåˆ†æ¯ä¸ªç»„ä»¶ä¸å…¶åŒçº§ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œalexaï¼Œbenï¼Œclaudiaå¯èƒ½æ˜¯åˆç†çš„é”®; å¦‚æœé¡¹ç›®å¯¹åº”äºæ•°æ®åº“ä¸­çš„å¯¹è±¡ï¼Œåˆ™æ•°æ®åº“IDé€šå¸¸æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="html"><span class="line"><span class="nt">&lt;li</span> <span class="na">key=</span><span class="s">{user.id}</span><span class="nt">&gt;</span>{user.name}: {user.taskCount} tasks left<span class="nt">&lt;/li&gt;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
keyæ˜¯Reactä¿ç•™çš„ä¸€ä¸ªç‰¹æ®Šå±æ€§ï¼ˆä¸refä¸€èµ·ï¼Œæ˜¯ä¸€ä¸ªæ›´é«˜çº§çš„ç‰¹æ€§ï¼‰ã€‚ å½“ä¸€ä¸ªå…ƒç´ è¢«åˆ›å»ºæ—¶ï¼ŒReactæ‹‰ä¸‹keyå±æ€§å¹¶å°†é”®ç›´æ¥å­˜å‚¨åœ¨è¿”å›çš„å…ƒç´ ä¸Šã€‚ å³ä½¿å®ƒå¯èƒ½çœ‹èµ·æ¥åƒæ˜¯é“å…·çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒä¸èƒ½ä½¿ç”¨this.props.keyæ¥å¼•ç”¨ã€‚ Reactåœ¨å†³å®šæ›´æ–°å“ªäº›å­é¡¹æ—¶è‡ªåŠ¨ä½¿ç”¨è¯¥é”®; ç»„ä»¶æ— æ³•æŸ¥è¯¢å…¶è‡ªå·±çš„keyã€‚

å½“é‡æ–°åˆ—å‡ºåˆ—è¡¨æ—¶ï¼ŒReactä¼šä½¿ç”¨æ–°ç‰ˆæœ¬ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œå¹¶åœ¨ä¸Šä¸€ä¸ªåˆ—è¡¨ä¸­æŸ¥æ‰¾å…·æœ‰åŒ¹é…é”®çš„å…ƒç´ ã€‚ å½“å‘è¯¥é›†åˆæ·»åŠ é”®æ—¶ï¼Œå°†åˆ›å»ºä¸€ä¸ªç»„ä»¶; å½“åˆ é™¤é”®æ—¶ï¼Œç»„ä»¶è¢«é”€æ¯ã€‚ é”®å‘Šè¯‰Reactå…³äºæ¯ä¸ªç»„ä»¶çš„èº«ä»½ï¼Œä»¥ä¾¿å®ƒå¯ä»¥ä¿æŒæ•´ä¸ªrerendersçŠ¶æ€ã€‚ å¦‚æœæ›´æ”¹ç»„ä»¶çš„é”®ï¼Œå®ƒå°†è¢«å®Œå…¨é”€æ¯å¹¶ä½¿ç”¨æ–°çŠ¶æ€é‡æ–°åˆ›å»ºã€‚

å¼ºçƒˆå»ºè®®æ‚¨åœ¨æ„å»ºåŠ¨æ€åˆ—è¡¨æ—¶åˆ†é…æ­£ç¡®çš„é”®ã€‚ å¦‚æœæ‚¨æ²¡æœ‰é€‚å½“çš„keyï¼Œæ‚¨å¯èƒ½éœ€è¦è€ƒè™‘é‡ç»„æ‚¨çš„æ•°æ®ï¼Œä»¥ä¾¿ä½¿ç”¨ã€‚

å¦‚æœä½ ä¸æŒ‡å®šä»»ä½•é”®ï¼ŒReactä¼šè­¦å‘Šä½ å¹¶å›é€€åˆ°ä½¿ç”¨æ•°ç»„ç´¢å¼•ä½œä¸ºé”® - è¿™ä¸æ˜¯æ­£ç¡®çš„é€‰æ‹©ï¼Œå¦‚æœä½ é‡æ–°æ’åºåˆ—è¡¨ä¸­çš„å…ƒç´ æˆ–æ·»åŠ /åˆ é™¤é¡¹ç›®çš„ä»»ä½•åœ°æ–¹ï¼Œä½†åº•éƒ¨ åˆ—è¡¨ã€‚ æ˜¾å¼ä¼ é€’key = {i}ä½¿è­¦å‘Šé™éŸ³ï¼Œä½†å…·æœ‰ç›¸åŒçš„é—®é¢˜ï¼Œå› æ­¤åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ä¸å»ºè®®ä½¿ç”¨ã€‚

ç»„ä»¶é”®ä¸éœ€è¦æ˜¯å…¨å±€å”¯ä¸€çš„ï¼Œç›¸å¯¹äºç›´æ¥åŒçº§çš„åªæœ‰å”¯ä¸€çš„ã€‚
</p>
<h3>
å®æ–½æ—¶é—´æ—…è¡Œ
</h3>
<p>
å¯¹äºæˆ‘ä»¬çš„ç§»åŠ¨åˆ—è¡¨ï¼Œæˆ‘ä»¬å·²ç»ä¸ºæ¯ä¸ªæ­¥éª¤éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„IDï¼šå‘ç”Ÿç§»åŠ¨çš„æ¬¡æ•°ã€‚ å°†é”®æ·»åŠ ä¸º&lt;li key= {move}&gt;ï¼Œé”®è­¦å‘Šåº”è¯¥æ¶ˆå¤±ã€‚

å•å‡»ä»»ä½•ç§»åŠ¨é“¾æ¥éƒ½ä¼šæŠ›å‡ºé”™è¯¯ï¼Œå› ä¸ºjumpToæœªå®šä¹‰ã€‚ è®©æˆ‘ä»¬åœ¨Gameçš„çŠ¶æ€ä¸­æ·»åŠ ä¸€ä¸ªæ–°é”®ï¼Œä»¥æŒ‡ç¤ºæˆ‘ä»¬å½“å‰æ­£åœ¨æŸ¥çœ‹å“ªä¸ªæ­¥éª¤ã€‚ é¦–å…ˆï¼Œå°†stepNumberï¼š0æ·»åŠ åˆ°åˆå§‹çŠ¶æ€ï¼Œç„¶åè®©jumpToæ›´æ–°è¯¥çŠ¶æ€ã€‚

æˆ‘ä»¬è¿˜æƒ³æ›´æ–°xIsNextã€‚ å¦‚æœç§»åŠ¨å·ç çš„ç´¢å¼•æ˜¯å¶æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†xIsNextè®¾ç½®ä¸ºtrueã€‚
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="nx">jumpTo</span><span class="p">(</span><span class="nx">step</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span>
</span><span class="line">    <span class="nx">stepNumber</span><span class="o">:</span> <span class="nx">step</span><span class="p">,</span>
</span><span class="line">    <span class="nx">xIsNext</span><span class="o">:</span> <span class="p">(</span><span class="nx">step</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span> <span class="o">?</span> <span class="kc">false</span> <span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span class="line">  <span class="p">});</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
ç„¶åé€šè¿‡å‘handleClickä¸­çš„çŠ¶æ€æ›´æ–°æ·»åŠ æ­¥éª¤Numberï¼šhistory.lengthæ¥æ›´æ–°æ–°çš„ç§»åŠ¨æ—¶çš„Numberã€‚ ç°åœ¨æ‚¨å¯ä»¥ä¿®æ”¹æ¸²æŸ“ä»¥ä»å†å²è®°å½•ä¸­çš„è¯¥æ­¥éª¤è¯»å–ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">const</span> <span class="nx">current</span> <span class="o">=</span> <span class="nx">history</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">stepNumber</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
å¦‚æœä½ ç°åœ¨ç‚¹å‡»ä»»ä½•ç§»åŠ¨é“¾æ¥ï¼ŒBoardåº”è¯¥ç«‹å³æ›´æ–°ï¼Œä»¥æ˜¾ç¤ºæ¸¸æˆå½“æ—¶çš„æ ·å­ã€‚ æ‚¨å¯èƒ½è¿˜éœ€è¦æ›´æ–°handleClickä»¥åœ¨è¯»å–å½“å‰BoardçŠ¶æ€æ—¶æ³¨æ„stepNumberï¼Œä»¥ä¾¿æ‚¨å¯ä»¥åŠæ—¶è¿”å›ï¼Œç„¶åå•å‡»Boardä»¥åˆ›å»ºæ–°æ¡ç›®ã€‚ ï¼ˆæç¤ºï¼šæœ€ç®€å•çš„æ˜¯.sliceï¼ˆï¼‰ä»handleClickçš„æœ€é¡¶éƒ¨çš„å†å²çš„é¢å¤–å…ƒç´ ï¼‰ã€‚
</p>
<h2>
ç»“æŸ
</h2>
<p>
ç°åœ¨ï¼Œä½ åšäº†ä¸€ä¸ªtic-tac-toeæ¸¸æˆï¼š
<ul>
<li>è®©ä½ ç©tic-tac-toeï¼Œ</li>
<li>è¡¨ç¤ºå½“ä¸€ä¸ªç©å®¶èµ¢å¾—æ¸¸æˆæ—¶ï¼Œ</li>
<li>å­˜å‚¨æ¸¸æˆæœŸé—´çš„ç§»åŠ¨å†å²ï¼Œ</li>
<li>å…è®¸ç©å®¶åœ¨æ—¶é—´ä¸Šè·³å›æ¥çœ‹åˆ°è€ç‰ˆæœ¬çš„æ¸¸æˆæ¿ã€‚</li>
</ul>

æˆ‘ä»¬å¸Œæœ›ä½ ç°åœ¨è§‰å¾—ä½ æœ‰ä¸€ä¸ªæ­£ç¡®çš„æŠŠæ¡Reactçš„å·¥ä½œåŸç†ã€‚

å¦‚æœä½ æœ‰é¢å¤–çš„æ—¶é—´æˆ–æƒ³ç»ƒä¹ ä½ çš„æ–°æŠ€èƒ½ï¼Œè¿™é‡Œæœ‰ä¸€äº›æƒ³æ³•ï¼Œä½ å¯ä»¥åšçš„æ”¹è¿›ï¼Œåˆ—å‡ºéš¾åº¦é€’å¢çš„é¡ºåºï¼š

<ul>
<li>1ã€ä»¥â€œï¼ˆ1ï¼Œ3ï¼‰â€æ ¼å¼è€Œä¸æ˜¯â€œ6â€æ ¼å¼æ˜¾ç¤ºç§»åŠ¨ä½ç½®ã€‚</li>
<li>2ã€åŠ ç²—ç§»åŠ¨åˆ—è¡¨ä¸­å½“å‰é€‰æ‹©çš„é¡¹ç›®ã€‚</li>
<li>3ã€é‡å†™æ¿ä½¿ç”¨ä¸¤ä¸ªå¾ªç¯æ¥åˆ¶ä½œæ­£æ–¹å½¢ï¼Œè€Œä¸æ˜¯ç¡¬ç¼–ç ã€‚</li>
<li>4ã€æ·»åŠ ä¸€ä¸ªåˆ‡æ¢æŒ‰é’®ï¼Œå¯ä»¥æŒ‰å‡åºæˆ–é™åºå¯¹ç§»åŠ¨è¿›è¡Œæ’åºã€‚</li>
<li>5ã€å½“æœ‰äººèµ¢äº†ï¼Œçªå‡ºæ˜¾ç¤ºå¯¼è‡´èƒœåˆ©çš„ä¸‰ä¸ªæ–¹å—ã€‚</li>
</ul>
</p>
 <hr />
<p class="post-footer">
                        written by <a href="http://ITMonkeyLife.github.io/Blog">Rick</a>&nbsp;posted at <a href="http://ITMonkeyLife.github.io/Blog">http://ITMonkeyLife.github.io/Blog</a></p>
</li></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[React Nativeå¼€å‘Redux]]></title>
    <link href="http://ITMonkeyLife.github.io/Blog/blog/2016/11/17/react-nativekai-fa-redux/"/>
    <updated>2016-11-17T14:52:37+08:00</updated>
    <id>http://ITMonkeyLife.github.io/Blog/blog/2016/11/17/react-nativekai-fa-redux</id>
    <content type="html"><![CDATA[<p>
Reduxæ˜¯ä¸€ä¸ªå¯é¢„æµ‹çš„javascriptåº”ç”¨ç¨‹åºçš„çŠ¶æ€å®¹å™¨ã€‚

å®ƒå¯ä»¥å¸®åŠ©æ‚¨ç¼–å†™è¡Œä¸ºä¸€è‡´ï¼Œåœ¨ä¸åŒç¯å¢ƒï¼ˆå®¢æˆ·ç«¯ï¼ŒæœåŠ¡å™¨å’Œæœ¬æœºï¼‰ä¸­è¿è¡Œçš„åº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”æ˜“äºæµ‹è¯•ã€‚ æ­¤å¤–ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªä¼Ÿå¤§çš„å¼€å‘è€…ä½“éªŒï¼Œå¦‚å®æ—¶ä»£ç ç¼–è¾‘ç»“åˆä¸€ä¸ªæ—¶é—´æ—…è¡Œè°ƒè¯•å™¨ã€‚
</p>
<p>
æ‚¨å¯ä»¥ä¸Reactæˆ–ä»»ä½•å…¶ä»–è§†å›¾åº“ä¸€èµ·ä½¿ç”¨<a href="https://facebook.github.io/react/">Redux</a>ã€‚
å®ƒæ˜¯å¾®å°çš„ï¼ˆ2kBï¼ŒåŒ…æ‹¬ä¾èµ–ï¼‰ã€‚
ä»å…¶åˆ›å»ºè€…å­¦ä¹ Reduxï¼š<a href="https://egghead.io/series/getting-started-with-redux">Reduxå­¦ä¹ å…¥é—¨</a>
</p>
<h3>
å¼€å‘ç»éªŒ
</h3>
<p>
æˆ‘åœ¨å·¥ä½œåœ¨æˆ‘çš„React Europeè°ˆè¯æ—¶å†™äº†Reduxï¼Œåä¸ºâ€œHot Reloading with Time Travelâ€ã€‚ æˆ‘çš„ç›®æ ‡æ˜¯åˆ›å»ºä¸€ä¸ªçŠ¶æ€ç®¡ç†åº“ï¼Œå…·æœ‰æœ€å°‘çš„APIï¼Œä½†å®Œå…¨å¯é¢„æµ‹çš„è¡Œä¸ºï¼Œæ‰€ä»¥å¯ä»¥å®ç°æ—¥å¿—è®°å½•ï¼Œçƒ­é‡æ–°åŠ è½½ï¼Œæ—¶é—´æ—…è¡Œï¼Œé€šç”¨åº”ç”¨ç¨‹åºï¼Œè®°å½•å’Œé‡æ”¾ï¼Œæ²¡æœ‰ä»»ä½•ä»å¼€å‘äººå‘˜ä¹°å…¥ã€‚
</p>
<h3>
å½±å“
</h3>
<p>
Reduxæ¼”åŒ–äº†<a href="http://facebook.github.io/flux/">Flux</a>çš„æƒ³æ³•ï¼Œä½†é€šè¿‡ä»<a href="https://github.com/evancz/elm-architecture-tutorial/">Elm</a>æå–çº¿ç´¢æ¥é¿å…å…¶å¤æ‚æ€§ã€‚
æ— è®ºæ‚¨æ˜¯å¦ä½¿ç”¨è¿‡å®ƒä»¬ï¼ŒReduxåªéœ€è¦å‡ åˆ†é’Ÿçš„æ—¶é—´å°±å¯ä»¥å¼€å§‹ä½¿ç”¨ã€‚
</p>
<h3>
å®‰è£…
</h3>
<p>
å®‰è£…ç¨³å®šç‰ˆæœ¬ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">npm install --save redux</span></code></pre></td></tr></table></div></figure></notextile></div>
è¿™å‡è®¾ä½ ä½¿ç”¨<a href="https://www.npmjs.com/">npm</a>ä½œä¸ºä½ çš„åŒ…ç®¡ç†å™¨ã€‚

æœ€å¸¸è§çš„æ˜¯äººä»¬ä½¿ç”¨Reduxä½œä¸º<a href="http://webpack.github.io/docs/commonjs.html">CommonJS</a>æ¨¡å—çš„é›†åˆã€‚ è¿™äº›æ¨¡å—æ˜¯åœ¨<a href="http://webpack.github.io/">Webpack</a>ï¼Œ<a href="http://browserify.org/">Browserify</a>æˆ–Nodeç¯å¢ƒä¸­å¯¼å…¥reduxæ—¶å¾—åˆ°çš„ã€‚ å¦‚æœä½ å–œæ¬¢ç”Ÿæ´»åœ¨è¾¹ç¼˜ï¼Œä½¿ç”¨<a href="http://rollupjs.org/">Rollup</a>ï¼Œæˆ‘ä»¬ä¹Ÿæ”¯æŒã€‚

å¦‚æœä½ ä¸ä½¿ç”¨æ¨¡å—bundlerï¼Œå®ƒä¹Ÿæ²¡å…³ç³»ã€‚ <code>redux</code> npmåŒ…åŒ…æ‹¬åœ¨<a href="https://unpkg.com/redux/dist/">distæ–‡ä»¶å¤¹</a>ä¸­é¢„ç¼–è¯‘çš„ç”Ÿäº§å’Œå¼€å‘<a href="https://github.com/umdjs/umd">UMD</a>ç‰ˆæœ¬ã€‚ å®ƒä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨è€Œæ— éœ€æ†ç»‘å™¨ï¼Œå› æ­¤ä¸è®¸å¤šæµè¡Œçš„javascriptæ¨¡å—åŠ è½½å™¨å’Œç¯å¢ƒå…¼å®¹ã€‚ ä¾‹å¦‚ï¼Œå¯ä»¥å°†UMDæ„å»ºä½œä¸º<a href="https://unpkg.com/redux/dist/redux.js">scriptæ ‡è®°</a>æ”¾åœ¨é¡µé¢ä¸Šï¼Œæˆ–è€…å‘Šè¯‰<a href="https://github.com/reactjs/redux/pull/1181#issuecomment-167361975">Bowerå®‰è£…å®ƒ</a>ã€‚ UMDæ„å»ºä½¿Reduxå¯ç”¨ä½œ<code>window.Redux</code>å…¨å±€å˜é‡ã€‚

Reduxæºä»£ç æ˜¯åœ¨ES2015ä¸­ç¼–å†™çš„ï¼Œä½†æˆ‘ä»¬å°†CommonJSå’ŒUMDæ„å»ºé¢„ç¼–è¯‘ä¸ºES5ï¼Œå› æ­¤å®ƒä»¬å¯åœ¨<a href="http://caniuse.com/#feat=es5">ä»»ä½•ç°ä»£æµè§ˆå™¨</a>ä¸­ä½¿ç”¨ã€‚ æ‚¨ä¸éœ€è¦ä½¿ç”¨Babelæˆ–æ¨¡å—æ†ç»‘åŒ…æ¥<a href="https://github.com/reactjs/redux/blob/master/examples/counter-vanilla/index.html">å¼€å§‹ä½¿ç”¨Redux</a>ã€‚
</p>
<h3>
äº’è¡¥åŒ…
</h3>
<p>
å¾ˆå¯èƒ½ï¼Œæ‚¨è¿˜éœ€è¦<a href="https://github.com/reactjs/react-redux">Reactç»‘å®š</a>å’Œ<a href="https://github.com/gaearon/redux-devtools">å¼€å‘äººå‘˜å·¥å…·</a>ã€‚
<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class=""><span class="line">npm install --save react-redux
</span><span class="line">npm install --save-dev redux-devtools</span></code></pre></td></tr></table></div></figure></notextile></div>

è¯·æ³¨æ„ï¼Œä¸Reduxæœ¬èº«ä¸åŒï¼ŒReduxç”Ÿæ€ç³»ç»Ÿä¸­çš„è®¸å¤šè½¯ä»¶åŒ…ä¸æä¾›UMDæ„å»ºï¼Œå› æ­¤æˆ‘ä»¬å»ºè®®ä½¿ç”¨<a href="http://webpack.github.io/"> Webpack </a>å’Œ<a href="http://browserify.org/">Browserify</a>ä¹‹ç±»çš„CommonJSæ¨¡å—æ†ç»‘è½¯ä»¶ï¼Œä»¥è·å¾—æœ€èˆ’é€‚çš„å¼€å‘ä½“éªŒã€‚
</p>
<h3>
è¦ç‚¹
</h3>
<p>
åº”ç”¨ç¨‹åºçš„æ•´ä¸ªçŠ¶æ€å­˜å‚¨åœ¨å•ä¸ªå­˜å‚¨ä¸­çš„å¯¹è±¡æ ‘ä¸­ã€‚
æ”¹å˜çŠ¶æ€æ ‘çš„å”¯ä¸€æ–¹æ³•æ˜¯å‘å‡ºä¸€ä¸ªåŠ¨ä½œï¼Œä¸€ä¸ªæè¿°å‘ç”Ÿäº†ä»€ä¹ˆçš„å¯¹è±¡ã€‚
è¦æŒ‡å®šåŠ¨ä½œå¦‚ä½•è½¬æ¢çŠ¶æ€æ ‘ï¼Œæ‚¨éœ€è¦ç¼–å†™çº¯reducerã€‚
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createStore</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;redux&#39;</span>
</span><span class="line">
</span><span class="line"><span class="cm">/**</span>
</span><span class="line"><span class="cm"> * This is a reducer, a pure function with (state, action) =&gt; state signature.</span>
</span><span class="line"><span class="cm"> * It describes how an action transforms the state into the next state.</span>
</span><span class="line"><span class="cm"> *</span>
</span><span class="line"><span class="cm"> * The shape of the state is up to you: it can be a primitive, an array, an object,</span>
</span><span class="line"><span class="cm"> * or even an Immutable.js data structure. The only important part is that you should</span>
</span><span class="line"><span class="cm"> * not mutate the state object, but return a new object if the state changes.</span>
</span><span class="line"><span class="cm"> *</span>
</span><span class="line"><span class="cm"> * In this example, we use a `switch` statement and strings, but you can use a helper that</span>
</span><span class="line"><span class="cm"> * follows a different convention (such as function maps) if it makes sense for your</span>
</span><span class="line"><span class="cm"> * project.</span>
</span><span class="line"><span class="cm"> */</span>
</span><span class="line"><span class="kd">function</span> <span class="nx">counter</span><span class="p">(</span><span class="nx">state</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">action</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="k">switch</span> <span class="p">(</span><span class="nx">action</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="k">case</span> <span class="s1">&#39;INCREMENT&#39;</span><span class="o">:</span>
</span><span class="line">    <span class="k">return</span> <span class="nx">state</span> <span class="o">+</span> <span class="mi">1</span>
</span><span class="line">  <span class="k">case</span> <span class="s1">&#39;DECREMENT&#39;</span><span class="o">:</span>
</span><span class="line">    <span class="k">return</span> <span class="nx">state</span> <span class="o">-</span> <span class="mi">1</span>
</span><span class="line">  <span class="k">default</span><span class="o">:</span>
</span><span class="line">    <span class="k">return</span> <span class="nx">state</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="c1">// Create a Redux store holding the state of your app.</span>
</span><span class="line"><span class="c1">// Its API is { subscribe, dispatch, getState }.</span>
</span><span class="line"><span class="kd">let</span> <span class="nx">store</span> <span class="o">=</span> <span class="nx">createStore</span><span class="p">(</span><span class="nx">counter</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">// You can use subscribe() to update the UI in response to state changes.</span>
</span><span class="line"><span class="c1">// Normally you&#39;d use a view binding library (e.g. React Redux) rather than subscribe() directly.</span>
</span><span class="line"><span class="c1">// However it can also be handy to persist the current state in the localStorage.</span>
</span><span class="line">
</span><span class="line"><span class="nx">store</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(()</span> <span class="o">=&gt;</span>
</span><span class="line">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">store</span><span class="p">.</span><span class="nx">getState</span><span class="p">())</span>
</span><span class="line"><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">// The only way to mutate the internal state is to dispatch an action.</span>
</span><span class="line"><span class="c1">// The actions can be serialized, logged or stored and later replayed.</span>
</span><span class="line"><span class="nx">store</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">({</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;INCREMENT&#39;</span> <span class="p">})</span>
</span><span class="line"><span class="c1">// 1</span>
</span><span class="line"><span class="nx">store</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">({</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;INCREMENT&#39;</span> <span class="p">})</span>
</span><span class="line"><span class="c1">// 2</span>
</span><span class="line"><span class="nx">store</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">({</span> <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;DECREMENT&#39;</span> <span class="p">})</span>
</span><span class="line"><span class="c1">// 1</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<!--more-->
è€Œä¸æ˜¯ç›´æ¥æ”¹å˜çŠ¶æ€ï¼Œä½ æŒ‡å®šä½ æƒ³è¦å‘ç”Ÿçš„å˜å¼‚ç§°ä¸ºåŠ¨ä½œçš„ç®€å•å¯¹è±¡çš„çªå˜ã€‚ ç„¶åï¼Œæ‚¨ç¼–å†™ä¸€ä¸ªç§°ä¸ºreducerçš„ç‰¹æ®Šå‡½æ•°æ¥å†³å®šæ¯ä¸ªæ“ä½œå¦‚ä½•è½¬æ¢æ•´ä¸ªåº”ç”¨ç¨‹åºçš„çŠ¶æ€ã€‚

å¦‚æœä½ æ¥è‡ªFluxï¼Œæœ‰ä¸€ä¸ªé‡è¦çš„åŒºåˆ«ï¼Œä½ éœ€è¦äº†è§£ã€‚ Reduxæ²¡æœ‰Dispatcheræˆ–è€…æ”¯æŒå¾ˆå¤šå•†åº—ã€‚ ç›¸åï¼Œåªæœ‰ä¸€ä¸ªå­˜å‚¨å…·æœ‰å•ä¸ªæ ¹å‡å°‘åŠŸèƒ½ã€‚ éšç€åº”ç”¨ç¨‹åºçš„å¢é•¿ï¼Œè€Œä¸æ˜¯æ·»åŠ å•†åº—ï¼Œæ‚¨å°†æ ¹è¿˜åŸå™¨åˆ†å‰²æˆæ›´å°çš„reducerç‹¬ç«‹æ“ä½œåœ¨çŠ¶æ€æ ‘çš„ä¸åŒéƒ¨åˆ†ã€‚ è¿™å°±åƒåœ¨Reactåº”ç”¨ç¨‹åºä¸­åªæœ‰ä¸€ä¸ªæ ¹ç»„ä»¶ï¼Œä½†æ˜¯å®ƒç”±è®¸å¤šå°ç»„ä»¶ç»„æˆã€‚

è¿™ä¸ªæ¶æ„å¯èƒ½çœ‹èµ·æ¥åƒä¸€ä¸ªè®¡æ•°å™¨åº”ç”¨ç¨‹åºçš„è¿‡åˆ†ï¼Œä½†è¿™ç§æ¨¡å¼çš„ç¾ä¸½æ˜¯å®ƒæ‰©å±•åˆ°å¤§å‹å’Œå¤æ‚çš„åº”ç”¨ç¨‹åºã€‚ å®ƒè¿˜æ”¯æŒéå¸¸å¼ºå¤§çš„å¼€å‘å·¥å…·ï¼Œå› ä¸ºå¯ä»¥è·Ÿè¸ªæ¯ä¸ªçªå˜åˆ°å¯¼è‡´å®ƒçš„æ“ä½œã€‚ æ‚¨å¯ä»¥è®°å½•ç”¨æˆ·ä¼šè¯ï¼Œå¹¶é€šè¿‡é‡æ’­æ¯ä¸ªæ“ä½œé‡ç°å®ƒä»¬ã€‚


<a href="https://egghead.io/series/getting-started-with-redux">Reduxå…¥é—¨</a>æ˜¯ä¸€ä¸ªè§†é¢‘è¯¾ç¨‹ï¼Œç”±30ä¸ªè§†é¢‘ç»„æˆï¼Œç”±Dan Abramovï¼ˆReduxçš„ä½œè€…ï¼‰è®²è¿°ã€‚ å®ƒæ—¨åœ¨è¡¥å……æ–‡æ¡£çš„â€œåŸºç¡€â€éƒ¨åˆ†ï¼ŒåŒæ—¶æä¾›å…³äºä¸å¯å˜æ€§ï¼Œæµ‹è¯•ï¼ŒReduxæœ€ä½³å®è·µä»¥åŠä½¿ç”¨Reduxä¸Reactçš„æ›´å¤šè§è§£ã€‚ æœ¬è¯¾ç¨‹æ˜¯å…è´¹çš„ï¼Œå°†æ°¸è¿œæ˜¯ã€‚
</p>
<h3>
é™„å½•
</h3>
<p>
<a href="http://redux.js.org/docs/basics/">http://redux.js.org/docs/basics/</a>
</p>

<h3>
åŠ¨æœº
</h3>
<p>
ç”±äºå¯¹javascriptå•é¡µåº”ç”¨ç¨‹åºçš„è¦æ±‚å˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼Œæˆ‘ä»¬çš„ä»£ç å¿…é¡»ç®¡ç†æ›´å¤šçš„çŠ¶æ€ã€‚ æ­¤çŠ¶æ€å¯ä»¥åŒ…æ‹¬æœåŠ¡å™¨å“åº”å’Œç¼“å­˜æ•°æ®ï¼Œä»¥åŠå°šæœªä¿ç•™åˆ°æœåŠ¡å™¨çš„æœ¬åœ°åˆ›å»ºçš„æ•°æ®ã€‚ UIçŠ¶æ€ä¹Ÿè¶Šæ¥è¶Šå¤æ‚ï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦ç®¡ç†æ´»åŠ¨è·¯ç”±ï¼Œé€‰å®šçš„é€‰é¡¹å¡ï¼Œæ˜¯å¦æ˜¾ç¤ºå¾®è°ƒæ¡†ï¼Œæ˜¯å¦åº”æ˜¾ç¤ºåˆ†é¡µæ§ä»¶ç­‰ã€‚

ç®¡ç†è¿™ç§ä¸æ–­å˜åŒ–çš„çŠ¶æ€æ˜¯å¾ˆå›°éš¾çš„ã€‚ å¦‚æœæ¨¡å‹å¯ä»¥æ›´æ–°å¦ä¸€ä¸ªæ¨¡å‹ï¼Œåˆ™è§†å›¾å¯ä»¥æ›´æ–°æ¨¡å‹ï¼Œè¯¥æ¨¡å‹æ›´æ–°å¦ä¸€ä¸ªæ¨¡å‹ï¼Œè¿™åè¿‡æ¥å¯èƒ½å¯¼è‡´å¦ä¸€ä¸ªè§†å›¾æ›´æ–°ã€‚ åœ¨æŸäº›æ—¶å€™ï¼Œä½ ä¸å†ç†è§£ä½ çš„åº”ç”¨ç¨‹åºå‘ç”Ÿäº†ä»€ä¹ˆï¼Œå› ä¸ºä½ å¤±å»äº†å¯¹çŠ¶æ€çš„æ—¶é—´ï¼ŒåŸå› å’Œæ–¹å¼çš„æ§åˆ¶ã€‚ å½“ç³»ç»Ÿä¸é€æ˜å’Œéç¡®å®šæ€§æ—¶ï¼Œå¾ˆéš¾å†ç°é”™è¯¯æˆ–æ·»åŠ æ–°åŠŸèƒ½ã€‚

å¥½åƒè¿™è¿˜ä¸å¤Ÿï¼Œè€ƒè™‘æ–°çš„éœ€æ±‚åœ¨å‰ç«¯äº§å“å¼€å‘ä¸­å˜å¾—æ™®éã€‚ ä½œä¸ºå¼€å‘äººå‘˜ï¼Œæˆ‘ä»¬éœ€è¦å¤„ç†ä¹è§‚æ›´æ–°ï¼ŒæœåŠ¡å™¨ç«¯å‘ˆç°ï¼Œåœ¨æ‰§è¡Œè·¯ç”±è½¬æ¢ä¹‹å‰è·å–æ•°æ®ï¼Œç­‰ç­‰ã€‚ æˆ‘ä»¬å‘ç°è‡ªå·±è¯•å›¾ç®¡ç†æˆ‘ä»¬ä»æ¥æ²¡æœ‰å¤„ç†çš„å¤æ‚æ€§ï¼Œæˆ‘ä»¬ä¸å¯é¿å…åœ°æå‡ºè¿™ä¸ªé—®é¢˜ï¼šæ˜¯æ—¶å€™æ”¾å¼ƒäº†å—ï¼Ÿ ç­”æ¡ˆæ˜¯ä¸ã€‚

è¿™ç§å¤æ‚æ€§å¾ˆéš¾å¤„ç†ï¼Œå› ä¸ºæˆ‘ä»¬æ··åˆäº†ä¸¤ä¸ªå¯¹äººç±»æ€æƒ³å¾ˆéš¾ç†è§£çš„æ¦‚å¿µï¼šå˜å¼‚å’Œå¼‚æ­¥æ€§ã€‚ æˆ‘å«ä»–ä»¬<a href="https://en.wikipedia.org/wiki/Diet_Coke_and_Mentos_eruption">Mentoså’ŒCoke</a>ã€‚ ä¸¤è€…éƒ½å¯ä»¥ä¼Ÿå¤§çš„åˆ†ç¦»ï¼Œä½†åœ¨ä¸€èµ·ï¼Œä»–ä»¬åˆ›é€ äº†ä¸€å›¢ç³Ÿã€‚ åƒReactè¿™æ ·çš„åº“è¯•å›¾é€šè¿‡åŒæ—¶åˆ é™¤å¼‚æ­¥å’Œç›´æ¥DOMæ“ä½œæ¥è§£å†³è§†å›¾å±‚ä¸­çš„è¿™ä¸ªé—®é¢˜ã€‚ ä½†æ˜¯ï¼Œç®¡ç†æ•°æ®çš„çŠ¶æ€å–å†³äºæ‚¨ã€‚ è¿™æ˜¯Reduxè¿›å…¥çš„åœ°æ–¹ã€‚

åœ¨Fluxï¼Œ<a href="http://martinfowler.com/bliki/CQRS.html">CQRS</a>å’Œ<a href="http://martinfowler.com/eaaDev/EventSourcing.html">Event Sourcing</a>çš„æ­¥éª¤ä¸­ï¼ŒReduxè¯•å›¾é€šè¿‡å¯¹å¯èƒ½å‘ç”Ÿæ›´æ–°çš„æ–¹å¼å’Œæ—¶é—´æ–½åŠ æŸäº›é™åˆ¶æ¥ä½¿çŠ¶æ€çªå˜å¯é¢„æµ‹ã€‚ è¿™äº›é™åˆ¶åæ˜ åœ¨Reduxçš„ä¸‰ä¸ªåŸåˆ™ä¸­ã€‚

CQRSä»£è¡¨å‘½ä»¤æŸ¥è¯¢è´£ä»»åˆ†ç¦»ã€‚ è¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å¬åˆ°æ ¼é›·æ ¼Â·æ¨æè¿°çš„æ¨¡å¼ã€‚ å…¶æ ¸å¿ƒæ˜¯è¿™æ ·çš„æ¦‚å¿µï¼šæ‚¨å¯ä»¥ä½¿ç”¨ä¸åŒçš„æ¨¡å‹æ¥æ›´æ–°ä¿¡æ¯ï¼Œè€Œä¸æ˜¯ç”¨äºè¯»å–ä¿¡æ¯çš„æ¨¡å‹ã€‚ åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè¿™ç§åˆ†ç¦»æ˜¯æœ‰ä»·å€¼çš„ï¼Œä½†è¦æ³¨æ„å¯¹äºå¤§å¤šæ•°ç³»ç»Ÿï¼ŒCQRSå¢åŠ äº†å¤æ‚æ€§ã€‚

æˆ‘ä»¬å¯ä»¥æŸ¥è¯¢åº”ç”¨ç¨‹åºçš„çŠ¶æ€ä»¥æ‰¾å‡ºä¸–ç•Œçš„å½“å‰çŠ¶æ€ï¼Œè¿™å›ç­”äº†è®¸å¤šé—®é¢˜ã€‚ç„¶è€Œï¼Œæœ‰æ—¶æˆ‘ä»¬ä¸åªæ˜¯æƒ³çœ‹çœ‹æˆ‘ä»¬åœ¨å“ªé‡Œï¼Œæˆ‘ä»¬ä¹Ÿæƒ³çŸ¥é“æˆ‘ä»¬å¦‚ä½•åˆ°è¾¾é‚£é‡Œã€‚

äº‹ä»¶æºé‡‡è´­ç¡®ä¿å¯¹åº”ç”¨ç¨‹åºçŠ¶æ€çš„æ‰€æœ‰æ›´æ”¹éƒ½å­˜å‚¨ä¸ºäº‹ä»¶åºåˆ—ã€‚æˆ‘ä»¬ä¸ä»…å¯ä»¥æŸ¥è¯¢è¿™äº›äº‹ä»¶ï¼Œè¿˜å¯ä»¥ä½¿ç”¨äº‹ä»¶æ—¥å¿—æ¥é‡å»ºè¿‡å»çš„çŠ¶æ€ï¼Œå¹¶ä½œä¸ºè‡ªåŠ¨è°ƒæ•´çŠ¶æ€ä»¥åº”å¯¹è¿½æº¯å˜åŒ–çš„åŸºç¡€ã€‚

Event Sourcingçš„åŸºæœ¬æ€æƒ³æ˜¯ç¡®ä¿æ¯ä¸ªå¯¹åº”ç”¨ç¨‹åºçŠ¶æ€çš„æ›´æ”¹éƒ½æ•è·åœ¨äº‹ä»¶å¯¹è±¡ä¸­ï¼Œå¹¶ä¸”è¿™äº›äº‹ä»¶å¯¹è±¡æœ¬èº«æŒ‰åº”ç”¨ç¨‹åºçŠ¶æ€æœ¬èº«çš„ç›¸åŒç”Ÿå‘½å‘¨æœŸå­˜å‚¨åœ¨åºåˆ—ä¸­ã€‚

è®©æˆ‘ä»¬è€ƒè™‘ä¸€ä¸ªå…³äºè¿é€é€šçŸ¥çš„ç®€å•ç¤ºä¾‹ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åœ¨å…¬æµ·ä¸Šæœ‰è®¸å¤šèˆ¹åªï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“å®ƒä»¬åœ¨å“ªé‡Œã€‚ä¸€ä¸ªç®€å•çš„æ–¹æ³•æ˜¯è®©è·Ÿè¸ªåº”ç”¨ç¨‹åºå…·æœ‰æ–¹æ³•ï¼Œä»¥å…è®¸æˆ‘ä»¬å‘ŠçŸ¥èˆ¹èˆ¶ä½•æ—¶åˆ°è¾¾æˆ–ç¦»å¼€æ¸¯å£ã€‚

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå½“è°ƒç”¨æœåŠ¡æ—¶ï¼Œå®ƒä¼šæ‰¾åˆ°ç›¸å…³çš„èˆ¹å¹¶æ›´æ–°å…¶ä½ç½®ã€‚èˆ¹èˆ¶å¯¹è±¡è®°å½•èˆ¹èˆ¶çš„å½“å‰å·²çŸ¥çŠ¶æ€ã€‚

Event Sourcingç®€ä»‹ä¸ºæ­¤è¿‡ç¨‹å¢åŠ äº†ä¸€ä¸ªæ­¥éª¤ã€‚ç°åœ¨æœåŠ¡åˆ›å»ºä¸€ä¸ªäº‹ä»¶å¯¹è±¡æ¥è®°å½•æ›´æ”¹å¹¶å¤„ç†å®ƒä»¥æ›´æ–°èˆ¹ã€‚

çœ‹çœ‹åˆšæ‰çš„å¤„ç†ï¼Œè¿™åªæ˜¯ä¸€ä¸ªä¸å¿…è¦çš„é—´æ¥çº§åˆ«ã€‚æœ‰è¶£çš„åŒºåˆ«æ˜¯ï¼Œå½“æˆ‘ä»¬çœ‹çœ‹åœ¨å‡ ä¸ªæ›´æ”¹ååº”ç”¨ç¨‹åºä¸­å­˜åœ¨ä»€ä¹ˆã€‚è®©æˆ‘ä»¬æƒ³è±¡ä¸€äº›ç®€å•çš„å˜åŒ–ï¼š

ä½¿ç”¨åŸºæœ¬æœåŠ¡ï¼Œæˆ‘ä»¬åªçœ‹åˆ°èˆ¹å¯¹è±¡æ•è·çš„æœ€ç»ˆçŠ¶æ€ã€‚æˆ‘å°†è¿™ä¸ªç§°ä¸ºåº”ç”¨ç¨‹åºçŠ¶æ€ã€‚

ä½¿ç”¨äº‹ä»¶æºï¼Œæˆ‘ä»¬è¿˜æ•è·æ¯ä¸ªäº‹ä»¶ã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨æŒä¹…å­˜å‚¨ï¼Œäº‹ä»¶å°†è¢«æŒä¹…åŒ–ï¼Œå°±åƒèˆ¹å¯¹è±¡ä¸€æ ·ã€‚æˆ‘è®¤ä¸ºæˆ‘ä»¬åšæŒä¸¤ç§ä¸åŒçš„ä¸œè¥¿åº”ç”¨ç¨‹åºçŠ¶æ€å’Œäº‹ä»¶æ—¥å¿—æ˜¯æœ‰ç”¨çš„ã€‚
</p>
<h2>
ä¸‰ä¸ªåŸåˆ™
</h2>
<p>
Reduxå¯ä»¥ç”¨ä¸‰ä¸ªåŸºæœ¬åŸåˆ™æ¥æè¿°ï¼š
</p>
<h3>
äº‹å®å”¯ä¸€æ€§
</h3>
<p>
æ•´ä¸ªåº”ç”¨ç¨‹åºçš„çŠ¶æ€å­˜å‚¨åœ¨å•ä¸ªå­˜å‚¨ä¸­çš„å¯¹è±¡æ ‘ä¸­ã€‚

è¿™ä½¿å¾—åˆ›å»ºé€šç”¨åº”ç”¨ç¨‹åºå˜å¾—å®¹æ˜“ï¼Œå› ä¸ºæ¥è‡ªæœåŠ¡å™¨çš„çŠ¶æ€å¯ä»¥è¢«åºåˆ—åŒ–å¹¶è½¬åŒ–åˆ°å®¢æˆ·ç«¯ï¼Œè€Œæ— éœ€é¢å¤–çš„ç¼–ç å·¥ä½œã€‚ å•ä¸ªçŠ¶æ€æ ‘è¿˜ä½¿å¾—æ›´å®¹æ˜“è°ƒè¯•æˆ–å†…æµ‹åº”ç”¨ç¨‹åº; å®ƒè¿˜ä½¿æ‚¨èƒ½å¤ŸåšæŒæ‚¨çš„åº”ç”¨ç¨‹åºçš„çŠ¶æ€åœ¨å¼€å‘ä¸­ï¼Œä»¥æ›´å¿«çš„å¼€å‘å‘¨æœŸã€‚ ä¸€äº›ä¼ ç»Ÿä¸Šå¾ˆéš¾å®ç°çš„åŠŸèƒ½ - ä¾‹å¦‚æ’¤æ¶ˆ/é‡åš - å¦‚æœä½ çš„æ‰€æœ‰çŠ¶æ€éƒ½å­˜å‚¨åœ¨ä¸€æ£µæ ‘ä¸­ï¼Œé‚£ä¹ˆå®ƒå¯èƒ½çªç„¶å˜å¾—ä¸é‡è¦ã€‚
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">store</span><span class="p">.</span><span class="nx">getState</span><span class="p">())</span>
</span><span class="line">
</span><span class="line"><span class="cm">/* Prints</span>
</span><span class="line"><span class="cm">{</span>
</span><span class="line"><span class="cm">  visibilityFilter: &#39;SHOW_ALL&#39;,</span>
</span><span class="line"><span class="cm">  todos: [</span>
</span><span class="line"><span class="cm">    {</span>
</span><span class="line"><span class="cm">      text: &#39;Consider using Redux&#39;,</span>
</span><span class="line"><span class="cm">      completed: true,</span>
</span><span class="line"><span class="cm">    },</span>
</span><span class="line"><span class="cm">    {</span>
</span><span class="line"><span class="cm">      text: &#39;Keep all state in a single tree&#39;,</span>
</span><span class="line"><span class="cm">      completed: false</span>
</span><span class="line"><span class="cm">    }</span>
</span><span class="line"><span class="cm">  ]</span>
</span><span class="line"><span class="cm">}</span>
</span><span class="line"><span class="cm">*/</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>
<h3>
çŠ¶æ€åªè¯»
</h3>
<p>
æ”¹å˜çŠ¶æ€çš„å”¯ä¸€æ–¹æ³•æ˜¯å‘å‡ºä¸€ä¸ªåŠ¨ä½œï¼Œä¸€ä¸ªæè¿°å‘ç”Ÿäº†ä»€ä¹ˆçš„å¯¹è±¡ã€‚
è¿™ç¡®ä¿è§†å›¾å’Œç½‘ç»œå›è°ƒéƒ½ä¸ä¼šç›´æ¥å†™å…¥çŠ¶æ€ã€‚ ç›¸åï¼Œä»–ä»¬è¡¨è¾¾äº†æ”¹å˜çŠ¶æ€çš„æ„å›¾ã€‚ å› ä¸ºæ‰€æœ‰çš„å˜åŒ–æ˜¯é›†ä¸­çš„ï¼Œå¹¶ä»¥ä¸¥æ ¼çš„é¡ºåºä¸€ä¸ªæ¥ä¸€ä¸ªåœ°å‘ç”Ÿï¼Œæ²¡æœ‰å¾®å¦™çš„ç«äº‰æ¡ä»¶å€¼å¾—æ³¨æ„ã€‚ ç”±äºæ“ä½œåªæ˜¯æ™®é€šå¯¹è±¡ï¼Œå®ƒä»¬å¯ä»¥è¢«è®°å½•ï¼Œåºåˆ—åŒ–ï¼Œå­˜å‚¨ï¼Œå¹¶ä¸”éšåè¢«é‡æ”¾ä»¥ç”¨äºè°ƒè¯•æˆ–æµ‹è¯•ç›®çš„ã€‚
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="nx">store</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">({</span>
</span><span class="line">  <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;COMPLETE_TODO&#39;</span><span class="p">,</span>
</span><span class="line">  <span class="nx">index</span><span class="o">:</span> <span class="mi">1</span>
</span><span class="line"><span class="p">})</span>
</span><span class="line">
</span><span class="line"><span class="nx">store</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">({</span>
</span><span class="line">  <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;SET_VISIBILITY_FILTER&#39;</span><span class="p">,</span>
</span><span class="line">  <span class="nx">filter</span><span class="o">:</span> <span class="s1">&#39;SHOW_COMPLETED&#39;</span>
</span><span class="line"><span class="p">})</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>
<h3>
ä½¿ç”¨çº¯å‡½æ•°è¿›è¡Œæ›´æ”¹
</h3>
<p>
è¦æŒ‡å®šå¦‚ä½•é€šè¿‡æ“ä½œè½¬æ¢çŠ¶æ€æ ‘ï¼Œå¯ä»¥ç¼–å†™çº¯reducerã€‚

å‡å°‘è€…åªæ˜¯çº¯å‡½æ•°ï¼Œå®ƒé‡‡å–å‰ä¸€ä¸ªçŠ¶æ€å’Œä¸€ä¸ªåŠ¨ä½œï¼Œå¹¶è¿”å›ä¸‹ä¸€ä¸ªçŠ¶æ€ã€‚ è®°ä½è¿”å›æ–°çš„çŠ¶æ€å¯¹è±¡ï¼Œè€Œä¸æ˜¯æ”¹å˜ä¹‹å‰çš„çŠ¶æ€ã€‚ ä½ å¯ä»¥ä»ä¸€ä¸ªå•ä¸€çš„reducerå¼€å§‹ï¼Œéšç€ä½ çš„åº”ç”¨ç¨‹åºçš„å¢é•¿ï¼ŒæŠŠå®ƒæ‹†åˆ†æˆæ›´å°çš„reducerï¼Œå®ƒç®¡ç†çŠ¶æ€æ ‘çš„ç‰¹å®šéƒ¨åˆ†ã€‚ å› ä¸ºreducersåªæ˜¯å‡½æ•°ï¼Œä½ å¯ä»¥æ§åˆ¶å®ƒä»¬è¢«è°ƒç”¨çš„é¡ºåºï¼Œä¼ é€’é¢å¤–çš„æ•°æ®ï¼Œç”šè‡³ä¸ºæ™®é€šä»»åŠ¡ï¼ˆå¦‚åˆ†é¡µï¼‰åˆ›å»ºå¯é‡ç”¨çš„reducersã€‚
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">function</span> <span class="nx">visibilityFilter</span><span class="p">(</span><span class="nx">state</span> <span class="o">=</span> <span class="s1">&#39;SHOW_ALL&#39;</span><span class="p">,</span> <span class="nx">action</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="k">switch</span> <span class="p">(</span><span class="nx">action</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="k">case</span> <span class="s1">&#39;SET_VISIBILITY_FILTER&#39;</span><span class="o">:</span>
</span><span class="line">      <span class="k">return</span> <span class="nx">action</span><span class="p">.</span><span class="nx">filter</span>
</span><span class="line">    <span class="k">default</span><span class="o">:</span>
</span><span class="line">      <span class="k">return</span> <span class="nx">state</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kd">function</span> <span class="nx">todos</span><span class="p">(</span><span class="nx">state</span> <span class="o">=</span> <span class="p">[],</span> <span class="nx">action</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="k">switch</span> <span class="p">(</span><span class="nx">action</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="k">case</span> <span class="s1">&#39;ADD_TODO&#39;</span><span class="o">:</span>
</span><span class="line">      <span class="k">return</span> <span class="p">[</span>
</span><span class="line">        <span class="p">...</span><span class="nx">state</span><span class="p">,</span>
</span><span class="line">        <span class="p">{</span>
</span><span class="line">          <span class="nx">text</span><span class="o">:</span> <span class="nx">action</span><span class="p">.</span><span class="nx">text</span><span class="p">,</span>
</span><span class="line">          <span class="nx">completed</span><span class="o">:</span> <span class="kc">false</span>
</span><span class="line">        <span class="p">}</span>
</span><span class="line">      <span class="p">]</span>
</span><span class="line">    <span class="k">case</span> <span class="s1">&#39;COMPLETE_TODO&#39;</span><span class="o">:</span>
</span><span class="line">      <span class="k">return</span> <span class="nx">state</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">todo</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
</span><span class="line">        <span class="k">if</span> <span class="p">(</span><span class="nx">index</span> <span class="o">===</span> <span class="nx">action</span><span class="p">.</span><span class="nx">index</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">          <span class="k">return</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">assign</span><span class="p">({},</span> <span class="nx">todo</span><span class="p">,</span> <span class="p">{</span>
</span><span class="line">            <span class="nx">completed</span><span class="o">:</span> <span class="kc">true</span>
</span><span class="line">          <span class="p">})</span>
</span><span class="line">        <span class="p">}</span>
</span><span class="line">        <span class="k">return</span> <span class="nx">todo</span>
</span><span class="line">      <span class="p">})</span>
</span><span class="line">    <span class="k">default</span><span class="o">:</span>
</span><span class="line">      <span class="k">return</span> <span class="nx">state</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kr">import</span> <span class="p">{</span> <span class="nx">combineReducers</span><span class="p">,</span> <span class="nx">createStore</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;redux&#39;</span>
</span><span class="line"><span class="kd">let</span> <span class="nx">reducer</span> <span class="o">=</span> <span class="nx">combineReducers</span><span class="p">({</span> <span class="nx">visibilityFilter</span><span class="p">,</span> <span class="nx">todos</span> <span class="p">})</span>
</span><span class="line"><span class="kd">let</span> <span class="nx">store</span> <span class="o">=</span> <span class="nx">createStore</span><span class="p">(</span><span class="nx">reducer</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>
<h2>
ç°æœ‰æŠ€æœ¯
</h2>
<p>
Reduxæœ‰ä¸€ä¸ªæ··åˆé—äº§ã€‚ å®ƒç±»ä¼¼äºä¸€äº›æ¨¡å¼å’ŒæŠ€æœ¯ï¼Œä½†ä¹Ÿæœ‰é‡è¦çš„æ–¹é¢ä¸ä»–ä»¬ä¸åŒã€‚ æˆ‘ä»¬å°†æ¢è®¨ä¸€äº›ç›¸ä¼¼ä¹‹å¤„å’Œä¸‹é¢çš„å·®å¼‚ã€‚
</p>
<h3>
Flux
</h3>
<p>
å¯ä»¥å°†Reduxè§†ä¸ºFluxå®ç°å—ï¼Ÿ

æ˜¯çš„ï¼Œæ²¡æœ‰ã€‚

ï¼ˆä¸è¦æ‹…å¿ƒï¼ŒFluxçš„åˆ›ä½œè€…èµæˆå®ƒï¼Œå¦‚æœè¿™æ˜¯ä½ æƒ³çŸ¥é“çš„ã€‚ï¼‰

Reduxçš„çµæ„Ÿæ¥è‡ªäºFluxçš„å‡ ä¸ªé‡è¦ç‰¹æ€§ã€‚ åƒFluxä¸€æ ·ï¼ŒReduxè§„å®šæ‚¨å°†æ¨¡å‹æ›´æ–°é€»è¾‘é›†ä¸­åœ¨åº”ç”¨ç¨‹åºçš„æŸä¸ªå±‚ï¼ˆâ€œFluxâ€ä¸­çš„â€œå•†åº—â€ï¼ŒReduxä¸­çš„â€œreducerâ€ï¼‰ã€‚ ä¸æ˜¯è®©åº”ç”¨ç¨‹åºä»£ç ç›´æ¥å˜æ¢æ•°æ®ï¼Œè€Œæ˜¯å‘Šè¯‰ä½ å°†æ¯ä¸ªå˜é‡æè¿°ä¸ºä¸€ä¸ªç§°ä¸ºâ€œåŠ¨ä½œâ€çš„ç®€å•å¯¹è±¡ã€‚

ä¸Fluxä¸åŒï¼ŒReduxæ²¡æœ‰Dispatcherçš„æ¦‚å¿µã€‚ è¿™æ˜¯å› ä¸ºå®ƒä¾èµ–äºçº¯å‡½æ•°è€Œä¸æ˜¯äº‹ä»¶å‘å°„å™¨ï¼Œè€Œçº¯å‡½æ•°å¾ˆå®¹æ˜“æ„æˆï¼Œå¹¶ä¸”ä¸éœ€è¦å¦å¤–çš„å®ä½“æ¥ç®¡ç†å®ƒä»¬ã€‚ æ ¹æ®æ‚¨æŸ¥çœ‹Fluxçš„æ–¹å¼ï¼Œæ‚¨å¯èƒ½ä¼šå°†æ­¤è§†ä¸ºåå·®æˆ–å®æ–½è¯¦ç»†ä¿¡æ¯ã€‚ Fluxç»å¸¸è¢«æè¿°ä¸º(state, action) =&gt; stateã€‚ åœ¨è¿™ä¸ªæ„ä¹‰ä¸Šï¼ŒReduxæ˜¯çœŸæ­£çš„Fluxæ¶æ„ï¼Œä½†ç”±äºçº¯å‡½æ•°ä½¿å®ƒæ›´ç®€å•ã€‚

ä¸Fluxçš„å¦ä¸€ä¸ªé‡è¦åŒºåˆ«æ˜¯Reduxå‡è®¾ä½ ä»ä¸æ”¹å˜ä½ çš„æ•°æ®ã€‚ ä½ å¯ä»¥ä½¿ç”¨ç®€å•çš„å¯¹è±¡å’Œæ•°ç»„ä¸ºä½ çš„çŠ¶æ€å¾ˆå¥½ï¼Œä½†æ˜¯åœ¨reducerå†…å˜å¼‚ä»–ä»¬æ˜¯å¼ºçƒˆä¸é¼“åŠ±ã€‚ ä½ åº”è¯¥æ€»æ˜¯è¿”å›ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œè¿™æ˜¯å¾ˆå®¹æ˜“ä¸å¯¹è±¡æ‰©å±•è¿ç®—ç¬¦å»ºè®®ï¼Œæˆ–ä¸åƒImmutableçš„åº“ã€‚

è™½ç„¶åœ¨æŠ€æœ¯ä¸Šå¯èƒ½ç¼–å†™ä¸ç¡®å®šçš„ç¼©å‡å™¨ï¼Œä¸ºæ€§èƒ½è§’ç‚¹çªå˜æ•°æ®ï¼Œä½†æˆ‘ä»¬ç§¯æé˜»æ­¢æ‚¨è¿™æ ·åšã€‚ æ—¶é—´æ—…è¡Œï¼Œè®°å½•/é‡æ”¾æˆ–çƒ­é‡æ–°åŠ è½½ç­‰å¼€å‘åŠŸèƒ½å°†ä¼šä¸­æ–­ã€‚ æ­¤å¤–ï¼Œä¼¼ä¹ä¸å¯å˜æ€§ä¼¼ä¹åœ¨å¤§å¤šæ•°çœŸå®åº”ç”¨ç¨‹åºä¸­é€ æˆæ€§èƒ½é—®é¢˜ï¼Œå› ä¸ºï¼Œæ­£å¦‚<a href="https://github.com/omcljs/om">Om</a>æ‰€ç¤ºï¼Œå³ä½¿ä½ å¤±å»äº†å¯¹è±¡åˆ†é…ï¼Œä½ ä»ç„¶é€šè¿‡é¿å…æ˜‚è´µçš„é‡æ–°æ¸²æŸ“å’Œé‡æ–°è®¡ç®—èµ¢å¾—ï¼Œå› ä¸ºä½ çŸ¥é“ä»€ä¹ˆ æ”¹å˜ç”±äºå‡é€Ÿå™¨çš„çº¯åº¦ã€‚
</p>
<h3>
Elm
</h3>
<p>
&lt;a href=&#8221;http://elm-lang.org/&#8221;Elmæ˜¯ä¸€ä¸ªç”±Haskellå¯å‘çš„å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ï¼Œç”±Evan Czaplickiåˆ›å»ºã€‚ å®ƒå¼ºåˆ¶æ‰§è¡Œâ€œæ¨¡å‹è§†å›¾æ›´æ–°â€æ¶æ„ï¼Œå…¶ä¸­æ›´æ–°å…·æœ‰ä»¥ä¸‹ç­¾åï¼šï¼ˆactionï¼Œstateï¼‰=&gt; stateã€‚ Elmâ€œupdatersâ€ä¸Reduxä¸­çš„reducerå…·æœ‰ç›¸åŒçš„ç›®çš„ã€‚

ä¸Reduxä¸åŒï¼ŒElmæ˜¯ä¸€ç§è¯­è¨€ï¼Œå› æ­¤å®ƒå¯ä»¥ä»è¯¸å¦‚å¼ºåˆ¶çº¯åº¦ï¼Œé™æ€ç±»å‹ï¼Œå¼€ç®±ä¸å¯å˜æ€§å’Œæ¨¡å¼åŒ¹é…ï¼ˆä½¿ç”¨caseè¡¨è¾¾å¼ï¼‰ç­‰è®¸å¤šæ–¹é¢å—ç›Šã€‚ å³ä½¿ä½ ä¸æ‰“ç®—ä½¿ç”¨Elmï¼Œä½ åº”è¯¥é˜…è¯»å…³äºElmæ¶æ„ï¼Œå¹¶ç©å®ƒã€‚ æœ‰ä¸€ä¸ªæœ‰è¶£çš„javascriptåº“æ“åœºå®ç°ç±»ä¼¼çš„æƒ³æ³•ã€‚ æˆ‘ä»¬åº”è¯¥çœ‹çœ‹Reduxçš„çµæ„Ÿï¼ æˆ‘ä»¬å¯ä»¥æ›´æ¥è¿‘Elmçš„é™æ€ç±»å‹çš„ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨æ¸è¿›æ‰“å­—è§£å†³æ–¹æ¡ˆï¼Œå¦‚Flowã€‚
</p>
<h3>
Immutable
</h3>
<p>
 <a href="https://facebook.github.io/immutable-js">Immutable</a>æ˜¯ä¸€ä¸ªå®ç°æŒä¹…æ•°æ®ç»“æ„çš„javascriptåº“ã€‚ å®ƒæ˜¯æ€§èƒ½å’Œæœ‰ä¸€ä¸ªæƒ¯ç”¨çš„javascript APIã€‚

Immutableçš„å’Œæœ€ç›¸ä¼¼çš„åº“ä¸Reduxæ­£äº¤ã€‚ éšæ„ä½¿ç”¨å®ƒä»¬åœ¨ä¸€èµ·ï¼

Reduxä¸å…³å¿ƒä½ å¦‚ä½•å­˜å‚¨çŠ¶æ€ - å®ƒå¯ä»¥æ˜¯ä¸€ä¸ªç®€å•çš„å¯¹è±¡ï¼Œä¸€ä¸ªImmutableçš„å¯¹è±¡ï¼Œæˆ–ä»»ä½•å…¶ä»–ã€‚ ä½ å¯èƒ½æƒ³è¦ä¸€ä¸ªï¼ˆdeï¼‰åºåˆ—åŒ–æœºåˆ¶ï¼Œç”¨äºç¼–å†™é€šç”¨åº”ç”¨ç¨‹åºå’Œä»æœåŠ¡å™¨è½¬åŒ–åŒ–å®ƒä»¬çš„çŠ¶æ€ï¼Œä½†é™¤æ­¤ä¹‹å¤–ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»»ä½•æ•°æ®å­˜å‚¨åº“ï¼Œåªè¦å®ƒæ”¯æŒImmutableã€‚ ä¾‹å¦‚ï¼Œå°†Backboneç”¨äºReduxçŠ¶æ€æ²¡æœ‰æ„ä¹‰ï¼Œå› ä¸ºBackboneæ¨¡å‹æ˜¯å¯å˜çš„ã€‚

è¯·æ³¨æ„ï¼Œå³ä½¿æ‚¨çš„Immutableåº“æ”¯æŒå…‰æ ‡ï¼Œæ‚¨ä¸åº”åœ¨Reduxåº”ç”¨ç¨‹åºä¸­ä½¿ç”¨å®ƒä»¬ã€‚ æ•´ä¸ªçŠ¶æ€æ ‘åº”è¯¥è¢«è®¤ä¸ºæ˜¯åªè¯»çš„ï¼Œä½ åº”è¯¥ä½¿ç”¨Reduxæ¥æ›´æ–°çŠ¶æ€ï¼Œå¹¶è®¢é˜…æ›´æ–°ã€‚ å› æ­¤ï¼Œé€šè¿‡å…‰æ ‡å†™å…¥å¯¹äºReduxæ²¡æœ‰æ„ä¹‰ã€‚ å¦‚æœæ‚¨å¯¹å…‰æ ‡çš„å”¯ä¸€ç”¨ä¾‹æ˜¯ä»UIæ ‘ä¸­è§£è€¦çŠ¶æ€æ ‘å¹¶é€æ¸ç»†åŒ–å…‰æ ‡ï¼Œåˆ™åº”æŸ¥çœ‹é€‰æ‹©å™¨ã€‚ é€‰æ‹©å™¨æ˜¯å¯ç»„åˆçš„getterå‡½æ•°ã€‚ çœ‹åˆ°é‡é€‰çš„ä¸€ä¸ªçœŸæ­£ä¼Ÿå¤§å’Œç®€æ´çš„å¯ç»„åˆé€‰æ‹©å™¨çš„å®ç°ã€‚
</p>
<h3>
Baobab
</h3>
<p>
<a href="https://github.com/Yomguithereal/baobab">Baobab</a>æ˜¯å¦ä¸€ä¸ªæµè¡Œçš„åº“ï¼Œç”¨äºå®ç°ä¸å¯å˜çš„APIï¼Œç”¨äºæ›´æ–°çº¯javascriptå¯¹è±¡ã€‚ è™½ç„¶ä½ å¯ä»¥ä½¿ç”¨å®ƒä¸Reduxï¼Œä½†æ˜¯æ²¡æœ‰ä»€ä¹ˆå¥½å¤„åœ¨ä¸€èµ·ä½¿ç”¨å®ƒä»¬ã€‚

Baobabæä¾›çš„å¤§å¤šæ•°åŠŸèƒ½éƒ½ä¸ä½¿ç”¨æ¸¸æ ‡æ›´æ–°æ•°æ®ç›¸å…³ï¼Œä½†Reduxå¼ºåˆ¶æ›´æ–°æ•°æ®çš„å”¯ä¸€æ–¹æ³•æ˜¯è°ƒåº¦æ“ä½œã€‚ å› æ­¤ï¼Œä»–ä»¬ä¸åŒåœ°è§£å†³ç›¸åŒçš„é—®é¢˜ï¼Œå¹¶ä¸”ä¸äº’è¡¥ã€‚

ä¸Immutableä¸åŒï¼ŒBaobabè¿˜æ²¡æœ‰å®ç°ä»»ä½•ç‰¹æ®Šçš„é«˜æ•ˆæ•°æ®ç»“æ„ï¼Œæ‰€ä»¥ä½ ä¸ä¼šçœŸæ­£èµ¢å¾—ä»»ä½•ä¸œè¥¿ï¼Œä½¿ç”¨å®ƒå’ŒReduxä¸€èµ·ä½¿ç”¨ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ›´å®¹æ˜“ä½¿ç”¨çº¯å¯¹è±¡ã€‚
</p>
<h3>
Rx
</h3>
<p>
<a href="https://github.com/Reactive-Extensions/RxJS">Reactive </a>æ‰©å±•ï¼ˆä»¥åŠå®ƒä»¬æ­£åœ¨è¿›è¡Œçš„ç°ä»£é‡å†™ï¼‰æ˜¯ç®¡ç†å¼‚æ­¥åº”ç”¨ç¨‹åºçš„å¤æ‚æ€§çš„æå¥½æ–¹æ³•ã€‚ å®é™…ä¸Šï¼Œæœ‰ä¸€ç§åŠªåŠ›æ¥åˆ›å»ºä¸€ä¸ªå°†äººæœºäº¤äº’ä½œä¸ºç›¸äº’ä¾èµ–çš„å¯è§‚å¯Ÿè€…çš„åº“ã€‚

ä¸Rxä¸€èµ·ä½¿ç”¨Reduxæœ‰æ„ä¹‰å—ï¼Ÿ å½“ç„¶ï¼ ä»–ä»¬ä¸€èµ·å·¥ä½œã€‚ ä¾‹å¦‚ï¼Œå¾ˆå®¹æ˜“å°†Reduxå­˜å‚¨æš´éœ²ä¸ºå¯è§‚å¯Ÿè€…ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">function</span> <span class="nx">toObservable</span><span class="p">(</span><span class="nx">store</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="k">return</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">subscribe</span><span class="p">({</span> <span class="nx">onNext</span> <span class="p">})</span> <span class="p">{</span>
</span><span class="line">      <span class="kd">let</span> <span class="nx">dispose</span> <span class="o">=</span> <span class="nx">store</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">onNext</span><span class="p">(</span><span class="nx">store</span><span class="p">.</span><span class="nx">getState</span><span class="p">()))</span>
</span><span class="line">      <span class="nx">onNext</span><span class="p">(</span><span class="nx">store</span><span class="p">.</span><span class="nx">getState</span><span class="p">())</span>
</span><span class="line">      <span class="k">return</span> <span class="p">{</span> <span class="nx">dispose</span> <span class="p">}</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

ç±»ä¼¼åœ°ï¼Œæ‚¨å¯ä»¥ç»„åˆä¸åŒçš„å¼‚æ­¥æµï¼Œå°†å®ƒä»¬è½¬æ¢ä¸ºåŠ¨ä½œï¼Œç„¶åå°†å®ƒä»¬æä¾›ç»™store.dispatchï¼ˆï¼‰ã€‚

é—®é¢˜æ˜¯ï¼šå¦‚æœä½ å·²ç»ä½¿ç”¨Rxï¼Œä½ çœŸçš„éœ€è¦Reduxå—ï¼Ÿ ä¹Ÿè®¸ä¸ä¼šã€‚ åœ¨<a href="https://github.com/jas-chen/rx-redux">Rxä¸­é‡æ–°å®ç°Redux</a>å¹¶ä¸å›°éš¾ã€‚ æœ‰äººè¯´è¿™æ˜¯ä¸€ä¸ªä¸¤çº¿ç¨‹ä½¿ç”¨Rx.scanï¼ˆï¼‰æ–¹æ³•ã€‚ å®ƒå¯èƒ½å¾ˆå¥½ï¼

å¦‚æœä½ æœ‰ç–‘é—®ï¼Œè¯·æŸ¥çœ‹Reduxæºä»£ç ï¼ˆæ²¡æœ‰å¤ªå¤šçš„äº‹æƒ…ï¼‰ï¼Œä»¥åŠå®ƒçš„ç”Ÿæ€ç³»ç»Ÿï¼ˆä¾‹å¦‚ï¼Œ<a href="https://github.com/gaearon/redux-devtools">å¼€å‘å·¥å…·</a>ï¼‰ã€‚ å¦‚æœä½ ä¸å¤ªå…³å¿ƒå®ƒï¼Œå¹¶ä¸”å¸Œæœ›ä¸ååº”æ•°æ®æµä¸€è·¯èµ°ï¼Œä½ å¯èƒ½æƒ³è¦æ¢ç´¢ç±»ä¼¼äº<a href="https://cycle.js.org/">Cycle</a>çš„ä¸œè¥¿ï¼Œæˆ–è€…ç”šè‡³å°†å®ƒä¸Reduxç»„åˆã€‚ è®©æˆ‘ä»¬çŸ¥é“å®ƒæ€ä¹ˆå›äº‹ï¼
</p>

<h2>
ç”Ÿæ€ç³»ç»Ÿ
</h2>
<p>
Reduxæ˜¯ä¸€ä¸ªå¾ˆå°çš„åº“ï¼Œä½†å®ƒçš„åˆåŒå’ŒAPIè¢«ä»”ç»†é€‰æ‹©ï¼Œä»¥äº§ç”Ÿä¸€ä¸ªå·¥å…·å’Œæ‰©å±•çš„ç”Ÿæ€ç³»ç»Ÿã€‚

æœ‰å…³ä¸Reduxç›¸å…³çš„ä¸€åˆ‡çš„å¹¿æ³›åˆ—è¡¨ï¼Œæˆ‘ä»¬å»ºè®®<a href="https://github.com/xgrommx/awesome-redux">Awesome Redux</a>ã€‚ å®ƒåŒ…å«ç¤ºä¾‹ï¼Œæ¨¡æ¿ï¼Œä¸­é—´ä»¶ï¼Œå®ç”¨ç¨‹åºåº“ç­‰ã€‚<a href="https://github.com/markerikson/react-redux-links"> React / Reduxé“¾æ¥</a>åŒ…å«ä»»ä½•å­¦ä¹ Reactæˆ–Reduxçš„æ•™ç¨‹å’Œå…¶ä»–æœ‰ç”¨çš„èµ„æºï¼Œ<a href="https://github.com/markerikson/redux-ecosystem-links">Redux Ecosystem Links</a>åˆ—å‡ºäº†è®¸å¤šä¸Reduxç›¸å…³çš„åº“å’Œæ’ä»¶ã€‚

åœ¨æœ¬é¡µä¸Šï¼Œæˆ‘ä»¬å°†åªä»‹ç»Reduxç»´æŠ¤è€…å·²äº²è‡ªå®¡æ ¸çš„å‡ ä¸ªã€‚ ä¸è¦è®©è¿™ä¸é¼“åŠ±ä½ å°è¯•å…¶ä½™çš„ï¼ ç”Ÿæ€ç³»ç»Ÿæ­£åœ¨å¢é•¿å¤ªå¿«ï¼Œæˆ‘ä»¬æœ‰é™çš„æ—¶é—´æ¥çœ‹å¾…ä¸€åˆ‡ã€‚ è€ƒè™‘è¿™äº›â€œèŒå‘˜é€‰æ‹©â€ï¼Œå¦‚æœä½ ç”¨Reduxæ„å»ºäº†ä¸€äº›å¥‡å¦™çš„ä¸œè¥¿ï¼Œä¸è¦çŠ¹è±«æäº¤PRã€‚
</p>

<h2>
å­¦ä¹ Redux
</h2>
<h3>

</h3>
<p class="post-footer">
                        written by <a href="http://ITMonkeyLife.github.io/Blog">Rick</a>&nbsp;posted at <a href="http://ITMonkeyLife.github.io/Blog">http://ITMonkeyLife.github.io/Blog</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[åœ¨ç°æœ‰iOSå·¥ç¨‹åŠ å…¥React-Native]]></title>
    <link href="http://ITMonkeyLife.github.io/Blog/blog/2016/11/15/zai-xian-you-iosgong-cheng-jia-ru-react-native/"/>
    <updated>2016-11-15T14:52:23+08:00</updated>
    <id>http://ITMonkeyLife.github.io/Blog/blog/2016/11/15/zai-xian-you-iosgong-cheng-jia-ru-react-native</id>
    <content type="html"><![CDATA[<h2>
React-Nativeåœ¨iOSå·¥ç¨‹çš„é›†æˆ
</h2>
<p>
å½“æˆ‘ä»¬æƒ³åœ¨ç°æœ‰çš„iOSå¼€å‘å·¥ç¨‹ä¸­åŠ å…¥React-Nativeè¿™ä¸ªæ¨¡å—çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦åšä¸€äº›å‡†å¤‡å·¥ä½œã€‚<æˆ‘å‡è®¾å·²ç»å®‰è£…äº†homebrew>å®‰è£…éœ€è¦çš„å·¥å…·ï¼šnpm
<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">brew install npm</span></code></pre></td></tr></table></div></figure></notextile></div>
ä¸€èˆ¬æ¥è¯´åªè¦æœ‰è¿™ä¸ªå°±å¯ä»¥ï¼Œä½†æ˜¯é‰´äºnpm æ¯æ¬¡éƒ½è¦npm install React-Nativeå¹¶ä¸”æ—¶é—´å¾ˆæ…¢ï¼Œæˆ‘ä»¬å¯ä»¥è¾…åŠ©ä½¿ç”¨Yarnï¼Œè¿™ä¸ªå·¥å…·ä¹Ÿæ˜¯Facebookå‡ºå“çš„ï¼Œè¿™ä¸ªæ‰“React-Nativeçš„æ•ˆç‡æ¯”<code>npm install </code>é«˜å¾ˆå¤šã€‚
å®‰è£…å¥½äº†npmä¹‹åï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªpackage.jsonæ–‡ä»¶,å†…å®¹å¦‚ä¸‹
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
</pre></td><td class="code"><pre><code class="json"><span class="line"><span class="p">{</span>
</span><span class="line">  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;honer&quot;</span><span class="p">,</span>
</span><span class="line">  <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0.0.1&quot;</span><span class="p">,</span>
</span><span class="line">  <span class="nt">&quot;private&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span><span class="line">  <span class="nt">&quot;scripts&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="line">    <span class="nt">&quot;update&quot;</span><span class="p">:</span> <span class="s2">&quot;echo &#39;{\&quot;presets\&quot;:[\&quot;react-native\&quot;],\&quot;plugins\&quot;:[\&quot;transform-decorators-legacy\&quot;,[\&quot;react-native-css-class\&quot;,{\&quot;pragma\&quot;:\&quot;CSS\&quot;}]]}&#39; &gt; .babelrc &amp;&amp; mkdir bundle &amp;&amp; npm i&quot;</span><span class="p">,</span>
</span><span class="line">    <span class="nt">&quot;start&quot;</span><span class="p">:</span> <span class="s2">&quot;node node_modules/react-native/local-cli/cli.js start&quot;</span><span class="p">,</span>
</span><span class="line">    <span class="nt">&quot;build&quot;</span><span class="p">:</span> <span class="s2">&quot;rm -rf ./bundle/* &amp;&amp; react-native bundle --platform ios --entry-file ./ReactComponent/index.ios.js --bundle-output ./bundle/main.jsbundle --assets-dest ./bundle/  --dev false&quot;</span><span class="p">,</span>
</span><span class="line">    <span class="nt">&quot;test&quot;</span><span class="p">:</span> <span class="s2">&quot;jest&quot;</span>
</span><span class="line">  <span class="p">},</span>
</span><span class="line">  <span class="nt">&quot;dependencies&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="line">    <span class="nt">&quot;react&quot;</span><span class="p">:</span> <span class="s2">&quot;15.3.2&quot;</span><span class="p">,</span>
</span><span class="line">    <span class="nt">&quot;react-native&quot;</span><span class="p">:</span> <span class="s2">&quot;0.36.1&quot;</span>
</span><span class="line">  <span class="p">},</span>
</span><span class="line">  <span class="nt">&quot;jest&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="line">    <span class="nt">&quot;preset&quot;</span><span class="p">:</span> <span class="s2">&quot;jest-react-native&quot;</span>
</span><span class="line">  <span class="p">},</span>
</span><span class="line">  <span class="nt">&quot;devDependencies&quot;</span><span class="p">:</span> <span class="p">{</span>
</span><span class="line">    <span class="nt">&quot;babel-jest&quot;</span><span class="p">:</span> <span class="s2">&quot;16.0.0&quot;</span><span class="p">,</span>
</span><span class="line">    <span class="nt">&quot;babel-plugin-react-native-css-class&quot;</span><span class="p">:</span> <span class="s2">&quot;git+https://github.com/qq4647805/babel-plugin-react-native-css-class.git&quot;</span><span class="p">,</span>
</span><span class="line">    <span class="nt">&quot;babel-plugin-transform-decorators-legacy&quot;</span><span class="p">:</span> <span class="s2">&quot;^1.3.4&quot;</span><span class="p">,</span>
</span><span class="line">    <span class="nt">&quot;babel-plugin-transform-runtime&quot;</span><span class="p">:</span> <span class="s2">&quot;^6.15.0&quot;</span><span class="p">,</span>
</span><span class="line">    <span class="nt">&quot;babel-preset-react-native&quot;</span><span class="p">:</span> <span class="s2">&quot;1.9.0&quot;</span><span class="p">,</span>
</span><span class="line">    <span class="nt">&quot;jest&quot;</span><span class="p">:</span> <span class="s2">&quot;16.0.2&quot;</span><span class="p">,</span>
</span><span class="line">    <span class="nt">&quot;jest-react-native&quot;</span><span class="p">:</span> <span class="s2">&quot;16.1.0&quot;</span><span class="p">,</span>
</span><span class="line">    <span class="nt">&quot;react-test-renderer&quot;</span><span class="p">:</span> <span class="s2">&quot;15.3.2&quot;</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
é€šè¿‡ç»ˆç«¯è¿›å…¥å·¥ç¨‹æ ¹ç›®å½•ä¸‹ï¼Œå¦‚æœè¿™æ—¶å®‰è£…äº†Yarnã€‚åœ¨ç»ˆç«¯è¾“å…¥<code>yarn</code>ï¼Œå›è½¦ä¸€æŒ‰ï¼Œè‡ªåŠ¨æŸ¥æ‰¾éœ€è¦å®‰è£…çš„packages
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class="json"><span class="line"><span class="err">RickdeMacBook-Pro:xueba_ios_</span><span class="mi">2016</span> <span class="err">Wenba$</span> <span class="err">yarn</span>
</span><span class="line"><span class="err">yarn</span> <span class="err">install</span> <span class="err">v</span><span class="mf">0.16</span><span class="err">.</span><span class="mi">1</span>
</span><span class="line"><span class="err">info</span> <span class="err">No</span> <span class="err">lockfile</span> <span class="err">found.</span>
</span><span class="line"><span class="p">[</span><span class="mi">1</span><span class="err">/</span><span class="mi">4</span><span class="p">]</span> <span class="err">ğŸ”</span>  <span class="err">Resolving</span> <span class="err">packages...</span>
</span><span class="line"><span class="err">warning</span> <span class="err">jest</span> <span class="err">&gt;</span> <span class="err">jest-cli</span> <span class="err">&gt;</span> <span class="err">istanbul-api</span> <span class="err">&gt;</span> <span class="err">fileset</span> <span class="err">&gt;</span> <span class="err">minimatch@</span><span class="mf">2.0</span><span class="err">.</span><span class="mi">10</span><span class="err">:</span> <span class="err">Please</span> <span class="err">update</span> <span class="err">to</span> <span class="err">minimatch</span> <span class="mf">3.0</span><span class="err">.</span><span class="mi">2</span> <span class="err">or</span> <span class="err">higher</span> <span class="err">to</span> <span class="err">avoid</span> <span class="err">a</span> <span class="err">RegExp</span> <span class="err">DoS</span> <span class="err">issue</span>
</span><span class="line"><span class="p">[</span><span class="mi">2</span><span class="err">/</span><span class="mi">4</span><span class="p">]</span> <span class="err">ğŸšš</span>  <span class="err">Fetching</span> <span class="err">packages...</span>
</span><span class="line"><span class="p">[</span><span class="mi">3</span><span class="err">/</span><span class="mi">4</span><span class="p">]</span> <span class="err">ğŸ”—</span>  <span class="err">Linking</span> <span class="err">dependencies...</span>
</span><span class="line"><span class="err">warning</span> <span class="err">Unmet</span> <span class="err">peer</span> <span class="err">dependency</span> <span class="s2">&quot;whatwg-fetch@^1.0.0&quot;</span><span class="err">.</span>
</span><span class="line"><span class="p">[</span><span class="mi">4</span><span class="err">/</span><span class="mi">4</span><span class="p">]</span> <span class="err">ğŸ“ƒ</span>  <span class="err">Building</span> <span class="err">fresh</span> <span class="err">packages...</span>
</span><span class="line"><span class="err">success</span> <span class="err">Saved</span> <span class="err">lockfile.</span>
</span><span class="line"><span class="err">âœ¨</span>  <span class="err">Done</span> <span class="err">in</span> <span class="mf">19.62</span><span class="err">s.</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

å¦‚æœæ²¡æœ‰å®‰è£…Yarnï¼Œå®‰è£…äº†npmçš„è¯ï¼Œåªè¦é”®å…¥ npm install å°±ä¼šå®‰è£…packages

ç„¶åæˆ‘ä»¬å»ä¿®æ”¹iOSå·¥ç¨‹çš„podfileæ–‡ä»¶ï¼Œåœ¨æ‰€åœ¨çš„targetå¤šå¢åŠ è¿™ä¸ªpod
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="n">pod</span> <span class="s1">&#39;React&#39;</span><span class="p">,</span> <span class="ss">:path</span> <span class="o">=&gt;</span> <span class="s1">&#39;./node_modules/react-native&#39;</span><span class="p">,</span> <span class="ss">:subspecs</span> <span class="o">=&gt;</span> <span class="o">[</span>
</span><span class="line">  <span class="s1">&#39;Core&#39;</span><span class="p">,</span>
</span><span class="line">  <span class="s1">&#39;RCTImage&#39;</span><span class="p">,</span>
</span><span class="line">  <span class="s1">&#39;RCTNetwork&#39;</span><span class="p">,</span>
</span><span class="line">  <span class="s1">&#39;RCTText&#39;</span><span class="p">,</span>
</span><span class="line">  <span class="s1">&#39;RCTWebSocket&#39;</span><span class="p">,</span>
</span><span class="line">  <span class="c1"># Add any other subspecs you want to use in your project</span>
</span><span class="line"><span class="o">]</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
åœ¨iOSå·¥ç¨‹ç›®å½•ä¸‹æ‰§è¡Œ<code>Pod install</code>ã€‚ç­‰å¾…å®‰è£…å®Œæˆã€‚æ­¤æ—¶React-Nativeæ¨¡å—å·²ç»åŠ å…¥åˆ°æˆ‘ä»¬iOSçš„å·¥ç¨‹é‡Œäº†ã€‚

<!--more-->
<h2>
åœ¨iOSå·¥ç¨‹ä½¿ç”¨React-Nativeã€‚
</h2>
<p>
åœ¨å·¥ç¨‹æ–°å»ºä¸€ä¸ªReactViewã€‚ç”¨äºå±•ç¤ºReact-Native
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
</pre></td><td class="code"><pre><code class="objc"><span class="line"><span class="k">@implementation</span> <span class="nc">ReactView</span>
</span><span class="line">
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="n">instancetype</span><span class="p">)</span><span class="nf">initWithFrame:</span><span class="p">(</span><span class="n">CGRect</span><span class="p">)</span><span class="nv">frame</span> <span class="p">{</span>
</span><span class="line">    <span class="n">self</span> <span class="o">=</span> <span class="p">[</span><span class="n">super</span> <span class="nl">initWithFrame:</span><span class="n">frame</span><span class="p">];</span>
</span><span class="line">    <span class="k">if</span> <span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">        <span class="n">NSURL</span> <span class="o">*</span><span class="n">jsCodeLocation</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSBundle</span> <span class="n">mainBundle</span><span class="p">]</span> <span class="nl">URLForResource:</span><span class="s">@&quot;bundle/main&quot;</span> <span class="nl">withExtension:</span><span class="s">@&quot;jsbundle&quot;</span><span class="p">];</span>
</span><span class="line">        <span class="cm">/*</span>
</span><span class="line"><span class="cm">         For production use, this `NSURL` could instead point to a pre-bundled file on disk:</span>
</span><span class="line">
</span><span class="line"><span class="cm">         NSURL *jsCodeLocation = [[NSBundle mainBundle] URLForResource:@&quot;main&quot; withExtension:@&quot;jsbundle&quot;];</span>
</span><span class="line">
</span><span class="line"><span class="cm">         To generate that file, run the curl command and add the output to your main Xcode build target:</span>
</span><span class="line">
</span><span class="line"><span class="cm">         curl http://localhost:8081/index.ios.bundle -o main.jsbundle</span>
</span><span class="line"><span class="cm">         */</span>
</span><span class="line">        <span class="n">_rootView</span> <span class="o">=</span> <span class="p">[[</span><span class="n">RCTRootView</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithBundleURL:</span><span class="n">jsCodeLocation</span> <span class="nl">moduleName:</span><span class="s">@&quot;honer&quot;</span> <span class="nl">initialProperties:</span><span class="nb">nil</span> <span class="nl">launchOptions:</span><span class="nb">nil</span><span class="p">];</span>
</span><span class="line">        <span class="p">[</span><span class="n">self</span> <span class="nl">addSubview:</span><span class="n">_rootView</span><span class="p">];</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line">
</span><span class="line">    <span class="k">return</span> <span class="n">self</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line">
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">layoutSubviews</span> <span class="p">{</span>
</span><span class="line">    <span class="p">[</span><span class="n">super</span> <span class="n">layoutSubviews</span><span class="p">];</span>
</span><span class="line">    <span class="n">_rootView</span><span class="p">.</span><span class="n">frame</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">bounds</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line"><span class="cm">/*</span>
</span><span class="line"><span class="cm">// Only override drawRect: if you perform custom drawing.</span>
</span><span class="line"><span class="cm">// An empty implementation adversely affects performance during animation.</span>
</span><span class="line"><span class="cm">- (void)drawRect:(CGRect)rect {</span>
</span><span class="line"><span class="cm">    // Drawing code</span>
</span><span class="line"><span class="cm">}</span>
</span><span class="line"><span class="cm">*/</span><span class="err">``</span>
</span><span class="line">
</span><span class="line"><span class="k">@end</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
åœ¨ç»ˆç«¯è¾“å…¥ <code>(JS_DIR=`pwd`/ReactComponent;cd node_modules/react-native; npm run start -- --root $JS_DIR)</code> å¯åŠ¨React-NativeæœåŠ¡
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
</pre></td><td class="code"><pre><code class="objc"><span class="line"><span class="n">RickdeMacBook</span><span class="o">-</span><span class="nl">Pro:</span><span class="n">BestNote</span> <span class="n">Wenba$</span> <span class="p">(</span><span class="n">JS_DIR</span><span class="o">=</span><span class="err">`</span><span class="n">pwd</span><span class="err">`</span><span class="o">/</span><span class="n">ReactComponent</span><span class="p">;</span><span class="n">cd</span> <span class="n">node_modules</span><span class="o">/</span><span class="n">react</span><span class="o">-</span><span class="n">native</span><span class="p">;</span> <span class="n">npm</span> <span class="n">run</span> <span class="n">start</span> <span class="o">--</span> <span class="o">--</span><span class="n">root</span> <span class="n">$JS_DIR</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="o">&gt;</span> <span class="n">react</span><span class="o">-</span><span class="n">native</span><span class="err">@</span><span class="mf">0.36.1</span> <span class="n">start</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">Rick</span><span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Work</span><span class="o">/</span><span class="n">ChatDemo</span><span class="o">/</span><span class="n">ReactNative</span><span class="o">/</span><span class="n">BestNote</span><span class="o">/</span><span class="n">node_modules</span><span class="o">/</span><span class="n">react</span><span class="o">-</span><span class="n">native</span>
</span><span class="line"><span class="o">&gt;</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">env</span> <span class="n">bash</span> <span class="o">-</span><span class="n">c</span> <span class="err">&#39;</span><span class="p">.</span><span class="o">/</span><span class="n">packager</span><span class="o">/</span><span class="n">packager</span><span class="p">.</span><span class="n">sh</span> <span class="s">&quot;$@&quot;</span> <span class="o">||</span> <span class="n">true</span><span class="err">&#39;</span> <span class="o">--</span> <span class="s">&quot;--root&quot;</span> <span class="s">&quot;/Users/Rick/Documents/Work/ChatDemo/ReactNative/BestNote/ReactComponent&quot;</span>
</span><span class="line">
</span><span class="line"><span class="p">(</span><span class="nl">node:</span><span class="mi">14754</span><span class="p">)</span> <span class="nl">DeprecationWarning:</span> <span class="n">os</span><span class="p">.</span><span class="n">tmpDir</span><span class="p">()</span> <span class="n">is</span> <span class="n">deprecated</span><span class="p">.</span> <span class="n">Use</span> <span class="n">os</span><span class="p">.</span><span class="n">tmpdir</span><span class="p">()</span> <span class="n">instead</span><span class="p">.</span>
</span><span class="line"><span class="p">(</span><span class="nl">node:</span><span class="mi">14754</span><span class="p">)</span> <span class="nl">DeprecationWarning:</span> <span class="n">Using</span> <span class="n">Buffer</span> <span class="n">without</span> <span class="err">`</span><span class="n">new</span><span class="err">`</span> <span class="n">will</span> <span class="n">soon</span> <span class="n">stop</span> <span class="n">working</span><span class="p">.</span> <span class="n">Use</span> <span class="err">`</span><span class="n">new</span> <span class="n">Buffer</span><span class="p">()</span><span class="err">`</span><span class="p">,</span> <span class="n">or</span> <span class="n">preferably</span> <span class="err">`</span><span class="n">Buffer</span><span class="p">.</span><span class="n">from</span><span class="p">()</span><span class="err">`</span><span class="p">,</span> <span class="err">`</span><span class="n">Buffer</span><span class="p">.</span><span class="n">allocUnsafe</span><span class="p">()</span><span class="err">`</span> <span class="n">or</span> <span class="err">`</span><span class="n">Buffer</span><span class="p">.</span><span class="n">alloc</span><span class="p">()</span><span class="err">`</span> <span class="n">instead</span><span class="p">.</span>
</span><span class="line"><span class="n">Scanning</span> <span class="mi">717</span> <span class="n">folders</span> <span class="k">for</span> <span class="n">symlinks</span> <span class="k">in</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">Rick</span><span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Work</span><span class="o">/</span><span class="n">ChatDemo</span><span class="o">/</span><span class="n">ReactNative</span><span class="o">/</span><span class="n">BestNote</span><span class="o">/</span><span class="n">node_modules</span> <span class="p">(</span><span class="mi">9</span><span class="n">ms</span><span class="p">)</span>
</span><span class="line"> <span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
</span><span class="line"> <span class="err">â”‚</span>  <span class="n">Running</span> <span class="n">packager</span> <span class="n">on</span> <span class="n">port</span> <span class="mf">8081.</span>                                            <span class="err">â”‚</span>
</span><span class="line"> <span class="err">â”‚</span>                                                                            <span class="err">â”‚</span>
</span><span class="line"> <span class="err">â”‚</span>  <span class="n">Keep</span> <span class="n">this</span> <span class="n">packager</span> <span class="n">running</span> <span class="k">while</span> <span class="n">developing</span> <span class="n">on</span> <span class="n">any</span> <span class="n">JS</span> <span class="n">projects</span><span class="p">.</span> <span class="n">Feel</span>      <span class="err">â”‚</span>
</span><span class="line"> <span class="err">â”‚</span>  <span class="n">free</span> <span class="n">to</span> <span class="n">close</span> <span class="n">this</span> <span class="n">tab</span> <span class="n">and</span> <span class="n">run</span> <span class="n">your</span> <span class="n">own</span> <span class="n">packager</span> <span class="n">instance</span> <span class="k">if</span> <span class="n">you</span>          <span class="err">â”‚</span>
</span><span class="line"> <span class="err">â”‚</span>  <span class="n">prefer</span><span class="p">.</span>                                                                   <span class="err">â”‚</span>
</span><span class="line"> <span class="err">â”‚</span>                                                                            <span class="err">â”‚</span>
</span><span class="line"> <span class="err">â”‚</span>  <span class="nl">https:</span><span class="c1">//github.com/facebook/react-native                                  â”‚</span>
</span><span class="line"> <span class="err">â”‚</span>                                                                            <span class="err">â”‚</span>
</span><span class="line"> <span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</span><span class="line"><span class="n">Looking</span> <span class="k">for</span> <span class="n">JS</span> <span class="n">files</span> <span class="k">in</span>
</span><span class="line">   <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">Rick</span><span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Work</span><span class="o">/</span><span class="n">ChatDemo</span><span class="o">/</span><span class="n">ReactNative</span><span class="o">/</span><span class="n">BestNote</span>
</span><span class="line">   <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">Rick</span><span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Work</span><span class="o">/</span><span class="n">ChatDemo</span><span class="o">/</span><span class="n">ReactNative</span><span class="o">/</span><span class="n">BestNote</span><span class="o">/</span><span class="n">ReactComponent</span>
</span><span class="line">
</span><span class="line"><span class="p">[</span><span class="n">Hot</span> <span class="n">Module</span> <span class="n">Replacement</span><span class="p">]</span> <span class="n">Server</span> <span class="n">listening</span> <span class="n">on</span> <span class="o">/</span><span class="n">hot</span>
</span><span class="line">
</span><span class="line"><span class="n">React</span> <span class="n">packager</span> <span class="n">ready</span><span class="p">.</span>
</span><span class="line">
</span><span class="line"><span class="p">[</span><span class="mi">11</span><span class="o">/</span><span class="mi">15</span><span class="o">/</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">1</span><span class="o">:</span><span class="mi">50</span><span class="o">:</span><span class="mi">38</span> <span class="n">PM</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">START</span><span class="o">&gt;</span> <span class="n">Initializing</span> <span class="n">Packager</span>
</span><span class="line"><span class="p">[</span><span class="mi">11</span><span class="o">/</span><span class="mi">15</span><span class="o">/</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">1</span><span class="o">:</span><span class="mi">50</span><span class="o">:</span><span class="mi">38</span> <span class="n">PM</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">START</span><span class="o">&gt;</span> <span class="n">Building</span> <span class="k">in</span><span class="o">-</span><span class="n">memory</span> <span class="n">fs</span> <span class="k">for</span> <span class="n">JavaScript</span>
</span><span class="line"><span class="p">[</span><span class="mi">11</span><span class="o">/</span><span class="mi">15</span><span class="o">/</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">1</span><span class="o">:</span><span class="mi">50</span><span class="o">:</span><span class="mi">38</span> <span class="n">PM</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">END</span><span class="o">&gt;</span>   <span class="n">Building</span> <span class="k">in</span><span class="o">-</span><span class="n">memory</span> <span class="n">fs</span> <span class="k">for</span> <span class="n">JavaScript</span> <span class="p">(</span><span class="mi">173</span><span class="n">ms</span><span class="p">)</span>
</span><span class="line"><span class="p">[</span><span class="mi">11</span><span class="o">/</span><span class="mi">15</span><span class="o">/</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">1</span><span class="o">:</span><span class="mi">50</span><span class="o">:</span><span class="mi">38</span> <span class="n">PM</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">START</span><span class="o">&gt;</span> <span class="n">Building</span> <span class="n">Haste</span> <span class="n">Map</span>
</span><span class="line"><span class="p">[</span><span class="mi">11</span><span class="o">/</span><span class="mi">15</span><span class="o">/</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">1</span><span class="o">:</span><span class="mi">50</span><span class="o">:</span><span class="mi">39</span> <span class="n">PM</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">END</span><span class="o">&gt;</span>   <span class="n">Building</span> <span class="n">Haste</span> <span class="n">Map</span> <span class="p">(</span><span class="mi">124</span><span class="n">ms</span><span class="p">)</span>
</span><span class="line"><span class="p">[</span><span class="mi">11</span><span class="o">/</span><span class="mi">15</span><span class="o">/</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">1</span><span class="o">:</span><span class="mi">50</span><span class="o">:</span><span class="mi">39</span> <span class="n">PM</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">END</span><span class="o">&gt;</span>   <span class="n">Initializing</span> <span class="n">Packager</span> <span class="p">(</span><span class="mi">365</span><span class="n">ms</span><span class="p">)</span>
</span><span class="line"><span class="p">[</span><span class="mi">11</span><span class="o">/</span><span class="mi">15</span><span class="o">/</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">1</span><span class="o">:</span><span class="mi">50</span><span class="o">:</span><span class="mi">42</span> <span class="n">PM</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">START</span><span class="o">&gt;</span> <span class="n">Requesting</span> <span class="nl">bundle:</span> <span class="p">{</span><span class="s">&quot;url&quot;</span><span class="o">:</span><span class="s">&quot;/index.ios.bundle?platform=ios&quot;</span><span class="p">}</span>
</span><span class="line"><span class="p">[</span><span class="mi">11</span><span class="o">/</span><span class="mi">15</span><span class="o">/</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">1</span><span class="o">:</span><span class="mi">50</span><span class="o">:</span><span class="mi">42</span> <span class="n">PM</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">START</span><span class="o">&gt;</span> <span class="n">Transforming</span> <span class="n">modules</span>
</span><span class="line"><span class="n">transformed</span> <span class="mi">662</span><span class="o">/</span><span class="mi">662</span> <span class="p">(</span><span class="mi">100</span><span class="o">%</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<code>NSURL *jsCodeLocation = [NSURL URLWithString:@"http://10.88.1.90:8081/index.ios.bundle?platform=ios"];</code>è¿™ä¸ªIPæ˜¯å¼€å¯æœåŠ¡çš„ç”µè„‘IPã€‚<code>(JS_DIR=`pwd`/ReactComponent;cd node_modules/react-native; npm run start -- --root $JS_DIR)</code>å®šä¹‰çš„JSDirä¼šåœ¨è¿™ä¸¤ä¸ªç›®å½•ä¸‹å»æŸ¥æ‰¾jsæ–‡ä»¶
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="objc"><span class="line">   <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">Rick</span><span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Work</span><span class="o">/</span><span class="n">ChatDemo</span><span class="o">/</span><span class="n">ReactNative</span><span class="o">/</span><span class="n">BestNote</span>
</span><span class="line">   <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">Rick</span><span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Work</span><span class="o">/</span><span class="n">ChatDemo</span><span class="o">/</span><span class="n">ReactNative</span><span class="o">/</span><span class="n">BestNote</span><span class="o">/</span><span class="n">ReactComponent</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
æˆ‘ä»¬åœ¨<code>ReactComponent</code>è¿™ä¸ªç›®å½•ä¸‹æ”¾å…¥index.ios.jsæ–‡ä»¶ã€‚æ–‡ä»¶å†…å®¹å¦‚ä¸‹
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kr">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span>
</span><span class="line"><span class="kr">import</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">AppRegistry</span><span class="p">,</span>
</span><span class="line">  <span class="nx">Text</span>
</span><span class="line"><span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react-native&#39;</span><span class="p">;</span>
</span><span class="line"><span class="kr">import</span> <span class="nx">Main</span> <span class="nx">from</span> <span class="s1">&#39;./src/main.js&#39;</span>
</span><span class="line">
</span><span class="line"><span class="kr">class</span> <span class="nx">myhonor</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>
</span><span class="line">  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="p">(</span>
</span><span class="line">      <span class="o">&lt;</span><span class="nx">Main</span><span class="o">&gt;&lt;</span><span class="err">/Main&gt;</span>
</span><span class="line">    <span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line"><span class="nx">AppRegistry</span><span class="p">.</span><span class="nx">registerComponent</span><span class="p">(</span><span class="s1">&#39;honer&#39;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">myhonor</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
åœ¨è¿™é‡Œæ³¨å†Œç»„ä»¶honerï¼Œæˆ‘ä»¬åœ¨ReactViewç±»ä¸­æ‰¾åˆ°è¿™ä¸ªhoneræ¨¡å—å»ä½¿ç”¨ã€‚
æ­¤æ—¶æˆ‘ä»¬è¿è¡Œæˆ‘ä»¬çš„å·¥ç¨‹ä¼šå‘ç°è¿è¡Œokçš„
</p>
<br /><img src="http://ITMonkeyLife.github.io/Blog/images/develop/honer.png" />
<h2>
ç¦»çº¿åŒ…
</h2>
<p>
åŠ è½½éœ€è¦æ—¶é—´ï¼Œæ­¤æ—¶é¡µé¢æ˜¯ç©ºç™½ï¼Œä¸å¥½ï¼Œå»ºè®®å°†èµ„æºä»¥åŠé¡µé¢éƒ½æ‰“åŒ…æˆç¦»çº¿åŒ…ï¼Œè¿™æ ·ä¸ç”¨æ¯æ¬¡éƒ½è¿ç½‘å»è¯·æ±‚é¡µé¢ã€‚å¦‚æœæœ‰æ–°çš„é¡µé¢æ›´æ¢ï¼Œå¯ä»¥å…ˆåŠ è½½æ—§çš„é¡µé¢ï¼Œåœ¨æ¸²æŸ“æˆæ–°é¡µé¢ã€‚
</p>
<br /><img src="http://ITMonkeyLife.github.io/Blog/images/develop/package_honer.png" />
<p>
æˆ‘ä»¬åœ¨ç»ˆç«¯è¾“å…¥
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="nx">react</span><span class="o">-</span><span class="kr">native</span> <span class="nx">bundle</span> <span class="o">\</span>
</span><span class="line"><span class="o">--</span><span class="nx">platform</span> <span class="nx">ios</span> <span class="o">\</span>
</span><span class="line"><span class="o">--</span><span class="nx">entry</span><span class="o">-</span><span class="nx">file</span> <span class="nx">index</span><span class="p">.</span><span class="nx">ios2</span><span class="p">.</span><span class="nx">js</span> <span class="o">\</span>
</span><span class="line"><span class="o">--</span><span class="nx">bundle</span><span class="o">-</span><span class="nx">output</span> <span class="p">.</span><span class="o">/</span><span class="nx">main</span><span class="p">.</span><span class="nx">jsbundle</span> <span class="o">\</span>
</span><span class="line"><span class="o">--</span><span class="nx">assets</span><span class="o">-</span><span class="nx">dest</span> <span class="p">.</span><span class="o">/</span> <span class="o">\</span>
</span><span class="line"><span class="o">--</span><span class="nx">dev</span> <span class="kc">true</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="nx">RickdeMacBook</span><span class="o">-</span><span class="nx">Pro</span><span class="o">:</span><span class="nx">BestNote</span> <span class="nx">Wenba$</span> <span class="nx">react</span><span class="o">-</span><span class="kr">native</span> <span class="nx">bundle</span> <span class="o">--</span><span class="nx">platform</span> <span class="nx">ios</span> <span class="o">--</span><span class="nx">dev</span> <span class="kc">false</span> <span class="o">--</span><span class="nx">entry</span><span class="o">-</span><span class="nx">file</span> <span class="p">.</span><span class="o">/</span><span class="nx">ReactComponent</span><span class="o">/</span><span class="nx">index</span><span class="p">.</span><span class="nx">ios</span><span class="p">.</span><span class="nx">js</span> <span class="o">--</span><span class="nx">bundle</span><span class="o">-</span><span class="nx">output</span> <span class="nx">main</span><span class="p">.</span><span class="nx">jsbundle</span> <span class="o">--</span><span class="nx">assets</span><span class="o">-</span><span class="nx">dest</span> <span class="p">.</span><span class="o">/</span><span class="nx">Bundle</span>
</span><span class="line"><span class="p">(</span><span class="nx">node</span><span class="o">:</span><span class="mi">16763</span><span class="p">)</span> <span class="nx">DeprecationWarning</span><span class="o">:</span> <span class="nx">os</span><span class="p">.</span><span class="nx">tmpDir</span><span class="p">()</span> <span class="nx">is</span> <span class="nx">deprecated</span><span class="p">.</span> <span class="nx">Use</span> <span class="nx">os</span><span class="p">.</span><span class="nx">tmpdir</span><span class="p">()</span> <span class="nx">instead</span><span class="p">.</span>
</span><span class="line"><span class="p">(</span><span class="nx">node</span><span class="o">:</span><span class="mi">16763</span><span class="p">)</span> <span class="nx">DeprecationWarning</span><span class="o">:</span> <span class="nx">Using</span> <span class="nx">Buffer</span> <span class="nx">without</span> <span class="err">`</span><span class="k">new</span><span class="err">`</span> <span class="nx">will</span> <span class="nx">soon</span> <span class="nx">stop</span> <span class="nx">working</span><span class="p">.</span> <span class="nx">Use</span> <span class="err">`</span><span class="k">new</span> <span class="nx">Buffer</span><span class="p">()</span><span class="err">`</span><span class="p">,</span> <span class="nx">or</span> <span class="nx">preferably</span> <span class="err">`</span><span class="nx">Buffer</span><span class="p">.</span><span class="nx">from</span><span class="p">()</span><span class="err">`</span><span class="p">,</span> <span class="err">`</span><span class="nx">Buffer</span><span class="p">.</span><span class="nx">allocUnsafe</span><span class="p">()</span><span class="err">`</span> <span class="nx">or</span> <span class="err">`</span><span class="nx">Buffer</span><span class="p">.</span><span class="nx">alloc</span><span class="p">()</span><span class="err">`</span> <span class="nx">instead</span><span class="p">.</span>
</span><span class="line"><span class="p">[</span><span class="mi">11</span><span class="o">/</span><span class="mi">15</span><span class="o">/</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">2</span><span class="o">:</span><span class="mi">28</span><span class="o">:</span><span class="mi">17</span> <span class="nx">PM</span><span class="p">]</span> <span class="o">&lt;</span><span class="nx">START</span><span class="o">&gt;</span> <span class="nx">Initializing</span> <span class="nx">Packager</span>
</span><span class="line"><span class="p">[</span><span class="mi">11</span><span class="o">/</span><span class="mi">15</span><span class="o">/</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">2</span><span class="o">:</span><span class="mi">28</span><span class="o">:</span><span class="mi">17</span> <span class="nx">PM</span><span class="p">]</span> <span class="o">&lt;</span><span class="nx">START</span><span class="o">&gt;</span> <span class="nx">Building</span> <span class="k">in</span><span class="o">-</span><span class="nx">memory</span> <span class="nx">fs</span> <span class="k">for</span> <span class="nx">JavaScript</span>
</span><span class="line"><span class="p">[</span><span class="mi">11</span><span class="o">/</span><span class="mi">15</span><span class="o">/</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">2</span><span class="o">:</span><span class="mi">28</span><span class="o">:</span><span class="mi">17</span> <span class="nx">PM</span><span class="p">]</span> <span class="o">&lt;</span><span class="nx">END</span><span class="o">&gt;</span>   <span class="nx">Building</span> <span class="k">in</span><span class="o">-</span><span class="nx">memory</span> <span class="nx">fs</span> <span class="k">for</span> <span class="nx">JavaScript</span> <span class="p">(</span><span class="mi">165</span><span class="nx">ms</span><span class="p">)</span>
</span><span class="line"><span class="p">[</span><span class="mi">11</span><span class="o">/</span><span class="mi">15</span><span class="o">/</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">2</span><span class="o">:</span><span class="mi">28</span><span class="o">:</span><span class="mi">17</span> <span class="nx">PM</span><span class="p">]</span> <span class="o">&lt;</span><span class="nx">START</span><span class="o">&gt;</span> <span class="nx">Building</span> <span class="nx">Haste</span> <span class="nx">Map</span>
</span><span class="line"><span class="p">[</span><span class="mi">11</span><span class="o">/</span><span class="mi">15</span><span class="o">/</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">2</span><span class="o">:</span><span class="mi">28</span><span class="o">:</span><span class="mi">17</span> <span class="nx">PM</span><span class="p">]</span> <span class="o">&lt;</span><span class="nx">END</span><span class="o">&gt;</span>   <span class="nx">Building</span> <span class="nx">Haste</span> <span class="nx">Map</span> <span class="p">(</span><span class="mi">226</span><span class="nx">ms</span><span class="p">)</span>
</span><span class="line"><span class="p">[</span><span class="mi">11</span><span class="o">/</span><span class="mi">15</span><span class="o">/</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">2</span><span class="o">:</span><span class="mi">28</span><span class="o">:</span><span class="mi">17</span> <span class="nx">PM</span><span class="p">]</span> <span class="o">&lt;</span><span class="nx">END</span><span class="o">&gt;</span>   <span class="nx">Initializing</span> <span class="nx">Packager</span> <span class="p">(</span><span class="mi">463</span><span class="nx">ms</span><span class="p">)</span>
</span><span class="line"><span class="p">[</span><span class="mi">11</span><span class="o">/</span><span class="mi">15</span><span class="o">/</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">2</span><span class="o">:</span><span class="mi">28</span><span class="o">:</span><span class="mi">17</span> <span class="nx">PM</span><span class="p">]</span> <span class="o">&lt;</span><span class="nx">START</span><span class="o">&gt;</span> <span class="nx">Transforming</span> <span class="nx">modules</span>
</span><span class="line"><span class="p">[</span><span class="mi">11</span><span class="o">/</span><span class="mi">15</span><span class="o">/</span><span class="mi">2016</span><span class="p">,</span> <span class="mi">2</span><span class="o">:</span><span class="mi">28</span><span class="o">:</span><span class="mi">25</span> <span class="nx">PM</span><span class="p">]</span> <span class="o">&lt;</span><span class="nx">END</span><span class="o">&gt;</span>   <span class="nx">Transforming</span> <span class="nx">modules</span> <span class="p">(</span><span class="mi">7758</span><span class="nx">ms</span><span class="p">)</span>
</span><span class="line"><span class="nx">bundle</span><span class="o">:</span> <span class="nx">start</span>
</span><span class="line"><span class="nx">bundle</span><span class="o">:</span> <span class="nx">finish</span>
</span><span class="line"><span class="nx">bundle</span><span class="o">:</span> <span class="nx">Writing</span> <span class="nx">bundle</span> <span class="nx">output</span> <span class="nx">to</span><span class="o">:</span> <span class="nx">main</span><span class="p">.</span><span class="nx">jsbundle</span>
</span><span class="line"><span class="nx">bundle</span><span class="o">:</span> <span class="nx">Done</span> <span class="nx">writing</span> <span class="nx">bundle</span> <span class="nx">output</span>
</span><span class="line"><span class="nx">bundle</span><span class="o">:</span> <span class="nx">Copying</span> <span class="mi">15</span> <span class="nx">asset</span> <span class="nx">files</span>
</span><span class="line"><span class="nx">bundle</span><span class="o">:</span> <span class="nx">Done</span> <span class="nx">copying</span> <span class="nx">assets</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
å°†æˆ‘ä»¬çš„jsæ–‡ä»¶æ‰“åŒ…æˆbundleï¼ŒåŒäº‹å°†èµ„æºæ–‡ä»¶ä¹Ÿæ‰“åŒ…èµ·æ¥ï¼Œå¦‚æœ&#8211;assets-dest ./ è¿™ä¸ªå‚æ•°ä¸åŠ ï¼Œä¼šå¯¼è‡´æˆ‘ä»¬é¡µé¢çš„imgå›¾ç‰‡èµ„æºç¼ºå¤±ã€‚è¿™ä¸ªæœ‰ç‚¹å‘ã€‚
</p>
<p class="post-footer">
                        written by <a href="http://ITMonkeyLife.github.io/Blog">Rick</a>&nbsp;posted at <a href="http://ITMonkeyLife.github.io/Blog">http://ITMonkeyLife.github.io/Blog</a></p>
</æˆ‘å‡è®¾å·²ç»å®‰è£…äº†homebrew></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ç ´å£³å¾®ä¿¡ä¹‹æ—…]]></title>
    <link href="http://ITMonkeyLife.github.io/Blog/blog/2016/10/28/po-ke-wei-xin-zhi-lu/"/>
    <updated>2016-10-28T16:27:47+08:00</updated>
    <id>http://ITMonkeyLife.github.io/Blog/blog/2016/10/28/po-ke-wei-xin-zhi-lu</id>
    <content type="html"><![CDATA[<h2 id="section">ç ¸å£³å‰æœŸå‡†å¤‡</h2>

<p>ä¸€ä¸ªè¶Šç‹±è®¾å¤‡,ä¸€å°Macè®¾å¤‡ã€‚
1ã€openssh<br />
ä¿®æ”¹ssh -&gt; congifure prot
ä¿®æ”¹sshçš„å¯†ç </p>

<p>2ã€adv-cmds   cycript å®‰è£…åœ¨è¶Šç‹±è®¾å¤‡ä¸Š</p>

<p>3ã€ssh root@192.168.1.8 (è®¾å¤‡çš„IP)</p>

<p>4ã€ps -e | grep WeChat
<br /></p>
<p>
<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class=""><span class="line">Phone:~ root# 825 ??         0:08.66 /var/mobile/Applications/20EC6C4E-F75C-4FA5-8457-DFF4C2C4E9BC/WeChat.app/WeChat
</span><span class="line">Phone:~ root# 832 ttys000    0:00.01 grep WeChat
</span><span class="line">  Phone:~ root# cycript -p 825
</span><span class="line">  cy# [[NSFileManager defaultManager] URLsForDirectory:NSDocumentDirectory inDomains:NSUserDomainMask][0]
</span><span class="line">  cy#"file:///var/mobile/Applications/20EC6C4E-F75C-4FA5-8457-DFF4C2C4E9BC/Documents/"
</span><span class="line">  DYLD_INSERT_LIBRARIES=dumpdecrypted.dylib /var/mobile/Applications/20EC6C4E-F75C-4FA5-8457-DFF4C2C4E9BC/WeChat.app/WeChat</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>
<p>5ã€ç ¸å¼€
  class-dump â€“arch armv7 WeChat.decrypted -S -s -H -o /Users/Rick/Documents/ios/isere/WeChatHeader
<br /></p>
<p>
<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
</pre></td><td class="code"><pre><code class=""><span class="line">mach-o decryption dumper
</span><span class="line">
</span><span class="line">DISCLAIMER: This tool is only meant for security research purposes, not for application crackers.
</span><span class="line">
</span><span class="line">[+] detected 32bit ARM binary in memory.
</span><span class="line">[+] offset to cryptid found: @0x15a4c(from 0x15000) = a4c
</span><span class="line">[+] Found encrypted data at address 00004000 of length 45400064 bytes - type 1.
</span><span class="line">[+] Opening /private/var/mobile/Applications/20EC6C4E-F75C-4FA5-8457-DFF4C2C4E9BC/WeChat.app/WeChat for reading.
</span><span class="line">[+] Reading header
</span><span class="line">[+] Detecting header type
</span><span class="line">[+] Executable is a FAT image - searching for right architecture
</span><span class="line">[+] Correct arch is at offset 16384 in the file
</span><span class="line">[+] Opening WeChat.decrypted for writing.
</span><span class="line">[+] Copying the not encrypted start of the file
</span><span class="line">[+] Dumping the decrypted data into the file
</span><span class="line">[+] Copying the not encrypted remainder of the file
</span><span class="line">[+] Setting the LC_ENCRYPTION_INFO-&gt;cryptid to 0 at offset 4a4c
</span><span class="line">[+] Closing original file
</span><span class="line">[+] Closing dump file</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>
<p>çœ‹åˆ°è¿™äº›logå°±èƒ½çœ‹åˆ°ç ¸å¼€æ‰€æœ‰çš„æ–‡ä»¶ï¼Œä¸‹é¢æ˜¯æˆ‘ç ¸å¼€çš„å¾®ä¿¡å®šä¹‰å‡½æ•°æ–‡ä»¶
<br /></p>

<!--more-->
<p>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
</pre></td><td class="code"><pre><code class="objc"><span class="line"><span class="c1">//</span>
</span><span class="line"><span class="c1">//     Generated by class-dump 3.5 (64 bit).</span>
</span><span class="line"><span class="c1">//</span>
</span><span class="line"><span class="c1">//     class-dump is Copyright (C) 1997-1998, 2000-2001, 2004-2013 by Steve Nygard.</span>
</span><span class="line"><span class="c1">//</span>
</span><span class="line">
</span><span class="line"><span class="cp">#import &quot;NSObject.h&quot;</span>
</span><span class="line">
</span><span class="line"><span class="k">@class</span> <span class="nc">NSMutableDictionary</span>, <span class="nc">NSRecursiveLock</span>;
</span><span class="line">
</span><span class="line"><span class="k">@interface</span> <span class="nc">MMServiceCenter</span> : <span class="nc">NSObject</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">    <span class="n">NSMutableDictionary</span> <span class="o">*</span> <span class="n">m_dicService</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSRecursiveLock</span> <span class="o">*</span> <span class="n">m_lock</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="o">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="n">defaultCenter</span><span class="p">;</span>
</span><span class="line"><span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">).</span><span class="n">cxx_destruct</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">callClearData</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">callEnterBackground</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">callEnterForeground</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">callReloadData</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">callServiceMemoryWarning</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">callTerminate</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">dealloc</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getService:</span><span class="p">(</span><span class="n">Class</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">init</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">removeService:</span><span class="p">(</span><span class="n">Class</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="k">@end</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
<span class="line-number">46</span>
<span class="line-number">47</span>
<span class="line-number">48</span>
<span class="line-number">49</span>
<span class="line-number">50</span>
<span class="line-number">51</span>
<span class="line-number">52</span>
<span class="line-number">53</span>
<span class="line-number">54</span>
<span class="line-number">55</span>
<span class="line-number">56</span>
<span class="line-number">57</span>
<span class="line-number">58</span>
<span class="line-number">59</span>
<span class="line-number">60</span>
<span class="line-number">61</span>
<span class="line-number">62</span>
<span class="line-number">63</span>
<span class="line-number">64</span>
<span class="line-number">65</span>
<span class="line-number">66</span>
<span class="line-number">67</span>
<span class="line-number">68</span>
<span class="line-number">69</span>
<span class="line-number">70</span>
<span class="line-number">71</span>
<span class="line-number">72</span>
<span class="line-number">73</span>
<span class="line-number">74</span>
<span class="line-number">75</span>
<span class="line-number">76</span>
<span class="line-number">77</span>
<span class="line-number">78</span>
<span class="line-number">79</span>
<span class="line-number">80</span>
<span class="line-number">81</span>
<span class="line-number">82</span>
<span class="line-number">83</span>
<span class="line-number">84</span>
<span class="line-number">85</span>
<span class="line-number">86</span>
<span class="line-number">87</span>
<span class="line-number">88</span>
<span class="line-number">89</span>
<span class="line-number">90</span>
<span class="line-number">91</span>
<span class="line-number">92</span>
<span class="line-number">93</span>
<span class="line-number">94</span>
<span class="line-number">95</span>
<span class="line-number">96</span>
<span class="line-number">97</span>
<span class="line-number">98</span>
<span class="line-number">99</span>
<span class="line-number">100</span>
<span class="line-number">101</span>
<span class="line-number">102</span>
<span class="line-number">103</span>
<span class="line-number">104</span>
<span class="line-number">105</span>
<span class="line-number">106</span>
<span class="line-number">107</span>
<span class="line-number">108</span>
<span class="line-number">109</span>
<span class="line-number">110</span>
<span class="line-number">111</span>
<span class="line-number">112</span>
<span class="line-number">113</span>
<span class="line-number">114</span>
<span class="line-number">115</span>
<span class="line-number">116</span>
<span class="line-number">117</span>
<span class="line-number">118</span>
<span class="line-number">119</span>
<span class="line-number">120</span>
<span class="line-number">121</span>
<span class="line-number">122</span>
<span class="line-number">123</span>
<span class="line-number">124</span>
<span class="line-number">125</span>
<span class="line-number">126</span>
<span class="line-number">127</span>
<span class="line-number">128</span>
<span class="line-number">129</span>
<span class="line-number">130</span>
<span class="line-number">131</span>
<span class="line-number">132</span>
<span class="line-number">133</span>
<span class="line-number">134</span>
<span class="line-number">135</span>
<span class="line-number">136</span>
<span class="line-number">137</span>
<span class="line-number">138</span>
<span class="line-number">139</span>
<span class="line-number">140</span>
<span class="line-number">141</span>
<span class="line-number">142</span>
<span class="line-number">143</span>
<span class="line-number">144</span>
<span class="line-number">145</span>
<span class="line-number">146</span>
<span class="line-number">147</span>
<span class="line-number">148</span>
<span class="line-number">149</span>
<span class="line-number">150</span>
<span class="line-number">151</span>
<span class="line-number">152</span>
<span class="line-number">153</span>
<span class="line-number">154</span>
<span class="line-number">155</span>
<span class="line-number">156</span>
<span class="line-number">157</span>
<span class="line-number">158</span>
<span class="line-number">159</span>
<span class="line-number">160</span>
<span class="line-number">161</span>
<span class="line-number">162</span>
<span class="line-number">163</span>
<span class="line-number">164</span>
<span class="line-number">165</span>
<span class="line-number">166</span>
<span class="line-number">167</span>
<span class="line-number">168</span>
<span class="line-number">169</span>
<span class="line-number">170</span>
<span class="line-number">171</span>
<span class="line-number">172</span>
<span class="line-number">173</span>
<span class="line-number">174</span>
<span class="line-number">175</span>
<span class="line-number">176</span>
<span class="line-number">177</span>
<span class="line-number">178</span>
<span class="line-number">179</span>
<span class="line-number">180</span>
<span class="line-number">181</span>
<span class="line-number">182</span>
<span class="line-number">183</span>
<span class="line-number">184</span>
<span class="line-number">185</span>
<span class="line-number">186</span>
<span class="line-number">187</span>
<span class="line-number">188</span>
<span class="line-number">189</span>
<span class="line-number">190</span>
<span class="line-number">191</span>
<span class="line-number">192</span>
<span class="line-number">193</span>
<span class="line-number">194</span>
<span class="line-number">195</span>
<span class="line-number">196</span>
<span class="line-number">197</span>
<span class="line-number">198</span>
<span class="line-number">199</span>
<span class="line-number">200</span>
<span class="line-number">201</span>
<span class="line-number">202</span>
<span class="line-number">203</span>
<span class="line-number">204</span>
<span class="line-number">205</span>
<span class="line-number">206</span>
<span class="line-number">207</span>
<span class="line-number">208</span>
<span class="line-number">209</span>
<span class="line-number">210</span>
<span class="line-number">211</span>
<span class="line-number">212</span>
<span class="line-number">213</span>
<span class="line-number">214</span>
<span class="line-number">215</span>
<span class="line-number">216</span>
<span class="line-number">217</span>
<span class="line-number">218</span>
<span class="line-number">219</span>
<span class="line-number">220</span>
<span class="line-number">221</span>
<span class="line-number">222</span>
<span class="line-number">223</span>
<span class="line-number">224</span>
<span class="line-number">225</span>
<span class="line-number">226</span>
<span class="line-number">227</span>
<span class="line-number">228</span>
<span class="line-number">229</span>
<span class="line-number">230</span>
<span class="line-number">231</span>
<span class="line-number">232</span>
<span class="line-number">233</span>
<span class="line-number">234</span>
<span class="line-number">235</span>
<span class="line-number">236</span>
<span class="line-number">237</span>
<span class="line-number">238</span>
<span class="line-number">239</span>
<span class="line-number">240</span>
<span class="line-number">241</span>
<span class="line-number">242</span>
<span class="line-number">243</span>
<span class="line-number">244</span>
<span class="line-number">245</span>
<span class="line-number">246</span>
<span class="line-number">247</span>
<span class="line-number">248</span>
<span class="line-number">249</span>
<span class="line-number">250</span>
<span class="line-number">251</span>
<span class="line-number">252</span>
<span class="line-number">253</span>
<span class="line-number">254</span>
<span class="line-number">255</span>
<span class="line-number">256</span>
</pre></td><td class="code"><pre><code class="objc"><span class="line"><span class="c1">//</span>
</span><span class="line"><span class="c1">//     Generated by class-dump 3.5 (64 bit).</span>
</span><span class="line"><span class="c1">//</span>
</span><span class="line"><span class="c1">//     class-dump is Copyright (C) 1997-1998, 2000-2001, 2004-2013 by Steve Nygard.</span>
</span><span class="line"><span class="c1">//</span>
</span><span class="line">
</span><span class="line"><span class="cp">#import &quot;CBaseContact.h&quot;</span>
</span><span class="line">
</span><span class="line"><span class="cp">#import &quot;NSCoding.h&quot;</span>
</span><span class="line"><span class="cp">#import &quot;PBCoding.h&quot;</span>
</span><span class="line">
</span><span class="line"><span class="k">@class</span> <span class="nc">ChatRoomData</span>, <span class="nc">ChatRoomDetail</span>, <span class="nc">NSArray</span>, <span class="nc">NSDictionary</span>, <span class="nc">NSString</span>, <span class="nc">SubscriptBrandInfo</span>;
</span><span class="line">
</span><span class="line"><span class="k">@interface</span> <span class="nc">CContact</span> : <span class="nc">CBaseContact</span> <span class="o">&lt;</span><span class="n">PBCoding</span><span class="p">,</span> <span class="n">NSCoding</span><span class="o">&gt;</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiChatRoomStatus</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsChatRoomMemList</span><span class="p">;</span>
</span><span class="line">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiChatRoomAccessType</span><span class="p">;</span>
</span><span class="line">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiChatRoomMaxCount</span><span class="p">;</span>
</span><span class="line">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiChatRoomVersion</span><span class="p">;</span>
</span><span class="line">    <span class="n">ChatRoomDetail</span> <span class="o">*</span><span class="n">m_ChatRoomDetail</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsChatRoomData</span><span class="p">;</span>
</span><span class="line">    <span class="n">ChatRoomData</span> <span class="o">*</span><span class="n">m_ChatRoomData</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsCountry</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsProvince</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsCity</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsSignature</span><span class="p">;</span>
</span><span class="line">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiCertificationFlag</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsCertificationInfo</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsOwner</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsFBNickName</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsFBID</span><span class="p">;</span>
</span><span class="line">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiNeedUpdate</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsWCBGImgObjectID</span><span class="p">;</span>
</span><span class="line">    <span class="kt">int</span> <span class="n">m_iWCFlag</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_pcWCBGImgID</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsExternalInfo</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsBrandSubscriptConfigUrl</span><span class="p">;</span>
</span><span class="line">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiBrandSubscriptionSettings</span><span class="p">;</span>
</span><span class="line">    <span class="n">SubscriptBrandInfo</span> <span class="o">*</span><span class="n">m_subBrandInfo</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsBrandIconUrl</span><span class="p">;</span>
</span><span class="line">    <span class="kt">BOOL</span> <span class="n">m_isExtInfoValid</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSDictionary</span> <span class="o">*</span><span class="n">externalInfoJSONCache</span><span class="p">;</span>
</span><span class="line">    <span class="kt">BOOL</span> <span class="n">m_isShowRedDot</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsMobileHash</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsMobileFullHash</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsLinkedInID</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsLinkedInName</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsLinkedInPublicUrl</span><span class="p">;</span>
</span><span class="line">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiDeleteFlag</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsDescription</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsCardUrl</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsWorkID</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsLabelIDList</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSArray</span> <span class="o">*</span><span class="n">m_arrPhoneItem</span><span class="p">;</span>
</span><span class="line">    <span class="kt">BOOL</span> <span class="n">_m_bFromNewDB</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsWeiDianInfo</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSDictionary</span> <span class="o">*</span><span class="n">_m_dicWeiDianInfo</span><span class="p">;</span>
</span><span class="line">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">_m_uiLastUpdate</span><span class="p">;</span>
</span><span class="line">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">_m_uiMetaFlag</span><span class="p">;</span>
</span><span class="line">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">_m_uiDebugModeType</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">_m_nsAppId</span><span class="p">;</span>
</span><span class="line">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">_m_uiWxAppOpt</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="o">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">HandleChatMemUsrImg:</span><span class="p">(</span><span class="k">struct</span> <span class="n">tagMMModChatRoomMember</span> <span class="o">*</span><span class="p">)</span><span class="n">arg1</span> <span class="nl">Contatct:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="n">arg2</span> <span class="nl">DocPath:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="n">arg3</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">HandleUsrImg:</span><span class="p">(</span><span class="k">struct</span> <span class="n">tagMMModContact</span> <span class="o">*</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">Contatct:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">DocPath:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg3</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">HandleUsrImgPB:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">Contatct:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">DocPath:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg3</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">SubscriptedBrandsFromString:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">genChatRoomName:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">genChatRoomName:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">appendTail:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getChatRoomMember:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">)</span><span class="nf">getChatRoomMemberCount:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getChatRoomMemberUserName:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getChatRoomMemberWithoutMyself:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getMicroBlogUsrDisplayName:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">initialize</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isHeadImgUpdated:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">Local:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isWeAppUserName:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">parseContactKey:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">).</span><span class="n">cxx_destruct</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">IsAddFromLbs</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">IsAddFromShake</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">IsUserInChatRoom:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">bizMenuInfoFromContact</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">brandPrivileges</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">brandUrls</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">canSupportMessageNotify</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nf">compareForFavourGroup:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">containKFWorkerInfo</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">copyFieldFromContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">copyPatialFieldFromContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">readonly</span><span class="p">,</span> <span class="n">copy</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">description</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">encodeWithCoder:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">externalInfoJSONCache</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">genContactFromShareCardMsgWrap:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">genContactFromShareCardMsgWrapContent:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getAppBrandInfo</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getAppBrandSologanImageURL</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getAppID</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nf">getAudioPlayType</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getBrandBusinessScope</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nf">getBrandContactType</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getBrandEvaluateCount</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getBrandMerchantRatings</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getBrandMerchantSecurity</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getBrandMerchantSecurityUrl</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getBrandRegisterSourceBody</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getBrandRegisterSourceIntroUrl</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getBrandTrademarkName</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getBrandTrademarkUrl</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getBrandVerifySourceDescription</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getBrandVerifySourceIntroUrl</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getBrandVerifySourceName</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nf">getBrandVerifySourceType</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getBrandVerifySubTitle</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getChatRoomMemberDisplayName:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getChatRoomMemberNickName:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getChatRoomMembrGroupNickName:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getChatRoomMembrGroupNickNameForSearch:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nf">getConferenceContactExpireTime</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getConferenceVerifyButtonTitle</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getConferenceVerifyPromptTitle</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nf">getConnectorMsgType</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getCustomizeMenu</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getEnterpriseBrandFrozenWording</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getEnterpriseMainBrandUserName</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getEnterpriseSubBrandChatExtUrl</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nf">getEnterpriseSubBrandChildType</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getEnterpriseSubBrandUrl</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getExternalInfoDictionary</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nf">getFunctionFlag</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nf">getInteractiveMode</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">getIsTrademarkProtection</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getLabelIDList</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getMainPageUrl</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getMobileDisplayName</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getMobileList</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getMobileNumString</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getNearFieldDesc</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getNewChatroomData</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getNormalContactDisplayDesc</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nf">getReportLocationType</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nf">getScanQRCodeType</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getSpecifyWorkerOpenID</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getSupportEmoticonLinkPrefix</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="k">const</span> <span class="n">map_18e36f99</span> <span class="o">*</span><span class="p">)</span><span class="nf">getValueTagIndexMap</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getValueTypeTable</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getVerisonMD5</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getWeAppInfo</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">hasAppBrandInfo</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">hasMatchHashPhone</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">hasWeAppInfo</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">hasWeAppVersionInfo</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">init</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">initWithCoder:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">initWithModContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">initWithShareCardMsgWrap:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">initWithShareCardMsgWrapContent:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isAccountDeleted</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isAdmin</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isBrandContact</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isChatStatusNotifyOpen</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isChatroomNeedAccessVerify</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isContactCanReceiveSpeexVoice</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isContactFrozen</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isContactSessionTop</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isContactTypeShouldDelete</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isEnterpriseBrand</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isEnterpriseChatSubBrand</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isEnterpriseDisableBrand</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isEnterpriseMainBrand</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isEnterpriseSubBrand</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isEnterpriseWebSubBrand</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isHardDeviceBrand</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isHardDeviceHideSubtitle</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isHardDeviceTestBrand</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isHasMobile</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isHasWeiDian</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isHolderContact</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isIgnoreBrandContat</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isInternalMyDeviceBrand</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isInternalSportBrand</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isLocalizedContact</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isMyContact</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isOpenMainPage</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isShowChatRoomDisplayName</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isShowHeadImgInMsg</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isShowLinkedIn</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isShowToolBarInMsg</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isSupportPublicWifi</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isVerified</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isVerifiedBrandContact</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isWeAppContact</span><span class="p">;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">ChatRoomData</span> <span class="o">*</span><span class="n">m_ChatRoomData</span><span class="p">;</span> <span class="c1">// @synthesize m_ChatRoomData;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">ChatRoomDetail</span> <span class="o">*</span><span class="n">m_ChatRoomDetail</span><span class="p">;</span> <span class="c1">// @synthesize m_ChatRoomDetail;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSArray</span> <span class="o">*</span><span class="n">m_arrPhoneItem</span><span class="p">;</span> <span class="c1">// @synthesize m_arrPhoneItem;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">BOOL</span> <span class="n">m_bFromNewDB</span><span class="p">;</span> <span class="c1">// @synthesize m_bFromNewDB=_m_bFromNewDB;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">readonly</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSDictionary</span> <span class="o">*</span><span class="n">m_dicWeiDianInfo</span><span class="p">;</span> <span class="c1">// @synthesize m_dicWeiDianInfo=_m_dicWeiDianInfo;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">int</span> <span class="n">m_iWCFlag</span><span class="p">;</span> <span class="c1">// @synthesize m_iWCFlag;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">BOOL</span> <span class="n">m_isExtInfoValid</span><span class="p">;</span> <span class="c1">// @synthesize m_isExtInfoValid;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">BOOL</span> <span class="n">m_isShowRedDot</span><span class="p">;</span> <span class="c1">// @synthesize m_isShowRedDot;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">copy</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsAppId</span><span class="p">;</span> <span class="c1">// @synthesize m_nsAppId=_m_nsAppId;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsBrandIconUrl</span><span class="p">;</span> <span class="c1">// @synthesize m_nsBrandIconUrl;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsBrandSubscriptConfigUrl</span><span class="p">;</span> <span class="c1">// @synthesize m_nsBrandSubscriptConfigUrl;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsCardUrl</span><span class="p">;</span> <span class="c1">// @synthesize m_nsCardUrl;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsCertificationInfo</span><span class="p">;</span> <span class="c1">// @synthesize m_nsCertificationInfo;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsChatRoomData</span><span class="p">;</span> <span class="c1">// @synthesize m_nsChatRoomData;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsChatRoomMemList</span><span class="p">;</span> <span class="c1">// @synthesize m_nsChatRoomMemList;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsCity</span><span class="p">;</span> <span class="c1">// @synthesize m_nsCity;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsCountry</span><span class="p">;</span> <span class="c1">// @synthesize m_nsCountry;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsDescription</span><span class="p">;</span> <span class="c1">// @synthesize m_nsDescription;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsExternalInfo</span><span class="p">;</span> <span class="c1">// @synthesize m_nsExternalInfo;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsFBID</span><span class="p">;</span> <span class="c1">// @synthesize m_nsFBID;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsFBNickName</span><span class="p">;</span> <span class="c1">// @synthesize m_nsFBNickName;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsLabelIDList</span><span class="p">;</span> <span class="c1">// @synthesize m_nsLabelIDList;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsLinkedInID</span><span class="p">;</span> <span class="c1">// @synthesize m_nsLinkedInID;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsLinkedInName</span><span class="p">;</span> <span class="c1">// @synthesize m_nsLinkedInName;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsLinkedInPublicUrl</span><span class="p">;</span> <span class="c1">// @synthesize m_nsLinkedInPublicUrl;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsMobileFullHash</span><span class="p">;</span> <span class="c1">// @synthesize m_nsMobileFullHash;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsMobileHash</span><span class="p">;</span> <span class="c1">// @synthesize m_nsMobileHash;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsOwner</span><span class="p">;</span> <span class="c1">// @synthesize m_nsOwner;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsProvince</span><span class="p">;</span> <span class="c1">// @synthesize m_nsProvince;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsSignature</span><span class="p">;</span> <span class="c1">// @synthesize m_nsSignature;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsWCBGImgObjectID</span><span class="p">;</span> <span class="c1">// @synthesize m_nsWCBGImgObjectID;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsWeiDianInfo</span><span class="p">;</span> <span class="c1">// @synthesize m_nsWeiDianInfo;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsWorkID</span><span class="p">;</span> <span class="c1">// @synthesize m_nsWorkID;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_pcWCBGImgID</span><span class="p">;</span> <span class="c1">// @synthesize m_pcWCBGImgID;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">SubscriptBrandInfo</span> <span class="o">*</span><span class="n">m_subBrandInfo</span><span class="p">;</span> <span class="c1">// @synthesize m_subBrandInfo;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiBrandSubscriptionSettings</span><span class="p">;</span> <span class="c1">// @synthesize m_uiBrandSubscriptionSettings;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiCertificationFlag</span><span class="p">;</span> <span class="c1">// @synthesize m_uiCertificationFlag;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiChatRoomAccessType</span><span class="p">;</span> <span class="c1">// @synthesize m_uiChatRoomAccessType;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiChatRoomMaxCount</span><span class="p">;</span> <span class="c1">// @synthesize m_uiChatRoomMaxCount;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiChatRoomStatus</span><span class="p">;</span> <span class="c1">// @synthesize m_uiChatRoomStatus;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiChatRoomVersion</span><span class="p">;</span> <span class="c1">// @synthesize m_uiChatRoomVersion;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiDebugModeType</span><span class="p">;</span> <span class="c1">// @synthesize m_uiDebugModeType=_m_uiDebugModeType;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiDeleteFlag</span><span class="p">;</span> <span class="c1">// @synthesize m_uiDeleteFlag;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiLastUpdate</span><span class="p">;</span> <span class="c1">// @synthesize m_uiLastUpdate=_m_uiLastUpdate;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiMetaFlag</span><span class="p">;</span> <span class="c1">// @synthesize m_uiMetaFlag=_m_uiMetaFlag;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiNeedUpdate</span><span class="p">;</span> <span class="c1">// @synthesize m_uiNeedUpdate;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiWxAppOpt</span><span class="p">;</span> <span class="c1">// @synthesize m_uiWxAppOpt=_m_uiWxAppOpt;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">needShowUnreadCountOnSession</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">setChatRoomDataWithoutEmojiChange:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">setChatStatusNotifyOpen:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">setExternalInfoJSONCache:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">setSignatureWithoutEmojiChange:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">tryLoadExtInfo</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">updateWithBizAttrChanged:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">xmlForMessageWrapContent</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="c1">// Remaining properties</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">readonly</span><span class="p">,</span> <span class="n">copy</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">debugDescription</span><span class="p">;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">readonly</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">hash</span><span class="p">;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">readonly</span><span class="p">)</span> <span class="n">Class</span> <span class="n">superclass</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="k">@end</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
<span class="line-number">46</span>
<span class="line-number">47</span>
<span class="line-number">48</span>
<span class="line-number">49</span>
<span class="line-number">50</span>
<span class="line-number">51</span>
<span class="line-number">52</span>
<span class="line-number">53</span>
<span class="line-number">54</span>
<span class="line-number">55</span>
<span class="line-number">56</span>
<span class="line-number">57</span>
<span class="line-number">58</span>
<span class="line-number">59</span>
<span class="line-number">60</span>
<span class="line-number">61</span>
<span class="line-number">62</span>
<span class="line-number">63</span>
<span class="line-number">64</span>
<span class="line-number">65</span>
<span class="line-number">66</span>
<span class="line-number">67</span>
<span class="line-number">68</span>
<span class="line-number">69</span>
<span class="line-number">70</span>
<span class="line-number">71</span>
<span class="line-number">72</span>
<span class="line-number">73</span>
<span class="line-number">74</span>
<span class="line-number">75</span>
<span class="line-number">76</span>
<span class="line-number">77</span>
<span class="line-number">78</span>
<span class="line-number">79</span>
<span class="line-number">80</span>
<span class="line-number">81</span>
<span class="line-number">82</span>
<span class="line-number">83</span>
<span class="line-number">84</span>
<span class="line-number">85</span>
<span class="line-number">86</span>
<span class="line-number">87</span>
<span class="line-number">88</span>
<span class="line-number">89</span>
<span class="line-number">90</span>
<span class="line-number">91</span>
<span class="line-number">92</span>
<span class="line-number">93</span>
<span class="line-number">94</span>
<span class="line-number">95</span>
<span class="line-number">96</span>
<span class="line-number">97</span>
<span class="line-number">98</span>
<span class="line-number">99</span>
<span class="line-number">100</span>
<span class="line-number">101</span>
<span class="line-number">102</span>
<span class="line-number">103</span>
<span class="line-number">104</span>
<span class="line-number">105</span>
<span class="line-number">106</span>
<span class="line-number">107</span>
<span class="line-number">108</span>
<span class="line-number">109</span>
<span class="line-number">110</span>
<span class="line-number">111</span>
<span class="line-number">112</span>
<span class="line-number">113</span>
<span class="line-number">114</span>
<span class="line-number">115</span>
<span class="line-number">116</span>
<span class="line-number">117</span>
<span class="line-number">118</span>
<span class="line-number">119</span>
<span class="line-number">120</span>
<span class="line-number">121</span>
<span class="line-number">122</span>
<span class="line-number">123</span>
<span class="line-number">124</span>
<span class="line-number">125</span>
<span class="line-number">126</span>
<span class="line-number">127</span>
<span class="line-number">128</span>
<span class="line-number">129</span>
<span class="line-number">130</span>
<span class="line-number">131</span>
<span class="line-number">132</span>
<span class="line-number">133</span>
<span class="line-number">134</span>
<span class="line-number">135</span>
<span class="line-number">136</span>
<span class="line-number">137</span>
<span class="line-number">138</span>
<span class="line-number">139</span>
<span class="line-number">140</span>
<span class="line-number">141</span>
<span class="line-number">142</span>
<span class="line-number">143</span>
<span class="line-number">144</span>
<span class="line-number">145</span>
<span class="line-number">146</span>
<span class="line-number">147</span>
<span class="line-number">148</span>
<span class="line-number">149</span>
<span class="line-number">150</span>
<span class="line-number">151</span>
<span class="line-number">152</span>
<span class="line-number">153</span>
<span class="line-number">154</span>
<span class="line-number">155</span>
<span class="line-number">156</span>
<span class="line-number">157</span>
<span class="line-number">158</span>
<span class="line-number">159</span>
<span class="line-number">160</span>
<span class="line-number">161</span>
<span class="line-number">162</span>
<span class="line-number">163</span>
<span class="line-number">164</span>
<span class="line-number">165</span>
<span class="line-number">166</span>
<span class="line-number">167</span>
<span class="line-number">168</span>
<span class="line-number">169</span>
<span class="line-number">170</span>
<span class="line-number">171</span>
<span class="line-number">172</span>
<span class="line-number">173</span>
<span class="line-number">174</span>
<span class="line-number">175</span>
<span class="line-number">176</span>
<span class="line-number">177</span>
<span class="line-number">178</span>
<span class="line-number">179</span>
<span class="line-number">180</span>
<span class="line-number">181</span>
<span class="line-number">182</span>
<span class="line-number">183</span>
<span class="line-number">184</span>
<span class="line-number">185</span>
<span class="line-number">186</span>
<span class="line-number">187</span>
<span class="line-number">188</span>
<span class="line-number">189</span>
<span class="line-number">190</span>
<span class="line-number">191</span>
<span class="line-number">192</span>
<span class="line-number">193</span>
<span class="line-number">194</span>
<span class="line-number">195</span>
<span class="line-number">196</span>
<span class="line-number">197</span>
<span class="line-number">198</span>
<span class="line-number">199</span>
<span class="line-number">200</span>
<span class="line-number">201</span>
<span class="line-number">202</span>
<span class="line-number">203</span>
<span class="line-number">204</span>
<span class="line-number">205</span>
<span class="line-number">206</span>
<span class="line-number">207</span>
<span class="line-number">208</span>
<span class="line-number">209</span>
<span class="line-number">210</span>
</pre></td><td class="code"><pre><code class="objc"><span class="line"><span class="c1">//</span>
</span><span class="line"><span class="c1">//     Generated by class-dump 3.5 (64 bit).</span>
</span><span class="line"><span class="c1">//</span>
</span><span class="line"><span class="c1">//     class-dump is Copyright (C) 1997-1998, 2000-2001, 2004-2013 by Steve Nygard.</span>
</span><span class="line"><span class="c1">//</span>
</span><span class="line">
</span><span class="line"><span class="cp">#import &quot;MMService.h&quot;</span>
</span><span class="line">
</span><span class="line"><span class="cp">#import &quot;IAcctStorageMgrExt.h&quot;</span>
</span><span class="line"><span class="cp">#import &quot;IBrandAttrMgrExt.h&quot;</span>
</span><span class="line"><span class="cp">#import &quot;IContactProfileMgrExt.h&quot;</span>
</span><span class="line"><span class="cp">#import &quot;IMMLanguageMgrExt.h&quot;</span>
</span><span class="line"><span class="cp">#import &quot;MMService.h&quot;</span>
</span><span class="line"><span class="cp">#import &quot;MessageObserverDelegate.h&quot;</span>
</span><span class="line"><span class="cp">#import &quot;PBMessageObserverDelegate.h&quot;</span>
</span><span class="line">
</span><span class="line"><span class="k">@class</span> <span class="nc">CContactDB</span>, <span class="nc">CContactOPLog</span>, <span class="nc">NSMutableDictionary</span>, <span class="nc">NSRecursiveLock</span>, <span class="nc">NSString</span>, <span class="nc">NewContactDB</span>;
</span><span class="line">
</span><span class="line"><span class="k">@interface</span> <span class="nc">CContactMgr</span> : <span class="nc">MMService</span> <span class="o">&lt;</span><span class="n">MMService</span><span class="p">,</span> <span class="n">MessageObserverDelegate</span><span class="p">,</span> <span class="n">IContactProfileMgrExt</span><span class="p">,</span> <span class="n">PBMessageObserverDelegate</span><span class="p">,</span> <span class="n">IAcctStorageMgrExt</span><span class="p">,</span> <span class="n">IMMLanguageMgrExt</span><span class="p">,</span> <span class="n">IBrandAttrMgrExt</span><span class="o">&gt;</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">    <span class="n">NSRecursiveLock</span> <span class="o">*</span><span class="n">m_oLock</span><span class="p">;</span>
</span><span class="line">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiLoadedType</span><span class="p">;</span>
</span><span class="line">    <span class="n">CContactDB</span> <span class="o">*</span><span class="n">m_oContactDB</span><span class="p">;</span>
</span><span class="line">    <span class="n">NewContactDB</span> <span class="o">*</span><span class="n">m_oNewContactDB</span><span class="p">;</span>
</span><span class="line">    <span class="n">CContactOPLog</span> <span class="o">*</span><span class="n">m_oContactOPLog</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSRecursiveLock</span> <span class="o">*</span><span class="n">m_oMainControllerLock</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSMutableDictionary</span> <span class="o">*</span><span class="n">m_dicRemark</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSMutableDictionary</span> <span class="o">*</span><span class="n">m_dicLastAccessTime</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSMutableDictionary</span> <span class="o">*</span><span class="n">m_dicContacts</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSMutableDictionary</span> <span class="o">*</span><span class="n">m_dicEncodeContacts</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSMutableDictionary</span> <span class="o">*</span><span class="n">m_mapLastGetTime</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSMutableDictionary</span> <span class="o">*</span><span class="n">m_dicHardCodeUsers</span><span class="p">;</span>
</span><span class="line">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiDBVersion</span><span class="p">;</span>
</span><span class="line">    <span class="kt">BOOL</span> <span class="n">m_shouldContactDBMigration</span><span class="p">;</span>
</span><span class="line">    <span class="kt">BOOL</span> <span class="n">m_bContactDBMigrationFinished</span><span class="p">;</span>
</span><span class="line">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiMaxStrangerCache</span><span class="p">;</span>
</span><span class="line">    <span class="kt">BOOL</span> <span class="n">m_bOpenStrangerCache</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">).</span><span class="n">cxx_destruct</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">ChangeNotifyStatus:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">withStatus:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">sync:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg3</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">ChangeNotifyStatusForChatRoom:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">withStatus:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">sync:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg3</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">HandleMemContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">MainThread_ReloadMemContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">MessageReturn:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">Event:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">MessageReturn:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">MessageInfo:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">Event:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg3</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">ModifyNotifyStatus:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">withStatus:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">RemoveContactFromChatList:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">SetFriendMetaFlag:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">ForUser:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">SetLastUpdateTime:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">ForUser:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">addAddHardcodeContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">selector:</span><span class="p">(</span><span class="kt">SEL</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">addContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">listType:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">addContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">listType:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">opLog:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg3</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">addContactInternal:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">addContactToDb:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">addDictoryDataToCache:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">listType:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">addFromMobileContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">addFromQQContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">addHardCodeContacts</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">addLocalContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">listType:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">addOrUpdateContactToDB:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">listType:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">add:</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="p">)</span><span class="nv">arg3</span> <span class="nf">modify:</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="p">)</span><span class="nv">arg4</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">addSelfContactToCache</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">addToGetContactMap:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nf">autoreloadContacts:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nf">autoreloadContacts:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">needLoadExt:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">callModifyContactForCPState:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">callOnDeleteExt:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">callOnModifyContactHeadImageExt:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">callOnModifyExt:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">callOnRemoveContactFromAddressBook:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">checkIfForbiddenGetContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">clearDraftForContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">dealloc</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">delayLoadAllContactInBackGround</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">deleteContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">listType:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">deleteContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">listType:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">andScene:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg3</span> <span class="nf">sync:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg4</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">deleteContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">listType:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">sync:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg3</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">fixContactPluginOldData</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">generateOfficialContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">generatePluginContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">generatePluginContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">uiType:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">generatePluginContactNoListContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getAllBrandContacts</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">getAllContactList:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">listType:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">getAllContactNoExtInfoList:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">listType:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getAllContactUserName</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getAllEnterpriseMainBrandContacts</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">getAllRemarkList:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">listType:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">getAllUserName:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getContactByName:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getContactByNameFromCache:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getContactByNameFromDB:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getContactForSearchByName:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getContactFromDB:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getContactFromDic:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getContactList:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">contactType:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getContactList:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">contactType:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">needLoadExt:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg3</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">getContactsFromServer:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">getContactsFromServer:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">chatContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">getContactsFromServer:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">chatContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">withScene:</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nv">arg3</span> <span class="nf">withTicket:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg4</span> <span class="nf">usrData:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg5</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">getContactsFromSvrForTempChat:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getGroupCardMemberList:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">getInviteeContactsFromServer:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">withTicket:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getSelfContact</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">handleLocalField:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">oldContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">handleOfficalContactName:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">init</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">initDB:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">lock:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">initListen</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nf">interalReloadContacts:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">needLoadExt:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">internalDeleteContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">internalGetContactsFromSvr:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">chatContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">usrData:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg3</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">internalModifyContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">internalNewContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">internalUpdateContactLocalDataWithUserName:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isBelongToMMContactInCache:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isCacheAllLoaded</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isContactBlack:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isContactExistLocal:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isContactMatch:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">listType:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">contactType:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg3</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isHardCodeContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isHeadImgUpdated:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">Local:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isInContactList:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isOpenStrangerCache</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isUserNewDB</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">loadContactExtInfo:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">main_onPushAddContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">main_onPushBatchModContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">main_onPushDeleteContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">main_onPushModifyContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">mergeChatRoomData:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">oldContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">migrationContacts:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">first:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">modifyContactNickName:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">nickName:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">callMod:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg3</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">onBrandContactModified:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">withAttrChanged:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">onGetContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">onLanguageChange</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">onPushDeleteContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">onPushModifyContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">updateImage:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">onServiceClearData</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">onServiceMemoryWarning</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">onServiceReloadData</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">onSettingChange</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">refreshContactLocalData</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">refreshPluginNickName:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">reloadContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">reloadContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">mergeImage:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">reloadContactImageStatus:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">Status:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">Image:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg3</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">removeContactFromDB:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">removeContactFromDic:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">removeListen</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">reportIDKey:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">stranger:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">reportMigrationStat:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">status:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setBlack:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setBlack:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">blackFlag:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">sync:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg3</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setBlack:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">sync:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">RoomDetail:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">cardDesc:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">cardUrl:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">chatRoomAccessType:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">chatRoomData:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">chatState:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">favour:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">sync:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg3</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">googleContactName:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">googleContactNickName:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">hideHashPhone:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">sync:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg3</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">mobileIdentify:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">nickName:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">notifyOpen:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">sync:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg3</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">owner:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">remark:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">remark:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">hideHashPhone:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg3</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">sessionTop:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">sync:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg3</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">snsBlack:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">textTranslateOpen:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">sync:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg3</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">typeBit:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">set:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg3</span> <span class="nf">sync:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg4</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">typeBit:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">set:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg3</span> <span class="nf">sync:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg4</span> <span class="nf">localSet:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg5</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">watchContact:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">sync:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg3</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">setContactToDic:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">forKey:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setHDHeadUpdated:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setLocalContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">notifyOpen:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setLocalContactToUntopSession:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">setMigrationFinished</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setNoBlack:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setNoBlack:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">sync:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">setPhone:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">Contact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">setSelfContactUpdated</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">shouldUpdateContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">splist_migrationContactList:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">syncAllSXContact</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">thread_BatchModifyContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">thread_HandleMemContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">thread_ReloadMemConact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">ChatRoom:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">thread_onBatchModifyChatRoomMember:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">thread_onPushModifyContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">isInit:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">thread_onpushBatchModContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">thread_saveContactImageStatus:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">Status:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">Image:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg3</span> <span class="nf">Url:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg4</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">tryLoadExtInfoForContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">updateCache:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">updateContactLocalData</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">updateContactToCache:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">updateContactToDb:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">updateNewDB:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">NewUser:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="c1">// Remaining properties</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">readonly</span><span class="p">,</span> <span class="n">copy</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">debugDescription</span><span class="p">;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">readonly</span><span class="p">,</span> <span class="n">copy</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">description</span><span class="p">;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">readonly</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">hash</span><span class="p">;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">readonly</span><span class="p">)</span> <span class="n">Class</span> <span class="n">superclass</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="k">@end</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
<span class="line-number">45</span>
<span class="line-number">46</span>
<span class="line-number">47</span>
<span class="line-number">48</span>
<span class="line-number">49</span>
<span class="line-number">50</span>
<span class="line-number">51</span>
<span class="line-number">52</span>
<span class="line-number">53</span>
<span class="line-number">54</span>
<span class="line-number">55</span>
<span class="line-number">56</span>
<span class="line-number">57</span>
<span class="line-number">58</span>
<span class="line-number">59</span>
<span class="line-number">60</span>
<span class="line-number">61</span>
<span class="line-number">62</span>
<span class="line-number">63</span>
<span class="line-number">64</span>
<span class="line-number">65</span>
<span class="line-number">66</span>
<span class="line-number">67</span>
<span class="line-number">68</span>
<span class="line-number">69</span>
<span class="line-number">70</span>
<span class="line-number">71</span>
<span class="line-number">72</span>
<span class="line-number">73</span>
<span class="line-number">74</span>
<span class="line-number">75</span>
<span class="line-number">76</span>
<span class="line-number">77</span>
<span class="line-number">78</span>
<span class="line-number">79</span>
<span class="line-number">80</span>
<span class="line-number">81</span>
<span class="line-number">82</span>
<span class="line-number">83</span>
<span class="line-number">84</span>
<span class="line-number">85</span>
<span class="line-number">86</span>
<span class="line-number">87</span>
<span class="line-number">88</span>
<span class="line-number">89</span>
<span class="line-number">90</span>
<span class="line-number">91</span>
<span class="line-number">92</span>
<span class="line-number">93</span>
<span class="line-number">94</span>
<span class="line-number">95</span>
<span class="line-number">96</span>
<span class="line-number">97</span>
<span class="line-number">98</span>
<span class="line-number">99</span>
<span class="line-number">100</span>
<span class="line-number">101</span>
<span class="line-number">102</span>
<span class="line-number">103</span>
<span class="line-number">104</span>
<span class="line-number">105</span>
<span class="line-number">106</span>
<span class="line-number">107</span>
<span class="line-number">108</span>
<span class="line-number">109</span>
<span class="line-number">110</span>
<span class="line-number">111</span>
<span class="line-number">112</span>
<span class="line-number">113</span>
<span class="line-number">114</span>
<span class="line-number">115</span>
<span class="line-number">116</span>
<span class="line-number">117</span>
<span class="line-number">118</span>
<span class="line-number">119</span>
<span class="line-number">120</span>
<span class="line-number">121</span>
<span class="line-number">122</span>
<span class="line-number">123</span>
<span class="line-number">124</span>
<span class="line-number">125</span>
<span class="line-number">126</span>
<span class="line-number">127</span>
<span class="line-number">128</span>
<span class="line-number">129</span>
<span class="line-number">130</span>
<span class="line-number">131</span>
<span class="line-number">132</span>
<span class="line-number">133</span>
<span class="line-number">134</span>
<span class="line-number">135</span>
<span class="line-number">136</span>
<span class="line-number">137</span>
<span class="line-number">138</span>
<span class="line-number">139</span>
<span class="line-number">140</span>
<span class="line-number">141</span>
<span class="line-number">142</span>
<span class="line-number">143</span>
<span class="line-number">144</span>
<span class="line-number">145</span>
<span class="line-number">146</span>
<span class="line-number">147</span>
<span class="line-number">148</span>
<span class="line-number">149</span>
<span class="line-number">150</span>
<span class="line-number">151</span>
<span class="line-number">152</span>
<span class="line-number">153</span>
<span class="line-number">154</span>
<span class="line-number">155</span>
<span class="line-number">156</span>
<span class="line-number">157</span>
<span class="line-number">158</span>
<span class="line-number">159</span>
<span class="line-number">160</span>
<span class="line-number">161</span>
<span class="line-number">162</span>
<span class="line-number">163</span>
<span class="line-number">164</span>
<span class="line-number">165</span>
<span class="line-number">166</span>
<span class="line-number">167</span>
<span class="line-number">168</span>
<span class="line-number">169</span>
<span class="line-number">170</span>
<span class="line-number">171</span>
<span class="line-number">172</span>
<span class="line-number">173</span>
<span class="line-number">174</span>
<span class="line-number">175</span>
<span class="line-number">176</span>
<span class="line-number">177</span>
<span class="line-number">178</span>
<span class="line-number">179</span>
<span class="line-number">180</span>
<span class="line-number">181</span>
<span class="line-number">182</span>
<span class="line-number">183</span>
<span class="line-number">184</span>
<span class="line-number">185</span>
<span class="line-number">186</span>
<span class="line-number">187</span>
<span class="line-number">188</span>
<span class="line-number">189</span>
<span class="line-number">190</span>
<span class="line-number">191</span>
<span class="line-number">192</span>
<span class="line-number">193</span>
<span class="line-number">194</span>
<span class="line-number">195</span>
<span class="line-number">196</span>
<span class="line-number">197</span>
<span class="line-number">198</span>
<span class="line-number">199</span>
<span class="line-number">200</span>
<span class="line-number">201</span>
<span class="line-number">202</span>
<span class="line-number">203</span>
<span class="line-number">204</span>
<span class="line-number">205</span>
<span class="line-number">206</span>
<span class="line-number">207</span>
<span class="line-number">208</span>
<span class="line-number">209</span>
<span class="line-number">210</span>
<span class="line-number">211</span>
<span class="line-number">212</span>
<span class="line-number">213</span>
<span class="line-number">214</span>
<span class="line-number">215</span>
<span class="line-number">216</span>
<span class="line-number">217</span>
<span class="line-number">218</span>
<span class="line-number">219</span>
<span class="line-number">220</span>
<span class="line-number">221</span>
<span class="line-number">222</span>
<span class="line-number">223</span>
<span class="line-number">224</span>
<span class="line-number">225</span>
<span class="line-number">226</span>
<span class="line-number">227</span>
<span class="line-number">228</span>
<span class="line-number">229</span>
<span class="line-number">230</span>
<span class="line-number">231</span>
<span class="line-number">232</span>
<span class="line-number">233</span>
<span class="line-number">234</span>
<span class="line-number">235</span>
<span class="line-number">236</span>
<span class="line-number">237</span>
<span class="line-number">238</span>
<span class="line-number">239</span>
<span class="line-number">240</span>
<span class="line-number">241</span>
<span class="line-number">242</span>
<span class="line-number">243</span>
<span class="line-number">244</span>
<span class="line-number">245</span>
<span class="line-number">246</span>
<span class="line-number">247</span>
<span class="line-number">248</span>
<span class="line-number">249</span>
<span class="line-number">250</span>
<span class="line-number">251</span>
<span class="line-number">252</span>
<span class="line-number">253</span>
<span class="line-number">254</span>
<span class="line-number">255</span>
<span class="line-number">256</span>
<span class="line-number">257</span>
<span class="line-number">258</span>
<span class="line-number">259</span>
<span class="line-number">260</span>
<span class="line-number">261</span>
<span class="line-number">262</span>
<span class="line-number">263</span>
<span class="line-number">264</span>
<span class="line-number">265</span>
<span class="line-number">266</span>
<span class="line-number">267</span>
<span class="line-number">268</span>
<span class="line-number">269</span>
<span class="line-number">270</span>
<span class="line-number">271</span>
<span class="line-number">272</span>
<span class="line-number">273</span>
<span class="line-number">274</span>
<span class="line-number">275</span>
<span class="line-number">276</span>
<span class="line-number">277</span>
<span class="line-number">278</span>
<span class="line-number">279</span>
<span class="line-number">280</span>
<span class="line-number">281</span>
<span class="line-number">282</span>
<span class="line-number">283</span>
<span class="line-number">284</span>
<span class="line-number">285</span>
<span class="line-number">286</span>
<span class="line-number">287</span>
<span class="line-number">288</span>
<span class="line-number">289</span>
<span class="line-number">290</span>
<span class="line-number">291</span>
<span class="line-number">292</span>
<span class="line-number">293</span>
<span class="line-number">294</span>
<span class="line-number">295</span>
<span class="line-number">296</span>
<span class="line-number">297</span>
<span class="line-number">298</span>
<span class="line-number">299</span>
<span class="line-number">300</span>
<span class="line-number">301</span>
<span class="line-number">302</span>
<span class="line-number">303</span>
<span class="line-number">304</span>
<span class="line-number">305</span>
<span class="line-number">306</span>
<span class="line-number">307</span>
<span class="line-number">308</span>
<span class="line-number">309</span>
<span class="line-number">310</span>
<span class="line-number">311</span>
<span class="line-number">312</span>
<span class="line-number">313</span>
<span class="line-number">314</span>
<span class="line-number">315</span>
<span class="line-number">316</span>
<span class="line-number">317</span>
<span class="line-number">318</span>
<span class="line-number">319</span>
<span class="line-number">320</span>
<span class="line-number">321</span>
<span class="line-number">322</span>
<span class="line-number">323</span>
<span class="line-number">324</span>
<span class="line-number">325</span>
<span class="line-number">326</span>
<span class="line-number">327</span>
<span class="line-number">328</span>
<span class="line-number">329</span>
<span class="line-number">330</span>
<span class="line-number">331</span>
<span class="line-number">332</span>
<span class="line-number">333</span>
<span class="line-number">334</span>
<span class="line-number">335</span>
<span class="line-number">336</span>
<span class="line-number">337</span>
<span class="line-number">338</span>
<span class="line-number">339</span>
<span class="line-number">340</span>
<span class="line-number">341</span>
<span class="line-number">342</span>
<span class="line-number">343</span>
<span class="line-number">344</span>
<span class="line-number">345</span>
<span class="line-number">346</span>
<span class="line-number">347</span>
<span class="line-number">348</span>
<span class="line-number">349</span>
<span class="line-number">350</span>
<span class="line-number">351</span>
<span class="line-number">352</span>
<span class="line-number">353</span>
<span class="line-number">354</span>
<span class="line-number">355</span>
<span class="line-number">356</span>
<span class="line-number">357</span>
<span class="line-number">358</span>
<span class="line-number">359</span>
<span class="line-number">360</span>
<span class="line-number">361</span>
<span class="line-number">362</span>
<span class="line-number">363</span>
<span class="line-number">364</span>
<span class="line-number">365</span>
<span class="line-number">366</span>
<span class="line-number">367</span>
<span class="line-number">368</span>
<span class="line-number">369</span>
<span class="line-number">370</span>
<span class="line-number">371</span>
<span class="line-number">372</span>
<span class="line-number">373</span>
<span class="line-number">374</span>
<span class="line-number">375</span>
<span class="line-number">376</span>
</pre></td><td class="code"><pre><code class="objc"><span class="line"><span class="c1">//</span>
</span><span class="line"><span class="c1">//     Generated by class-dump 3.5 (64 bit).</span>
</span><span class="line"><span class="c1">//</span>
</span><span class="line"><span class="c1">//     class-dump is Copyright (C) 1997-1998, 2000-2001, 2004-2013 by Steve Nygard.</span>
</span><span class="line"><span class="c1">//</span>
</span><span class="line">
</span><span class="line"><span class="cp">#import &quot;MMObject.h&quot;</span>
</span><span class="line">
</span><span class="line"><span class="cp">#import &quot;IAppMsgPathMgr.h&quot;</span>
</span><span class="line"><span class="cp">#import &quot;IMsgExtendOperation.h&quot;</span>
</span><span class="line"><span class="cp">#import &quot;ISysNewXmlMsgExtendOperation.h&quot;</span>
</span><span class="line"><span class="cp">#import &quot;NSCopying.h&quot;</span>
</span><span class="line">
</span><span class="line"><span class="k">@class</span> <span class="nc">AppInnerJumpItem</span>, <span class="nc">AppProductItem</span>, <span class="nc">AppTVItem</span>, <span class="nc">CardTicketItem</span>, <span class="nc">EmoticonSharedItem</span>, <span class="nc">EmotionDesignerSharedItem</span>, <span class="nc">EmotionPageSharedItem</span>, <span class="nc">FavoritesItem</span>, <span class="nc">HardWareItem</span>, <span class="nc">ImageInfo</span>, <span class="nc">MMAsset</span>, <span class="nc">MMWCPushInfo</span>, <span class="nc">MallProductItem</span>, <span class="nc">MessageExpItem</span>, <span class="nc">NSArray</span>, <span class="nc">NSData</span>, <span class="nc">NSMutableArray</span>, <span class="nc">NSMutableDictionary</span>, <span class="nc">NSString</span>, <span class="nc">PushMailWrap</span>, <span class="nc">WAAppMsgItem</span>, <span class="nc">WCCanvasPageItem</span>, <span class="nc">WCPayInfoItem</span>, <span class="nc">iWatchAppMsgItem</span>;
</span><span class="line">
</span><span class="line"><span class="k">@interface</span> <span class="nc">CMessageWrap</span> : <span class="nc">MMObject</span> <span class="o">&lt;</span><span class="n">IAppMsgPathMgr</span><span class="p">,</span> <span class="n">ISysNewXmlMsgExtendOperation</span><span class="p">,</span> <span class="n">IMsgExtendOperation</span><span class="p">,</span> <span class="n">NSCopying</span><span class="o">&gt;</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">    <span class="kt">BOOL</span> <span class="n">m_bIsSplit</span><span class="p">;</span>
</span><span class="line">    <span class="kt">BOOL</span> <span class="n">m_bNew</span><span class="p">;</span>
</span><span class="line">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiMesLocalID</span><span class="p">;</span>
</span><span class="line">    <span class="kt">long</span> <span class="kt">long</span> <span class="n">m_n64MesSvrID</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsFromUsr</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsToUsr</span><span class="p">;</span>
</span><span class="line">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiMessageType</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsContent</span><span class="p">;</span>
</span><span class="line">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiStatus</span><span class="p">;</span>
</span><span class="line">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiImgStatus</span><span class="p">;</span>
</span><span class="line">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiMsgFlag</span><span class="p">;</span>
</span><span class="line">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiCreateTime</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsPushContent</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsMsgSource</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsRealChatUsr</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSData</span> <span class="o">*</span><span class="n">m_dtThumbnail</span><span class="p">;</span>
</span><span class="line">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiSendTime</span><span class="p">;</span>
</span><span class="line">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiEmojiStatFlag</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsPattern</span><span class="p">;</span>
</span><span class="line">    <span class="kt">BOOL</span> <span class="n">m_bForward</span><span class="p">;</span>
</span><span class="line">    <span class="kt">BOOL</span> <span class="n">m_bCdnForward</span><span class="p">;</span>
</span><span class="line">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiPercent</span><span class="p">;</span>
</span><span class="line">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiDownloadStatus</span><span class="p">;</span>
</span><span class="line">    <span class="kt">id</span> <span class="o">&lt;</span><span class="n">IMsgExtendOperation</span><span class="o">&gt;</span> <span class="n">m_extendInfoWithMsgTypeForBiz</span><span class="p">;</span>
</span><span class="line">    <span class="kt">id</span> <span class="o">&lt;</span><span class="n">IMsgExtendOperation</span><span class="o">&gt;</span> <span class="n">m_extendInfoWithMsgType</span><span class="p">;</span>
</span><span class="line">    <span class="kt">id</span> <span class="o">&lt;</span><span class="n">IMsgExtendOperation</span><span class="o">&gt;</span> <span class="n">m_extendInfoWithFromUsr</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsLastDisplayContent</span><span class="p">;</span>
</span><span class="line">    <span class="kt">BOOL</span> <span class="n">m_isTempSessionMsg</span><span class="p">;</span>
</span><span class="line">    <span class="kt">BOOL</span> <span class="n">m_isEnterpriseMsg</span><span class="p">;</span>
</span><span class="line">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_sequenceId</span><span class="p">;</span>
</span><span class="line">    <span class="kt">BOOL</span> <span class="n">m_bIsFromBrandSession</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsKFWorkerOpenID</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsBizClientMsgID</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsBizChatId</span><span class="p">;</span>
</span><span class="line">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiBizChatVer</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsAtUserList</span><span class="p">;</span>
</span><span class="line">    <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">watchMsgSourceType</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsDisplayName</span><span class="p">;</span>
</span><span class="line">    <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">_m_forwardType</span><span class="p">;</span>
</span><span class="line">    <span class="n">NSMutableDictionary</span> <span class="o">*</span><span class="n">_m_dicForwardParas</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="o">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nl">FormMessageWrapFromAddMsg:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="n">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">FormMessageWrapFromBuffer:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">GetCdnDownloadPathOfMsgThumb:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">GetPathOfAppData:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">LocalID:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">FileExt:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg3</span> <span class="nf">retStrPath:</span><span class="p">(</span><span class="kt">id</span> <span class="o">*</span><span class="p">)</span><span class="nv">arg4</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">GetPathOfAppDataByUserName:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">andMessageWrap:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">andAttachId:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg3</span> <span class="nf">andAttachFileExt:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg4</span> <span class="nf">retStrPath:</span><span class="p">(</span><span class="kt">id</span> <span class="o">*</span><span class="p">)</span><span class="nv">arg5</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">GetPathOfAppDataByUserName:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">andMessageWrap:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">retStrPath:</span><span class="p">(</span><span class="kt">id</span> <span class="o">*</span><span class="p">)</span><span class="nv">arg3</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">GetPathOfAppDataTemp:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">LocalID:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">AttachId:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg3</span> <span class="nf">retStrPath:</span><span class="p">(</span><span class="kt">id</span> <span class="o">*</span><span class="p">)</span><span class="nv">arg4</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">GetPathOfAppDataTemp:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">LocalID:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">retStrPath:</span><span class="p">(</span><span class="kt">id</span> <span class="o">*</span><span class="p">)</span><span class="nv">arg3</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">GetPathOfAppDir:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">retStrPath:</span><span class="p">(</span><span class="kt">id</span> <span class="o">*</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">GetPathOfAppImgCacheDir:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">retStrPath:</span><span class="p">(</span><span class="kt">id</span> <span class="o">*</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">GetPathOfAppRemindAttach:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">retStrPath:</span><span class="p">(</span><span class="kt">id</span> <span class="o">*</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">GetPathOfAppThumb:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">LocalID:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">retStrPath:</span><span class="p">(</span><span class="kt">id</span> <span class="o">*</span><span class="p">)</span><span class="nv">arg3</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">GetPathOfMaskedAppThumb:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">LocalID:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">retStrPath:</span><span class="p">(</span><span class="kt">id</span> <span class="o">*</span><span class="p">)</span><span class="nv">arg3</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">GetPathOfMaskedSquareMesImgThumbDir:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">GetPathOfMesVideoWithMessageWrap:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">GetPathOfSquareMesImgThumb:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">GetTempPathOfMesShortVideoWithMessageWrap:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">IsRecordMsg:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">SaveMesImg:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">MsgWrap:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">SaveMsgThumbWithMsgWrap:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">clearLocalImage:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">clearLocalMaskedThumbImage:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">createMaskedThumbImageForMessageWrap:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getMaskedMsgImgThumb:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getMaskedVideoMsgImgThumb:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getMessageListStatusImage:</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">long</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getMsgHDImg:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getMsgHDImgData:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getMsgImg:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getMsgImgData:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getMsgImgThumb:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getOldPathOfMessageImageCache</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getPathOfMaskedMsgImgThumb:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getPathOfMaskedVideoMsgImgThumb:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getPathOfMessageImageCache</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getPathOfMiddleImgForSender:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getPathOfMsgHDImg:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getPathOfMsgImg:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getPathOfMsgImgThumb:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getPathOfVideoMsgImgThumb:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getUserNameFromMsgWrap:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">initialize</span><span class="p">;</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isSenderFromMsgWrap:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">).</span><span class="n">cxx_destruct</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">AddTagToMsgSource:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">value:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">ChangeForBackup</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">ChangeForChatRoom</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">ChangeForDisplay</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">ChangeForMsgSource</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">GetCdnDownloadPathOfVideo</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">GetCdnDownloadThumbPathOfVideo</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">GetChatName</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">GetDisplayContent</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">GetImg</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">GetMsgClientMsgID</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">GetThumb</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">IsAppMessage</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">IsAtMe</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">IsBottleMessage</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">IsChatRoomMessage</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">IsImgMsg</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">IsMassSendMessage</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">IsNeedAddMsgBizExt</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">IsNeedChatExt</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">IsNewInvitation</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">IsNewInvitationApprove</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">IsQQMessage</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">IsRoomAnnouncement</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">IsSameMsg:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">IsSameMsgWithFullCheck:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">IsSendBySendMsg</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">IsShortMovieMsg</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">IsSimpleVideoMsg</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">IsSxMessage</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">IsTextMsg</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">IsVideoMsg</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">UpdateMsgSource</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">bIsAppUrlTypeWithCanvas</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">canPlayVideo:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nf">compareMessageAscending:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nf">compareMessageLocalIDDescending:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nf">compareQQAscending:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nf">compareSXAscending:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">copyWithZone:</span><span class="p">(</span><span class="k">struct</span> <span class="n">_NSZone</span> <span class="o">*</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">readonly</span><span class="p">,</span> <span class="n">copy</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">description</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">fillMsgSourceFromContact:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">isFromTempSession:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">forwardInvocation:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">forwardingTargetForSelector:</span><span class="p">(</span><span class="kt">SEL</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">genImageFromMMAssetAndNotify:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">genMiddleImg:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">originImgData:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span> <span class="nf">isSaveOK:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg3</span> <span class="nf">delegate:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg4</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getMsgExtBizId</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">getNodeBtnList</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">init</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">initWithMsgType:</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">initWithMsgType:</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nv">arg1</span> <span class="nf">nsFromUsr:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">arg2</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isAd</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isSentOK</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isShowAppBottomButton</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isShowAppMessageBlockButton</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isShowCommentButton</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">keyDescription</span><span class="p">;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">BOOL</span> <span class="n">m_bCdnForward</span><span class="p">;</span> <span class="c1">// @synthesize m_bCdnForward;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">BOOL</span> <span class="n">m_bForward</span><span class="p">;</span> <span class="c1">// @synthesize m_bForward;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">BOOL</span> <span class="n">m_bIsFromBrandSession</span><span class="p">;</span> <span class="c1">// @synthesize m_bIsFromBrandSession;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">BOOL</span> <span class="n">m_bIsSplit</span><span class="p">;</span> <span class="c1">// @synthesize m_bIsSplit;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">BOOL</span> <span class="n">m_bNew</span><span class="p">;</span> <span class="c1">// @synthesize m_bNew;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSMutableDictionary</span> <span class="o">*</span><span class="n">m_dicForwardParas</span><span class="p">;</span> <span class="c1">// @synthesize m_dicForwardParas=_m_dicForwardParas;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSData</span> <span class="o">*</span><span class="n">m_dtThumbnail</span><span class="p">;</span> <span class="c1">// @synthesize m_dtThumbnail;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="kt">id</span> <span class="o">&lt;</span><span class="n">IMsgExtendOperation</span><span class="o">&gt;</span> <span class="n">m_extendInfoWithFromUsr</span><span class="p">;</span> <span class="c1">// @synthesize m_extendInfoWithFromUsr;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="kt">id</span> <span class="o">&lt;</span><span class="n">IMsgExtendOperation</span><span class="o">&gt;</span> <span class="n">m_extendInfoWithMsgType</span><span class="p">;</span> <span class="c1">// @synthesize m_extendInfoWithMsgType;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="kt">id</span> <span class="o">&lt;</span><span class="n">IMsgExtendOperation</span><span class="o">&gt;</span> <span class="n">m_extendInfoWithMsgTypeForBiz</span><span class="p">;</span> <span class="c1">// @synthesize m_extendInfoWithMsgTypeForBiz;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_forwardType</span><span class="p">;</span> <span class="c1">// @synthesize m_forwardType=_m_forwardType;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">BOOL</span> <span class="n">m_isEnterpriseMsg</span><span class="p">;</span> <span class="c1">// @synthesize m_isEnterpriseMsg;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">BOOL</span> <span class="n">m_isTempSessionMsg</span><span class="p">;</span> <span class="c1">// @synthesize m_isTempSessionMsg;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">m_n64MesSvrID</span><span class="p">;</span> <span class="c1">// @synthesize m_n64MesSvrID;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsAtUserList</span><span class="p">;</span> <span class="c1">// @synthesize m_nsAtUserList;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsBizChatId</span><span class="p">;</span> <span class="c1">// @synthesize m_nsBizChatId;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsBizClientMsgID</span><span class="p">;</span> <span class="c1">// @synthesize m_nsBizClientMsgID;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsContent</span><span class="p">;</span> <span class="c1">// @synthesize m_nsContent;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsDisplayName</span><span class="p">;</span> <span class="c1">// @synthesize m_nsDisplayName;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsFromUsr</span><span class="p">;</span> <span class="c1">// @synthesize m_nsFromUsr;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsKFWorkerOpenID</span><span class="p">;</span> <span class="c1">// @synthesize m_nsKFWorkerOpenID;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsMsgSource</span><span class="p">;</span> <span class="c1">// @synthesize m_nsMsgSource;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsPattern</span><span class="p">;</span> <span class="c1">// @synthesize m_nsPattern;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsPushContent</span><span class="p">;</span> <span class="c1">// @synthesize m_nsPushContent;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsRealChatUsr</span><span class="p">;</span> <span class="c1">// @synthesize m_nsRealChatUsr;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsToUsr</span><span class="p">;</span> <span class="c1">// @synthesize m_nsToUsr;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_sequenceId</span><span class="p">;</span> <span class="c1">// @synthesize m_sequenceId;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiBizChatVer</span><span class="p">;</span> <span class="c1">// @synthesize m_uiBizChatVer;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiCreateTime</span><span class="p">;</span> <span class="c1">// @synthesize m_uiCreateTime;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiDownloadStatus</span><span class="p">;</span> <span class="c1">// @synthesize m_uiDownloadStatus;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiEmojiStatFlag</span><span class="p">;</span> <span class="c1">// @synthesize m_uiEmojiStatFlag;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiImgStatus</span><span class="p">;</span> <span class="c1">// @synthesize m_uiImgStatus;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiMesLocalID</span><span class="p">;</span> <span class="c1">// @synthesize m_uiMesLocalID;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiMessageType</span><span class="p">;</span> <span class="c1">// @synthesize m_uiMessageType;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiMsgFlag</span><span class="p">;</span> <span class="c1">// @synthesize m_uiMsgFlag;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiPercent</span><span class="p">;</span> <span class="c1">// @synthesize m_uiPercent;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiSendTime</span><span class="p">;</span> <span class="c1">// @synthesize m_uiSendTime;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiStatus</span><span class="p">;</span> <span class="c1">// @synthesize m_uiStatus;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">methodSignatureForSelector:</span><span class="p">(</span><span class="kt">SEL</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">nativeUrl</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">setVideoPlayMode:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">arg1</span><span class="p">;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">watchMsgSourceType</span><span class="p">;</span> <span class="c1">// @synthesize watchMsgSourceType;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">wishingString</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">unsigned</span> <span class="kt">int</span><span class="p">)</span><span class="nf">yoCount</span><span class="p">;</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nf">yoType</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="c1">// Remaining properties</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">readonly</span><span class="p">,</span> <span class="n">copy</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">debugDescription</span><span class="p">;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">readonly</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">hash</span><span class="p">;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_AttachedContent</span><span class="p">;</span> <span class="c1">// @dynamic m_AttachedContent;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_aesKey</span><span class="p">;</span> <span class="c1">// @dynamic m_aesKey;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSArray</span> <span class="o">*</span><span class="n">m_arrCustomWrap</span><span class="p">;</span> <span class="c1">// @dynamic m_arrCustomWrap;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSMutableArray</span> <span class="o">*</span><span class="n">m_arrInviteeMembers</span><span class="p">;</span> <span class="c1">// @dynamic m_arrInviteeMembers;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSMutableArray</span> <span class="o">*</span><span class="n">m_arrMembers</span><span class="p">;</span> <span class="c1">// @dynamic m_arrMembers;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSArray</span> <span class="o">*</span><span class="n">m_arrReaderWaps</span><span class="p">;</span> <span class="c1">// @dynamic m_arrReaderWaps;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">MMAsset</span> <span class="o">*</span><span class="n">m_asset</span><span class="p">;</span> <span class="c1">// @dynamic m_asset;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">BOOL</span> <span class="n">m_bAppAttachExistInSvr</span><span class="p">;</span> <span class="c1">// @dynamic m_bAppAttachExistInSvr;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">BOOL</span> <span class="n">m_bComeInByClick</span><span class="p">;</span> <span class="c1">// @dynamic m_bComeInByClick;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">BOOL</span> <span class="n">m_bHasApprove</span><span class="p">;</span> <span class="c1">// @dynamic m_bHasApprove;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">BOOL</span> <span class="n">m_bHaveMoovDownload</span><span class="p">;</span> <span class="c1">// @dynamic m_bHaveMoovDownload;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">BOOL</span> <span class="n">m_bIsForceUpdate</span><span class="p">;</span> <span class="c1">// @dynamic m_bIsForceUpdate;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">BOOL</span> <span class="n">m_bNeedReloadSubView</span><span class="p">;</span> <span class="c1">// @dynamic m_bNeedReloadSubView;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">BOOL</span> <span class="n">m_bNewApprove</span><span class="p">;</span> <span class="c1">// @dynamic m_bNewApprove;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">BOOL</span> <span class="n">m_bNewInv</span><span class="p">;</span> <span class="c1">// @dynamic m_bNewInv;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">BOOL</span> <span class="n">m_bShowRewardTips</span><span class="p">;</span> <span class="c1">// @dynamic m_bShowRewardTips;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">BOOL</span> <span class="n">m_bStartPlay</span><span class="p">;</span> <span class="c1">// @dynamic m_bStartPlay;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_cdnUrlString</span><span class="p">;</span> <span class="c1">// @dynamic m_cdnUrlString;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSMutableDictionary</span> <span class="o">*</span><span class="n">m_dicStatParas</span><span class="p">;</span> <span class="c1">// @dynamic m_dicStatParas;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSData</span> <span class="o">*</span><span class="n">m_dtImg</span><span class="p">;</span> <span class="c1">// @dynamic m_dtImg;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSData</span> <span class="o">*</span><span class="n">m_dtSenderMidImg</span><span class="p">;</span> <span class="c1">// @dynamic m_dtSenderMidImg;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSData</span> <span class="o">*</span><span class="n">m_dtVoice</span><span class="p">;</span> <span class="c1">// @dynamic m_dtVoice;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_duration</span><span class="p">;</span> <span class="c1">// @dynamic m_duration;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_encryptUrlString</span><span class="p">;</span> <span class="c1">// @dynamic m_encryptUrlString;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">float</span> <span class="n">m_fLatitude</span><span class="p">;</span> <span class="c1">// @dynamic m_fLatitude;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">float</span> <span class="n">m_fLongitude</span><span class="p">;</span> <span class="c1">// @dynamic m_fLongitude;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_fromChatUserName</span><span class="p">;</span> <span class="c1">// @dynamic m_fromChatUserName;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">m_i64VoipKey</span><span class="p">;</span> <span class="c1">// @dynamic m_i64VoipKey;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">long</span> <span class="n">m_iVoipRoomid</span><span class="p">;</span> <span class="c1">// @dynamic m_iVoipRoomid;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_infoUrl</span><span class="p">;</span> <span class="c1">// @dynamic m_infoUrl;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_inviterName</span><span class="p">;</span> <span class="c1">// @dynamic m_inviterName;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">BOOL</span> <span class="n">m_isCanUpload</span><span class="p">;</span> <span class="c1">// @dynamic m_isCanUpload;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">readonly</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="kt">BOOL</span> <span class="n">m_isContentOriginal</span><span class="p">;</span> <span class="c1">// @dynamic m_isContentOriginal;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">BOOL</span> <span class="n">m_isDirectSend</span><span class="p">;</span> <span class="c1">// @dynamic m_isDirectSend;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">BOOL</span> <span class="n">m_isForNewYear</span><span class="p">;</span> <span class="c1">// @dynamic m_isForNewYear;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">BOOL</span> <span class="n">m_isReaderForbidForward</span><span class="p">;</span> <span class="c1">// @dynamic m_isReaderForbidForward;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">double</span> <span class="n">m_latitude</span><span class="p">;</span> <span class="c1">// @dynamic m_latitude;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_locationLabel</span><span class="p">;</span> <span class="c1">// @dynamic m_locationLabel;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">double</span> <span class="n">m_longitude</span><span class="p">;</span> <span class="c1">// @dynamic m_longitude;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">double</span> <span class="n">m_mapScale</span><span class="p">;</span> <span class="c1">// @dynamic m_mapScale;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_mapType</span><span class="p">;</span> <span class="c1">// @dynamic m_mapType;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">int</span> <span class="n">m_msgInnerType</span><span class="p">;</span> <span class="c1">// @dynamic m_msgInnerType;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">long</span> <span class="n">m_nDownloadLimit</span><span class="p">;</span> <span class="c1">// @dynamic m_nDownloadLimit;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_newXmlType</span><span class="p">;</span> <span class="c1">// @dynamic m_newXmlType;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsAesKey</span><span class="p">;</span> <span class="c1">// @dynamic m_nsAesKey;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsAppAction</span><span class="p">;</span> <span class="c1">// @dynamic m_nsAppAction;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsAppAttachID</span><span class="p">;</span> <span class="c1">// @dynamic m_nsAppAttachID;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsAppContent</span><span class="p">;</span> <span class="c1">// @dynamic m_nsAppContent;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsAppExtInfo</span><span class="p">;</span> <span class="c1">// @dynamic m_nsAppExtInfo;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsAppFileExt</span><span class="p">;</span> <span class="c1">// @dynamic m_nsAppFileExt;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsAppID</span><span class="p">;</span> <span class="c1">// @dynamic m_nsAppID;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsAppMediaDataUrl</span><span class="p">;</span> <span class="c1">// @dynamic m_nsAppMediaDataUrl;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsAppMediaLowBandDataUrl</span><span class="p">;</span> <span class="c1">// @dynamic m_nsAppMediaLowBandDataUrl;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsAppMediaLowUrl</span><span class="p">;</span> <span class="c1">// @dynamic m_nsAppMediaLowUrl;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsAppMediaTagName</span><span class="p">;</span> <span class="c1">// @dynamic m_nsAppMediaTagName;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsAppMediaUrl</span><span class="p">;</span> <span class="c1">// @dynamic m_nsAppMediaUrl;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsAppMessageAction</span><span class="p">;</span> <span class="c1">// @dynamic m_nsAppMessageAction;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsAppMessageExt</span><span class="p">;</span> <span class="c1">// @dynamic m_nsAppMessageExt;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsAppName</span><span class="p">;</span> <span class="c1">// @dynamic m_nsAppName;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsAutoDownloadControl</span><span class="p">;</span> <span class="c1">// @dynamic m_nsAutoDownloadControl;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsCommentUrl</span><span class="p">;</span> <span class="c1">// @dynamic m_nsCommentUrl;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsDesc</span><span class="p">;</span> <span class="c1">// @dynamic m_nsDesc;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsDesignerId</span><span class="p">;</span> <span class="c1">// @dynamic m_nsDesignerId;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">copy</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsEmoticonBelongToProductID</span><span class="p">;</span> <span class="c1">// @dynamic m_nsEmoticonBelongToProductID;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsEmoticonMD5</span><span class="p">;</span> <span class="c1">// @dynamic m_nsEmoticonMD5;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsFileParam</span><span class="p">;</span> <span class="c1">// @dynamic m_nsFileParam;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsImgHDUrl</span><span class="p">;</span> <span class="c1">// @dynamic m_nsImgHDUrl;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsImgMidUrl</span><span class="p">;</span> <span class="c1">// @dynamic m_nsImgMidUrl;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsImgSrc</span><span class="p">;</span> <span class="c1">// @dynamic m_nsImgSrc;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsInviteReason</span><span class="p">;</span> <span class="c1">// @dynamic m_nsInviteReason;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsInviteTickets</span><span class="p">;</span> <span class="c1">// @dynamic m_nsInviteTickets;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsJsAppId</span><span class="p">;</span> <span class="c1">// @dynamic m_nsJsAppId;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsMsgAttachUrl</span><span class="p">;</span> <span class="c1">// @dynamic m_nsMsgAttachUrl;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsMsgDataUrl</span><span class="p">;</span> <span class="c1">// @dynamic m_nsMsgDataUrl;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsMsgMd5</span><span class="p">;</span> <span class="c1">// @dynamic m_nsMsgMd5;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsMsgThumbAesKey</span><span class="p">;</span> <span class="c1">// @dynamic m_nsMsgThumbAesKey;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsMsgThumbMd5</span><span class="p">;</span> <span class="c1">// @dynamic m_nsMsgThumbMd5;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsMsgThumbUrl</span><span class="p">;</span> <span class="c1">// @dynamic m_nsMsgThumbUrl;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsRemindAttachId</span><span class="p">;</span> <span class="c1">// @dynamic m_nsRemindAttachId;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsShareOpenUrl</span><span class="p">;</span> <span class="c1">// @dynamic m_nsShareOpenUrl;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsShareOriginUrl</span><span class="p">;</span> <span class="c1">// @dynamic m_nsShareOriginUrl;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsSourceDisplayname</span><span class="p">;</span> <span class="c1">// @dynamic m_nsSourceDisplayname;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsSourceUsername</span><span class="p">;</span> <span class="c1">// @dynamic m_nsSourceUsername;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsStatExtStr</span><span class="p">;</span> <span class="c1">// @dynamic m_nsStatExtStr;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsStreamVideoAdUxInfo</span><span class="p">;</span> <span class="c1">// @dynamic m_nsStreamVideoAdUxInfo;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsStreamVideoPublishId</span><span class="p">;</span> <span class="c1">// @dynamic m_nsStreamVideoPublishId;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsStreamVideoThumbUrl</span><span class="p">;</span> <span class="c1">// @dynamic m_nsStreamVideoThumbUrl;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsStreamVideoTitle</span><span class="p">;</span> <span class="c1">// @dynamic m_nsStreamVideoTitle;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsStreamVideoUrl</span><span class="p">;</span> <span class="c1">// @dynamic m_nsStreamVideoUrl;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsStreamVideoWebUrl</span><span class="p">;</span> <span class="c1">// @dynamic m_nsStreamVideoWebUrl;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsStreamVideoWording</span><span class="p">;</span> <span class="c1">// @dynamic m_nsStreamVideoWording;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsTemplateId</span><span class="p">;</span> <span class="c1">// @dynamic m_nsTemplateId;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsThumbImgUrl</span><span class="p">;</span> <span class="c1">// @dynamic m_nsThumbImgUrl;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsThumbUrl</span><span class="p">;</span> <span class="c1">// @dynamic m_nsThumbUrl;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_nsTitle</span><span class="p">;</span> <span class="c1">// @dynamic m_nsTitle;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">AppInnerJumpItem</span> <span class="o">*</span><span class="n">m_oAppInnerJumpItem</span><span class="p">;</span> <span class="c1">// @dynamic m_oAppInnerJumpItem;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">AppProductItem</span> <span class="o">*</span><span class="n">m_oAppProductItem</span><span class="p">;</span> <span class="c1">// @dynamic m_oAppProductItem;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">AppTVItem</span> <span class="o">*</span><span class="n">m_oAppTVItem</span><span class="p">;</span> <span class="c1">// @dynamic m_oAppTVItem;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">WCCanvasPageItem</span> <span class="o">*</span><span class="n">m_oCanvasPageItem</span><span class="p">;</span> <span class="c1">// @dynamic m_oCanvasPageItem;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">CardTicketItem</span> <span class="o">*</span><span class="n">m_oCardTicketItem</span><span class="p">;</span> <span class="c1">// @dynamic m_oCardTicketItem;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">EmoticonSharedItem</span> <span class="o">*</span><span class="n">m_oEmoticonSharedItem</span><span class="p">;</span> <span class="c1">// @dynamic m_oEmoticonSharedItem;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">EmotionDesignerSharedItem</span> <span class="o">*</span><span class="n">m_oEmotionDesignerSharedItem</span><span class="p">;</span> <span class="c1">// @dynamic m_oEmotionDesignerSharedItem;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">EmotionPageSharedItem</span> <span class="o">*</span><span class="n">m_oEmotionPageSharedItem</span><span class="p">;</span> <span class="c1">// @dynamic m_oEmotionPageSharedItem;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">HardWareItem</span> <span class="o">*</span><span class="n">m_oHardWareItem</span><span class="p">;</span> <span class="c1">// @dynamic m_oHardWareItem;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">ImageInfo</span> <span class="o">*</span><span class="n">m_oImageInfo</span><span class="p">;</span> <span class="c1">// @dynamic m_oImageInfo;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">MallProductItem</span> <span class="o">*</span><span class="n">m_oMallProductItem</span><span class="p">;</span> <span class="c1">// @dynamic m_oMallProductItem;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">MessageExpItem</span> <span class="o">*</span><span class="n">m_oMsgExpItem</span><span class="p">;</span> <span class="c1">// @dynamic m_oMsgExpItem;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">PushMailWrap</span> <span class="o">*</span><span class="n">m_oPushMailWrap</span><span class="p">;</span> <span class="c1">// @dynamic m_oPushMailWrap;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">FavoritesItem</span> <span class="o">*</span><span class="n">m_oRecordItem</span><span class="p">;</span> <span class="c1">// @dynamic m_oRecordItem;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">WAAppMsgItem</span> <span class="o">*</span><span class="n">m_oWAAppItem</span><span class="p">;</span> <span class="c1">// @dynamic m_oWAAppItem;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">WCPayInfoItem</span> <span class="o">*</span><span class="n">m_oWCPayInfoItem</span><span class="p">;</span> <span class="c1">// @dynamic m_oWCPayInfoItem;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">MMWCPushInfo</span> <span class="o">*</span><span class="n">m_oWebcachePushInfo</span><span class="p">;</span> <span class="c1">// @dynamic m_oWebcachePushInfo;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">iWatchAppMsgItem</span> <span class="o">*</span><span class="n">m_oiWatchMsgItem</span><span class="p">;</span> <span class="c1">// @dynamic m_oiWatchMsgItem;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_poiName</span><span class="p">;</span> <span class="c1">// @dynamic m_poiName;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_qrCode</span><span class="p">;</span> <span class="c1">// @dynamic m_qrCode;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="n">CMessageWrap</span> <span class="o">*</span><span class="n">m_refMessageWrap</span><span class="p">;</span> <span class="c1">// @dynamic m_refMessageWrap;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_scene</span><span class="p">;</span> <span class="c1">// @dynamic m_scene;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_sessionShowContent</span><span class="p">;</span> <span class="c1">// @dynamic m_sessionShowContent;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_showContent</span><span class="p">;</span> <span class="c1">// @dynamic m_showContent;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiApiSDKVersion</span><span class="p">;</span> <span class="c1">// @dynamic m_uiApiSDKVersion;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiAppContentAttributeBitSetFlag</span><span class="p">;</span> <span class="c1">// @dynamic m_uiAppContentAttributeBitSetFlag;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiAppDataSize</span><span class="p">;</span> <span class="c1">// @dynamic m_uiAppDataSize;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiAppExtShowType</span><span class="p">;</span> <span class="c1">// @dynamic m_uiAppExtShowType;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiAppMsgInnerType</span><span class="p">;</span> <span class="c1">// @dynamic m_uiAppMsgInnerType;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiAppVersion</span><span class="p">;</span> <span class="c1">// @dynamic m_uiAppVersion;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiCameraType</span><span class="p">;</span> <span class="c1">// @dynamic m_uiCameraType;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">m_uiDownloadMode</span><span class="p">;</span> <span class="c1">// @dynamic m_uiDownloadMode;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiDownloadPercent</span><span class="p">;</span> <span class="c1">// @dynamic m_uiDownloadPercent;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiEmoticonHeight</span><span class="p">;</span> <span class="c1">// @dynamic m_uiEmoticonHeight;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiEmoticonType</span><span class="p">;</span> <span class="c1">// @dynamic m_uiEmoticonType;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiEmoticonWidth</span><span class="p">;</span> <span class="c1">// @dynamic m_uiEmoticonWidth;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiEncryVer</span><span class="p">;</span> <span class="c1">// @dynamic m_uiEncryVer;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiGameContent</span><span class="p">;</span> <span class="c1">// @dynamic m_uiGameContent;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiGameType</span><span class="p">;</span> <span class="c1">// @dynamic m_uiGameType;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiHDImgSize</span><span class="p">;</span> <span class="c1">// @dynamic m_uiHDImgSize;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiMsgThumbHeight</span><span class="p">;</span> <span class="c1">// @dynamic m_uiMsgThumbHeight;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiMsgThumbSize</span><span class="p">;</span> <span class="c1">// @dynamic m_uiMsgThumbSize;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiMsgThumbWidth</span><span class="p">;</span> <span class="c1">// @dynamic m_uiMsgThumbWidth;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiNormalImgSize</span><span class="p">;</span> <span class="c1">// @dynamic m_uiNormalImgSize;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiOriginFormat</span><span class="p">;</span> <span class="c1">// @dynamic m_uiOriginFormat;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiOriginMsgSvrId</span><span class="p">;</span> <span class="c1">// @dynamic m_uiOriginMsgSvrId;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">m_uiPlayMode</span><span class="p">;</span> <span class="c1">// @dynamic m_uiPlayMode;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiRemindAttachTotalLen</span><span class="p">;</span> <span class="c1">// @dynamic m_uiRemindAttachTotalLen;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiRemindFormat</span><span class="p">;</span> <span class="c1">// @dynamic m_uiRemindFormat;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiRemindId</span><span class="p">;</span> <span class="c1">// @dynamic m_uiRemindId;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiRemindTime</span><span class="p">;</span> <span class="c1">// @dynamic m_uiRemindTime;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiScene</span><span class="p">;</span> <span class="c1">// @dynamic m_uiScene;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiShowType</span><span class="p">;</span> <span class="c1">// @dynamic m_uiShowType;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiStreamVideoTime</span><span class="p">;</span> <span class="c1">// @dynamic m_uiStreamVideoTime;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiUploadStatus</span><span class="p">;</span> <span class="c1">// @dynamic m_uiUploadStatus;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiVideoLen</span><span class="p">;</span> <span class="c1">// @dynamic m_uiVideoLen;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiVideoOffset</span><span class="p">;</span> <span class="c1">// @dynamic m_uiVideoOffset;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiVideoSource</span><span class="p">;</span> <span class="c1">// @dynamic m_uiVideoSource;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiVideoTime</span><span class="p">;</span> <span class="c1">// @dynamic m_uiVideoTime;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiVoiceCancelFlag</span><span class="p">;</span> <span class="c1">// @dynamic m_uiVoiceCancelFlag;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiVoiceEndFlag</span><span class="p">;</span> <span class="c1">// @dynamic m_uiVoiceEndFlag;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiVoiceFormat</span><span class="p">;</span> <span class="c1">// @dynamic m_uiVoiceFormat;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiVoiceForwardFlag</span><span class="p">;</span> <span class="c1">// @dynamic m_uiVoiceForwardFlag;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiVoiceTime</span><span class="p">;</span> <span class="c1">// @dynamic m_uiVoiceTime;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiVoipInviteType</span><span class="p">;</span> <span class="c1">// @dynamic m_uiVoipInviteType;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">m_uiVoipRecvTime</span><span class="p">;</span> <span class="c1">// @dynamic m_uiVoipRecvTime;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_uiVoipStatus</span><span class="p">;</span> <span class="c1">// @dynamic m_uiVoipStatus;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">retain</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">NSString</span> <span class="o">*</span><span class="n">m_url</span><span class="p">;</span> <span class="c1">// @dynamic m_url;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">)</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="n">m_wordingType</span><span class="p">;</span> <span class="c1">// @dynamic m_wordingType;</span>
</span><span class="line"><span class="k">@property</span><span class="p">(</span><span class="n">readonly</span><span class="p">)</span> <span class="n">Class</span> <span class="n">superclass</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="k">@end</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
<span class="line-number">38</span>
<span class="line-number">39</span>
<span class="line-number">40</span>
<span class="line-number">41</span>
<span class="line-number">42</span>
<span class="line-number">43</span>
<span class="line-number">44</span>
</pre></td><td class="code"><pre><code class="objc"><span class="line"><span class="cp">#import &quot;WeChatRedEnvelop.h&quot;</span>
</span><span class="line">
</span><span class="line"><span class="o">%</span><span class="n">hook</span> <span class="n">CMessageMgr</span>
</span><span class="line"><span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">AsyncOnAddMsg:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="n">msg</span> <span class="nl">MsgWrap:</span><span class="p">(</span><span class="n">CMessageWrap</span> <span class="o">*</span><span class="p">)</span><span class="n">wrap</span> <span class="p">{</span>
</span><span class="line">	<span class="o">%</span><span class="n">orig</span><span class="p">;</span>
</span><span class="line">
</span><span class="line">	<span class="k">switch</span><span class="p">(</span><span class="n">wrap</span><span class="p">.</span><span class="n">m_uiMessageType</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">	<span class="k">case</span> <span class="mi">49</span><span class="o">:</span> <span class="p">{</span> <span class="c1">// AppNode</span>
</span><span class="line">
</span><span class="line">		<span class="n">CContactMgr</span> <span class="o">*</span><span class="n">contactManager</span> <span class="o">=</span> <span class="p">[[</span><span class="n">objc_getClass</span><span class="p">(</span><span class="s">&quot;MMServiceCenter&quot;</span><span class="p">)</span> <span class="n">defaultCenter</span><span class="p">]</span> <span class="nl">getService:</span><span class="p">[</span><span class="n">objc_getClass</span><span class="p">(</span><span class="s">&quot;CContactMgr&quot;</span><span class="p">)</span> <span class="n">class</span><span class="p">]];</span>
</span><span class="line">		<span class="n">CContact</span> <span class="o">*</span><span class="n">selfContact</span> <span class="o">=</span> <span class="p">[</span><span class="n">contactManager</span> <span class="n">getSelfContact</span><span class="p">];</span>
</span><span class="line">
</span><span class="line">
</span><span class="line">		<span class="k">if</span> <span class="p">([</span><span class="n">wrap</span><span class="p">.</span><span class="n">m_nsContent</span> <span class="nl">rangeOfString:</span><span class="s">@&quot;wxpay://&quot;</span><span class="p">].</span><span class="n">location</span> <span class="o">!=</span> <span class="n">NSNotFound</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// çº¢åŒ…</span>
</span><span class="line">			<span class="k">if</span> <span class="p">([</span><span class="n">wrap</span><span class="p">.</span><span class="n">m_nsFromUsr</span> <span class="nl">rangeOfString:</span><span class="s">@&quot;@chatroom&quot;</span><span class="p">].</span><span class="n">location</span> <span class="o">!=</span> <span class="n">NSNotFound</span> <span class="o">||</span>
</span><span class="line">				<span class="p">([</span><span class="n">wrap</span><span class="p">.</span><span class="n">m_nsToUsr</span> <span class="nl">rangeOfString:</span><span class="s">@&quot;@chatroom&quot;</span><span class="p">].</span><span class="n">location</span> <span class="o">!=</span> <span class="n">NSNotFound</span><span class="p">))</span> <span class="p">{</span> <span class="c1">// ç¾¤ç»„çº¢åŒ…æˆ–ç¾¤ç»„é‡Œè‡ªå·±å‘çš„çº¢åŒ…</span>
</span><span class="line">
</span><span class="line">				<span class="n">NSString</span> <span class="o">*</span><span class="n">nativeUrl</span> <span class="o">=</span> <span class="p">[[</span><span class="n">wrap</span> <span class="n">m_oWCPayInfoItem</span><span class="p">]</span> <span class="n">m_c2cNativeUrl</span><span class="p">];</span>
</span><span class="line">				<span class="n">nativeUrl</span> <span class="o">=</span> <span class="p">[</span><span class="n">nativeUrl</span> <span class="nl">substringFromIndex:</span><span class="p">[</span><span class="s">@&quot;wxpay://c2cbizmessagehandler/hongbao/receivehongbao?&quot;</span> <span class="n">length</span><span class="p">]];</span>
</span><span class="line">
</span><span class="line">				<span class="n">NSDictionary</span> <span class="o">*</span><span class="n">nativeUrlDict</span> <span class="o">=</span> <span class="p">[</span><span class="o">%</span><span class="n">c</span><span class="p">(</span><span class="n">WCBizUtil</span><span class="p">)</span> <span class="nl">dictionaryWithDecodedComponets:</span><span class="n">nativeUrl</span> <span class="nl">separator:</span><span class="s">@&quot;&amp;&quot;</span><span class="p">];</span>
</span><span class="line">
</span><span class="line">				<span class="cm">/** æ„é€ å‚æ•° */</span>
</span><span class="line">				<span class="n">NSMutableDictionary</span> <span class="o">*</span><span class="n">params</span> <span class="o">=</span> <span class="p">[</span><span class="err">@</span><span class="p">{}</span> <span class="n">mutableCopy</span><span class="p">];</span>
</span><span class="line">				<span class="p">[</span><span class="n">params</span> <span class="nl">safeSetObject:</span><span class="n">nativeUrlDict</span><span class="p">[</span><span class="s">@&quot;msgtype&quot;</span><span class="p">]</span> <span class="nl">forKey:</span><span class="s">@&quot;msgType&quot;</span><span class="p">];</span>
</span><span class="line">				<span class="p">[</span><span class="n">params</span> <span class="nl">safeSetObject:</span><span class="n">nativeUrlDict</span><span class="p">[</span><span class="s">@&quot;sendid&quot;</span><span class="p">]</span> <span class="nl">forKey:</span><span class="s">@&quot;sendId&quot;</span><span class="p">];</span>
</span><span class="line">				<span class="p">[</span><span class="n">params</span> <span class="nl">safeSetObject:</span><span class="n">nativeUrlDict</span><span class="p">[</span><span class="s">@&quot;channelid&quot;</span><span class="p">]</span> <span class="nl">forKey:</span><span class="s">@&quot;channelId&quot;</span><span class="p">];</span>
</span><span class="line">				<span class="p">[</span><span class="n">params</span> <span class="nl">safeSetObject:</span><span class="p">[</span><span class="n">selfContact</span> <span class="n">getContactDisplayName</span><span class="p">]</span> <span class="nl">forKey:</span><span class="s">@&quot;nickName&quot;</span><span class="p">];</span>
</span><span class="line">				<span class="p">[</span><span class="n">params</span> <span class="nl">safeSetObject:</span><span class="p">[</span><span class="n">selfContact</span> <span class="n">m_nsHeadImgUrl</span><span class="p">]</span> <span class="nl">forKey:</span><span class="s">@&quot;headImg&quot;</span><span class="p">];</span>
</span><span class="line">				<span class="p">[</span><span class="n">params</span> <span class="nl">safeSetObject:</span><span class="p">[[</span><span class="n">wrap</span> <span class="n">m_oWCPayInfoItem</span><span class="p">]</span> <span class="n">m_c2cNativeUrl</span><span class="p">]</span> <span class="nl">forKey:</span><span class="s">@&quot;nativeUrl&quot;</span><span class="p">];</span>
</span><span class="line">				<span class="p">[</span><span class="n">params</span> <span class="nl">safeSetObject:</span><span class="n">wrap</span><span class="p">.</span><span class="n">m_nsFromUsr</span> <span class="nl">forKey:</span><span class="s">@&quot;sessionUserName&quot;</span><span class="p">];</span>
</span><span class="line">
</span><span class="line">				<span class="n">WCRedEnvelopesLogicMgr</span> <span class="o">*</span><span class="n">logicMgr</span> <span class="o">=</span> <span class="p">[[</span><span class="n">objc_getClass</span><span class="p">(</span><span class="s">&quot;MMServiceCenter&quot;</span><span class="p">)</span> <span class="n">defaultCenter</span><span class="p">]</span> <span class="nl">getService:</span><span class="p">[</span><span class="n">objc_getClass</span><span class="p">(</span><span class="s">&quot;WCRedEnvelopesLogicMgr&quot;</span><span class="p">)</span> <span class="n">class</span><span class="p">]];</span>
</span><span class="line">				<span class="p">[</span><span class="n">logicMgr</span> <span class="nl">OpenRedEnvelopesRequest:</span><span class="n">params</span><span class="p">];</span>
</span><span class="line">			<span class="p">}</span>
</span><span class="line">		<span class="p">}</span>
</span><span class="line">		<span class="k">break</span><span class="p">;</span>
</span><span class="line">	<span class="p">}</span>
</span><span class="line">	<span class="k">default</span><span class="o">:</span>
</span><span class="line">		<span class="k">break</span><span class="p">;</span>
</span><span class="line">	<span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="p">}</span>
</span><span class="line"><span class="o">%</span><span class="n">end</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>

<hr />

<p class="post-footer">
                        written by <a href="http://ITMonkeyLife.github.io/Blog">Rick</a>&nbsp;posted at <a href="http://ITMonkeyLife.github.io/Blog">http://ITMonkeyLife.github.io/Blog</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[é¢å‘å¯¹è±¡ä¹‹æ•°æ®æŠ½è±¡]]></title>
    <link href="http://ITMonkeyLife.github.io/Blog/blog/2016/10/14/mian-xiang-dui-xiang-zhi-shu-ju-chou-xiang/"/>
    <updated>2016-10-14T16:33:04+08:00</updated>
    <id>http://ITMonkeyLife.github.io/Blog/blog/2016/10/14/mian-xiang-dui-xiang-zhi-shu-ju-chou-xiang</id>
    <content type="html"><![CDATA[<h3 id="oo-programming">OO Programming</h3>
<p>Javaä¸­çš„ç¼–ç¨‹ä¸»è¦åŸºäºæ„å»ºæ•°æ®ç±»å‹ã€‚ è¿™ç§ç¼–ç¨‹é£æ ¼è¢«ç§°ä¸ºé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œå› ä¸ºå®ƒå›´ç»•ç€å¯¹è±¡çš„æ¦‚å¿µï¼Œå¯¹è±¡æ˜¯ä¸€ä¸ªä¿å­˜æ•°æ®ç±»å‹å€¼çš„å®ä½“ã€‚ å¯¹äºJavaçš„åŸå§‹ç±»å‹ï¼Œæˆ‘ä»¬ä¸»è¦å±€é™äºå¯¹æ•°å­—è¿›è¡Œæ“ä½œçš„ç¨‹åºï¼Œä½†æ˜¯å¯¹äºå¼•ç”¨ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™æ“ä½œå­—ç¬¦ä¸²ï¼Œå›¾ç‰‡ï¼Œå£°éŸ³æˆ–è€…åœ¨Javaæ ‡å‡†åº“ä¸­æˆ–åœ¨æˆ‘ä»¬çš„ä¹¦ç«™ä¸Šå¯ç”¨çš„æ•°ç™¾ä¸ªå…¶ä»–æŠ½è±¡ä¸­çš„ä»»ä½•ä¸€ä¸ª ã€‚ æ¯”é¢„å®šä¹‰æ•°æ®ç±»å‹çš„åº“æ›´é‡è¦çš„æ˜¯ï¼ŒJavaç¼–ç¨‹ä¸­å¯ç”¨çš„æ•°æ®ç±»å‹èŒƒå›´æ˜¯å¼€æ”¾å¼çš„ï¼Œå› ä¸ºæ‚¨å¯ä»¥å®šä¹‰è‡ªå·±çš„æ•°æ®ç±»å‹ã€‚
1. æ•°æ®ç±»å‹ã€‚ æ•°æ®ç±»å‹æ˜¯ä¸€ç»„å€¼å’Œä¸€ç»„å¯¹è¿™äº›å€¼çš„æ“ä½œã€‚
2. æŠ½è±¡æ•°æ®ç±»å‹ã€‚ æŠ½è±¡æ•°æ®ç±»å‹æ˜¯å…¶å†…éƒ¨è¡¨ç¤ºå¯¹å®¢æˆ·ç«¯éšè—çš„æ•°æ®ç±»å‹ã€‚
3. å¯¹è±¡ã€‚ å¯¹è±¡æ˜¯å¯ä»¥æ¥å—æ•°æ®ç±»å‹å€¼çš„å®ä½“ã€‚ å¯¹è±¡çš„ç‰¹å¾åœ¨äºä¸‰ä¸ªåŸºæœ¬å±æ€§ï¼šå¯¹è±¡çš„çŠ¶æ€æ˜¯æ¥è‡ªå…¶æ•°æ®ç±»å‹çš„å€¼; å¯¹è±¡çš„èº«ä»½å°†ä¸€ä¸ªå¯¹è±¡ä¸å¦ä¸€ä¸ªå¯¹è±¡åŒºåˆ†å¼€; å¯¹è±¡çš„è¡Œä¸ºæ˜¯æ•°æ®ç±»å‹æ“ä½œçš„å½±å“ã€‚ åœ¨Javaä¸­ï¼Œå¼•ç”¨æ˜¯è®¿é—®å¯¹è±¡çš„æœºåˆ¶ã€‚
4. åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ï¼ˆAPIï¼‰ã€‚ ä¸ºäº†æŒ‡å®šæŠ½è±¡æ•°æ®ç±»å‹çš„è¡Œä¸ºï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªåº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ï¼ˆAPIï¼‰ï¼Œå®ƒæ˜¯æ„é€ å‡½æ•°å’Œå®ä¾‹æ–¹æ³•ï¼ˆæ“ä½œï¼‰çš„åˆ—è¡¨ï¼Œå¹¶å¯¹æ¯ä¸ªå‡½æ•°çš„æ•ˆæœè¿›è¡Œéæ­£å¼æè¿°ï¼Œå¦‚æœ¬è®¡æ•°å™¨çš„APIä¸€æ ·ï¼š
<br /><img src="http://ITMonkeyLife.github.io/Blog/images/algorithms/alogrithms_1.2_counter-api.png" /><br />
5. å®¢æˆ·ã€‚ å®¢æˆ·ç«¯æ˜¯ä½¿ç”¨æ•°æ®ç±»å‹çš„ç¨‹åºã€‚
6. å®ç°ã€‚ å®ç°æ˜¯å®ç°APIä¸­æŒ‡å®šçš„æ•°æ®ç±»å‹çš„ä»£ç ã€‚</p>

<h3 id="section">ä½¿ç”¨æŠ½è±¡æ•°æ®ç±»å‹ã€‚</h3>
<p>å®¢æˆ·ç«¯ä¸éœ€è¦çŸ¥é“æ•°æ®ç±»å‹æ˜¯å¦‚ä½•å®ç°çš„ï¼Œä»¥ä¾¿èƒ½å¤Ÿä½¿ç”¨å®ƒã€‚
1. åˆ›å»ºå¯¹è±¡ã€‚ æ¯ä¸ªæ•°æ®ç±»å‹å€¼å­˜å‚¨åœ¨å¯¹è±¡ä¸­ã€‚ è¦åˆ›å»ºï¼ˆæˆ–å®ä¾‹åŒ–ï¼‰å•ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬ä½¿ç”¨å…³é”®å­—newè°ƒç”¨æ„é€ å‡½æ•°ã€‚ æ¯æ¬¡å®¢æˆ·ç«¯ä½¿ç”¨newæ—¶ï¼Œç³»ç»Ÿä¸ºå¯¹è±¡åˆ†é…å†…å­˜ç©ºé—´ï¼Œåˆå§‹åŒ–å…¶å€¼ï¼Œå¹¶è¿”å›å¯¹å¯¹è±¡çš„å¼•ç”¨ã€‚
<br /><img src="http://ITMonkeyLife.github.io/Blog/images/algorithms/alogrithms_1.2_constructor.png" /><br />
2. è°ƒç”¨å®ä¾‹æ–¹æ³•ã€‚ å®ä¾‹æ–¹æ³•çš„ç›®çš„æ˜¯å¯¹æ•°æ®ç±»å‹å€¼è¿›è¡Œæ“ä½œã€‚ å®ä¾‹æ–¹æ³•å…·æœ‰é™æ€æ–¹æ³•çš„æ‰€æœ‰å±æ€§ï¼šå‚æ•°é€šè¿‡å€¼ä¼ é€’ï¼Œæ–¹æ³•åç§°å¯ä»¥é‡è½½ï¼Œå®ƒä»¬å¯èƒ½å…·æœ‰è¿”å›å€¼ï¼Œå¹¶ä¸”å®ƒä»¬å¯èƒ½å¯¼è‡´å‰¯ä½œç”¨ã€‚ ä»–ä»¬æœ‰ä¸€ä¸ªé¢å¤–çš„å±æ€§ï¼Œè¡¨å¾ä»–ä»¬ï¼šæ¯ä¸ªè°ƒç”¨ä¸ä¸€ä¸ªå¯¹è±¡ç›¸å…³è”ã€‚
<br /><img src="http://ITMonkeyLife.github.io/Blog/images/algorithms/alogrithms_1.2_instance-method.png" /><br />
3. ä½¿ç”¨å¯¹è±¡ã€‚ å£°æ˜ç»™äº†æˆ‘ä»¬å¯ä»¥åœ¨ä»£ç ä¸­ä½¿ç”¨çš„å¯¹è±¡çš„å˜é‡åã€‚ è¦ä½¿ç”¨ç»™å®šçš„æ•°æ®ç±»å‹ï¼Œæˆ‘ä»¬ï¼š
	* å£°æ˜ç±»å‹çš„å˜é‡ï¼Œç”¨äºå¼•ç”¨å¯¹è±¡
  * ä½¿ç”¨å…³é”®å­—newæ¥è°ƒç”¨åˆ›å»ºç±»å‹å¯¹è±¡çš„æ„é€ å‡½æ•°
  * ä½¿ç”¨å¯¹è±¡åç§°æ¥è°ƒç”¨å®ä¾‹æ–¹æ³•ï¼Œä½œä¸ºè¯­å¥æˆ–è¡¨è¾¾å¼
ä¾‹å¦‚ï¼Œ<a href="http://algs4.cs.princeton.edu/12oop/Flips.java.html">Flips.java</a>æ˜¯ä¸€ä¸ª<a href="http://algs4.cs.princeton.edu/12oop/Counter.java.html">Counter.java</a>å®¢æˆ·ç«¯ï¼Œå®ƒæ¥å—å‘½ä»¤è¡Œå‚æ•°Tå¹¶æ¨¡æ‹ŸTç¡¬å¸ç¿»è½¬ã€‚
4. åˆ†é…è¯­å¥ã€‚ å…·æœ‰å¼•ç”¨ç±»å‹çš„èµ‹å€¼è¯­å¥åˆ›å»ºå¼•ç”¨çš„å‰¯æœ¬ï¼ˆå¹¶ä¸”ä¸åˆ›å»ºæ–°å¯¹è±¡ï¼‰ã€‚ è¿™ç§æƒ…å†µç§°ä¸ºåˆ«åï¼šä¸¤ä¸ªå˜é‡éƒ½æŒ‡å‘ç›¸åŒçš„å¯¹è±¡ã€‚ åˆ«åæ˜¯Javaç¨‹åºä¸­å¸¸è§çš„é”™è¯¯æ¥æºï¼Œå¦‚ä»¥ä¸‹ç¤ºä¾‹æ‰€ç¤ºï¼š</p>
<p>
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="java"><span class="line"><span class="n">Counter</span> <span class="n">c1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Counter</span><span class="o">(</span><span class="s">&quot;ones&quot;</span><span class="o">);</span>
</span><span class="line"><span class="n">c1</span><span class="o">.</span><span class="na">increment</span><span class="o">();</span>
</span><span class="line"><span class="n">Counter</span> <span class="n">c2</span> <span class="o">=</span> <span class="n">c1</span><span class="o">;</span>
</span><span class="line"><span class="n">c2</span><span class="o">.</span><span class="na">increment</span><span class="o">();</span>
</span><span class="line"><span class="n">StdOut</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">c1</span><span class="o">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>
<p>ä»£ç æ‰“å°å­—ç¬¦ä¸²â€œ2 onesâ€ã€‚</p>
<hr />

<p class="post-footer">
                        written by <a href="http://ITMonkeyLife.github.io/Blog">Rick</a>&nbsp;posted at <a href="http://ITMonkeyLife.github.io/Blog">http://ITMonkeyLife.github.io/Blog</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ç®—æ³•ä¹‹ç¨‹åºæ¨¡å‹]]></title>
    <link href="http://ITMonkeyLife.github.io/Blog/blog/2016/10/13/suan-fa-zhi-cheng-xu-mo-xing/"/>
    <updated>2016-10-13T20:41:28+08:00</updated>
    <id>http://ITMonkeyLife.github.io/Blog/blog/2016/10/13/suan-fa-zhi-cheng-xu-mo-xing</id>
    <content type="html"><![CDATA[<p>
æˆ‘ä»¬å¯¹ç®—æ³•çš„ç ”ç©¶æ˜¯åŸºäºå°†å®ƒä»¬å®ç°ä¸ºç”¨Javaç¼–ç¨‹è¯­è¨€ç¼–å†™çš„ç¨‹åºã€‚ æˆ‘ä»¬è¿™æ ·åšæœ‰å‡ ä¸ªåŸå› ï¼š
<ul>
<li> æˆ‘ä»¬çš„ç¨‹åºæ˜¯ç®€æ´ï¼Œä¼˜é›…ï¼Œå®Œæ•´çš„ç®—æ³•æè¿°ã€‚</li>
<li> æ‚¨å¯ä»¥è¿è¡Œç¨‹åºæ¥ç ”ç©¶ç®—æ³•çš„å±æ€§ã€‚</li>
<li> æ‚¨å¯ä»¥ç«‹å³åœ¨åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ç®—æ³•ã€‚</li>
</ul>
</p>
<p>
<h2>åŸå§‹æ•°æ®ç±»å‹å’Œè¡¨è¾¾å¼</h2> <em>æ•°æ®ç±»å‹</em> æ˜¯ä¸€ç»„å€¼å’Œä¸€ç»„å¯¹è¿™äº›å€¼çš„æ“ä½œã€‚ä»¥ä¸‹å››ç§åŸºæœ¬æ•°æ®ç±»å‹æ˜¯Javaè¯­è¨€çš„åŸºç¡€ï¼š
<ul>
<li>æ•´æ•°ï¼Œå¸¦ç®—æœ¯è¿ç®—ï¼ˆintï¼‰</li>
<li>å®æ•°ï¼Œå†æ¬¡ä¸ç®—æœ¯è¿ç®—(<tt>double</tt>)</li>
<li>å¸ƒå°”å€¼ï¼Œå¸¦æœ‰é€»è¾‘è¿ç®—ç¬¦çš„å€¼{trueï¼Œfalse}çš„é›†åˆï¼ˆå¸ƒå°”ï¼‰</li>
<li>å­—ç¬¦ï¼Œæ‚¨é”®å…¥çš„å­—æ¯æ•°å­—å­—ç¬¦å’Œç¬¦å·ï¼ˆcharï¼‰</li>
</ul>
Javaç¨‹åºæ“ä½œä»¥æ ‡è¯†ç¬¦å‘½åçš„å˜é‡ã€‚ æ¯ä¸ªå˜é‡ä¸æ•°æ®ç±»å‹ç›¸å…³è”ï¼Œå¹¶å­˜å‚¨å…è®¸çš„æ•°æ®ç±»å‹å€¼ä¹‹ä¸€ã€‚ æˆ‘ä»¬ä½¿ç”¨è¡¨è¾¾å¼æ¥åº”ç”¨ä¸æ¯ä¸ªç±»å‹ç›¸å…³è”çš„æ“ä½œã€‚
<br /><img src="http://ITMonkeyLife.github.io/Blog/images/algorithms/alogorithms_1.1_building-blocks.png" />
<br />ä¸‹è¡¨æ€»ç»“äº†å¯¹äºJavaçš„intï¼Œdoubleï¼Œbooleanå’Œcharæ•°æ®ç±»å‹çš„å€¼çš„é›†åˆå’Œæœ€å¸¸è§çš„æ“ä½œã€‚
<br /><img src="http://ITMonkeyLife.github.io/Blog/images/algorithms/alogorithms_1.1_primitive.png" />
<ul>
<li>è¡¨è¾¾å¼ã€‚ å…¸å‹çš„è¡¨è¾¾å¼æ˜¯ä¸­ç¼€ã€‚ å½“è¡¨è¾¾å¼åŒ…å«å¤šä¸ªè¿ç®—ç¬¦æ—¶ï¼Œä¼˜å…ˆçº§é¡ºåºæŒ‡å®šå®ƒä»¬çš„åº”ç”¨é¡ºåºï¼šè¿ç®—ç¬¦*å’Œ/ï¼ˆå’Œï¼…ï¼‰çš„ä¼˜å…ˆçº§é«˜äºï¼ˆåº”ç”¨äºï¼‰+å’Œ - è¿ç®—ç¬¦; åœ¨é€»è¾‘è¿ç®—ç¬¦ä¹‹é—´ï¼ æ˜¯æœ€é«˜ä¼˜å…ˆçº§ï¼Œåè·Ÿ&amp;&amp;å’Œç„¶å||ã€‚ é€šå¸¸ï¼Œç›¸åŒä¼˜å…ˆçº§çš„è¿ç®—ç¬¦æ˜¯å·¦å…³è”çš„ï¼ˆä»å·¦åˆ°å³åº”ç”¨ï¼‰ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨æ‹¬å·æ¥è¦†ç›–è¿™äº›è§„åˆ™ã€‚</li>
<li>ç±»å‹è½¬æ¢ã€‚ å¦‚æœæ²¡æœ‰ä¸¢å¤±ä¿¡æ¯ï¼Œåˆ™æ•°å­—å°†è‡ªåŠ¨æå‡ä¸ºæ›´å…·åŒ…å®¹æ€§çš„ç±»å‹ã€‚ä¾‹å¦‚ï¼Œåœ¨è¡¨è¾¾å¼1 + 2.5ä¸­ï¼Œ1è¢«æå‡ä¸ºåŒç²¾åº¦å€¼1.0ï¼Œè¡¨è¾¾å¼çš„å€¼ä¸ºåŒç²¾åº¦å€¼3.5ã€‚ è½¬æ¢æ˜¯å°†ä¸€ä¸ªç±»å‹çš„å€¼è½¬æ¢ä¸ºå¦ä¸€ä¸ªç±»å‹çš„å€¼çš„æŒ‡ä»¤ã€‚ ä¾‹å¦‚ï¼ˆintï¼‰3.7æ˜¯3.å°†doubleè½¬æ¢ä¸ºintå°†æˆªæ–­åˆ°é›¶ã€‚</li>
<li>æ¯”è¾ƒã€‚ ä»¥ä¸‹æ··åˆç±»å‹è¿ç®—ç¬¦æ¯”è¾ƒç›¸åŒç±»å‹çš„ä¸¤ä¸ªå€¼å¹¶ç”Ÿæˆå¸ƒå°”å€¼ï¼š
<ul>
<li>ç›¸ç­‰ (==)</li>
<li>ä¸ç­‰ (!=)</li>
<li>å°äº (&lt;)</li>
<li><em>å°äºç­‰äº</em> (&lt;=)</li>
<li><em>å¤§äº</em> (&gt;)</li>
<li><em>å¤§äºç­‰äº</em> (&gt;=)</li>
</ul></li>
<li>å…¶ä»–åŸè¯­ç±»å‹ã€‚
Javaçš„intæœ‰ä¸€ä¸ª32ä½çš„è¡¨ç¤º; Javaçš„doubleç±»å‹å…·æœ‰64ä½è¡¨ç¤ºã€‚ Javaæœ‰äº”ç§é¢å¤–çš„åŸå§‹æ•°æ®ç±»å‹ï¼š
<ul>
<li>64ä½æ•´æ•°ï¼Œå¸¦ç®—æœ¯è¿ç®—ï¼ˆé•¿æ•´å‹ï¼‰</li>
<li>16ä½æ•´æ•°ï¼Œå¸¦ç®—æœ¯è¿ç®—ï¼ˆçŸ­ï¼‰</li>
<li>16ä½å­—ç¬¦ï¼Œå¸¦ç®—æœ¯è¿ç®—ï¼ˆcharï¼‰</li>
<li>8ä½æ•´æ•°ï¼Œå¸¦ç®—æœ¯è¿ç®—ï¼ˆå­—èŠ‚ï¼‰</li>
<li>32ä½å•ç²¾åº¦å®æ•°ï¼Œå¸¦ç®—æœ¯è¿ç®—ï¼ˆfloatï¼‰</li>
</ul></li>
</ul>
<br />
</p>
<!--more-->
<p><h2>è¯­å¥</h2>Javaç¨‹åºç”±è¯­å¥ç»„æˆï¼Œè¯­å¥é€šè¿‡åˆ›å»ºå’Œæ“ä½œå˜é‡ï¼Œä¸ºå…¶åˆ†é…æ•°æ®ç±»å‹å€¼ä»¥åŠæ§åˆ¶è¿™äº›æ“ä½œçš„æ‰§è¡Œæµç¨‹æ¥å®šä¹‰è®¡ç®—ã€‚
<ul>
<li>å£°æ˜åˆ›å»ºæŒ‡å®šç±»å‹çš„å˜é‡ï¼Œå¹¶ç”¨æ ‡è¯†ç¬¦å‘½åå®ƒä»¬ã€‚ Javaæ˜¯ä¸€ç§å¼ºç±»å‹è¯­è¨€ï¼Œå› ä¸ºJavaç¼–è¯‘å™¨æ£€æŸ¥ä¸€è‡´æ€§ã€‚ å˜é‡çš„èŒƒå›´æ˜¯å®šä¹‰å®ƒçš„ç¨‹åºçš„ä¸€éƒ¨åˆ†ã€‚</li>
<li>åˆ†é…å°†æ•°æ®ç±»å‹å€¼ï¼ˆç”±è¡¨è¾¾å¼å®šä¹‰ï¼‰ä¸å˜é‡å…³è”ã€‚</li>
<li>åˆå§‹åŒ–å£°æ˜å°†å£°æ˜ä¸èµ‹å€¼ç›¸ç»“åˆï¼Œä»¥ä¾¿åœ¨å£°æ˜å˜é‡çš„åŒæ—¶åˆå§‹åŒ–å˜é‡ã€‚</li>
<li>éšå¼åˆ†é…ã€‚ å½“æˆ‘ä»¬çš„ç›®çš„æ˜¯ä¿®æ”¹å˜é‡ç›¸å¯¹äºå½“å‰å€¼çš„å€¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å¿«æ·é”®ï¼š
<ul>
<li>é€’å¢/é€’å‡è¿ç®—ç¬¦ï¼šä»£ç i ++æ˜¯i = i + 1çš„ç¼©å†™ã€‚é™¤äº†è¡¨è¾¾å¼å€¼æ˜¯åœ¨é€’å¢/é€’å‡ä¹‹åï¼Œè€Œä¸æ˜¯ä¹‹å‰ï¼Œä»£ç ++ iæ˜¯ç›¸åŒçš„ã€‚</li>
<li>å…¶ä»–å¤åˆè¿ç®—ç¬¦ï¼šä»£ç i / = 2æ˜¯i = i / 2çš„ç¼©å†™ã€‚</li>
</ul></li>
<li>æ¡ä»¶æä¾›äº†æ‰§è¡Œæµç¨‹çš„ç®€å•æ”¹å˜ - æ ¹æ®æŒ‡å®šçš„æ¡ä»¶ï¼Œåœ¨ä¸¤ä¸ªå—ä¸­çš„ä¸€ä¸ªå—ä¸­æ‰§è¡Œè¯­å¥ã€‚</li>
<li>å¾ªç¯æä¾›äº†æ‰§è¡Œæµç¨‹ä¸­æ›´æ·±åˆ»çš„å˜åŒ– - åªè¦ç»™å®šæ¡ä»¶ä¸ºçœŸï¼Œå°±æ‰§è¡Œå—ä¸­çš„è¯­å¥ã€‚ æˆ‘ä»¬å°†å¾ªç¯ä¸­çš„å—ä¸­çš„è¯­å¥ç§°ä¸ºå¾ªç¯ä½“ã€‚</li>
<li>breakå’Œcontinueã€‚ Javaæ”¯æŒåœ¨whileå¾ªç¯ä¸­ä½¿ç”¨ä¸¤ä¸ªé™„åŠ è¯­å¥ï¼š
<ul>
<li>breakè¯­å¥ï¼Œå®ƒç«‹å³é€€å‡ºå¾ªç¯</li>
<li>continueè¯­å¥ï¼Œå®ƒç«‹å³å¼€å§‹å¾ªç¯çš„ä¸‹ä¸€æ¬¡è¿­ä»£</li>
</ul></li>
<li>ç¬¦å·ã€‚ è®¸å¤šå¾ªç¯éµå¾ªè¿™ä¸ªæ–¹æ¡ˆï¼šå°†ç´¢å¼•å˜é‡åˆå§‹åŒ–ä¸ºæŸä¸ªå€¼ï¼Œç„¶åä½¿ç”¨whileå¾ªç¯æµ‹è¯•æ¶‰åŠç´¢å¼•å˜é‡çš„å¾ªç¯ç»§ç»­æ¡ä»¶ï¼Œå…¶ä¸­whileå¾ªç¯ä¸­çš„æœ€åä¸€ä¸ªè¯­å¥å¢åŠ ç´¢å¼•å˜é‡ã€‚ ä½ å¯ä»¥ç”¨Javaçš„è¡¨ç¤ºæ³•æ¥è¡¨è¾¾è¿™æ ·çš„å¾ªç¯ã€‚</li>
<li>å•è¯­å¥å—ã€‚ å¦‚æœæ¡ä»¶æˆ–å¾ªç¯ä¸­çš„è¯­å¥å—åªæœ‰ä¸€ä¸ªè¯­å¥ï¼Œåˆ™å¯ä»¥çœç•¥èŠ±æ‹¬å·ã€‚</li>
</ul>
ä¸‹è¡¨è¯´æ˜äº†ä¸åŒç§ç±»çš„Javaè¯­å¥ã€‚
<br /><img src="http://ITMonkeyLife.github.io/Blog/images/algorithms/alogorithms_1.1_statements.png" />
</p>
<p>
<h2>æ•°ç»„ã€‚</h2> æ•°ç»„å­˜å‚¨æ‰€æœ‰ç›¸åŒç±»å‹çš„å€¼åºåˆ—ã€‚ å¦‚æœæˆ‘ä»¬æœ‰Nä¸ªå€¼ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç¬¦å·a [i]æ¥æŒ‡ä»£ä»0åˆ°N-1çš„içš„ä»»ä½•å€¼çš„ç¬¬iä¸ªå€¼ã€‚
<ul>
<li>åˆ›å»ºå’Œåˆå§‹åŒ–æ•°ç»„ã€‚ åœ¨Javaç¨‹åºä¸­åˆ›å»ºæ•°ç»„æ¶‰åŠä¸‰ä¸ªä¸åŒçš„æ­¥éª¤ï¼š
<ul>
<li>å£°æ˜æ•°ç»„çš„ç±»å‹å’Œåç§°</li>
<li>åˆ›å»ºæ•°ç»„</li>
<li>åˆå§‹åŒ–æ•°ç»„çš„å€¼</li>
</ul></li>
<li>é»˜è®¤æ•°ç»„åˆå§‹åŒ–ã€‚ å¯¹äºä»£ç æ›´ç®€æ´ï¼Œæˆ‘ä»¬ç»å¸¸åˆ©ç”¨Javaçš„é»˜è®¤æ•°ç»„åˆå§‹åŒ–çº¦å®šï¼Œå¹¶å°†æ‰€æœ‰ä¸‰ä¸ªæ­¥éª¤ç»„åˆæˆä¸€ä¸ªè¯­å¥ã€‚ å¯¹äºæ•°å­—ç±»å‹ï¼Œé»˜è®¤åˆå§‹å€¼ä¸ºé›¶ï¼Œå¯¹äºç±»å‹å¸ƒå°”å€¼ä¸ºfalseã€‚</li>
<li>åˆå§‹åŒ–å£°æ˜ã€‚ æˆ‘ä»¬å¯ä»¥åœ¨ç¼–è¯‘æ—¶æŒ‡å®šåˆå§‹åŒ–å€¼ï¼Œæ–¹æ³•æ˜¯åœ¨èŠ±æ‹¬å·ä¹‹é—´åˆ—å‡ºæ–‡å­—å€¼ï¼Œç”¨é€—å·åˆ†éš”ã€‚</li>
<br /><img src="http://ITMonkeyLife.github.io/Blog/images/algorithms/alogorithms_1.1_array.png" />
<li>ä½¿ç”¨æ•°ç»„ã€‚ ä¸€æ—¦æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„å¤§å°æ˜¯å›ºå®šçš„ã€‚ ç¨‹åºå¯ä»¥ä½¿ç”¨ä»£ç a.lengthå¼•ç”¨æ•°ç»„a []çš„é•¿åº¦ã€‚ Javaæ‰§è¡Œè‡ªåŠ¨è¾¹ç•Œæ£€æŸ¥ - å¦‚æœä½ è®¿é—®ä¸€ä¸ªéæ³•ç´¢å¼•çš„æ•°ç»„ï¼Œä½ çš„ç¨‹åºå°†ç»ˆæ­¢ArrayIndexOutOfBoundsExceptionã€‚</li>
<li>åˆ«åã€‚ æ•°ç»„åç§°å¼•ç”¨æ•´ä¸ªæ•°ç»„ - å¦‚æœæˆ‘ä»¬å°†ä¸€ä¸ªæ•°ç»„åç§°æŒ‡å®šç»™å¦ä¸€ä¸ªæ•°ç»„åç§°ï¼Œé‚£ä¹ˆå®ƒä»¬éƒ½å¼•ç”¨ç›¸åŒçš„æ•°ç»„ï¼Œå¦‚ä¸‹é¢çš„ä»£ç ç‰‡æ®µæ‰€ç¤ºã€‚
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="java"><span class="line"><span class="kt">int</span><span class="o">[]</span> <span class="n">a</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">N</span><span class="o">];</span>
</span><span class="line"><span class="o">...</span>
</span><span class="line"><span class="n">a</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="mi">1234</span><span class="o">;</span>
</span><span class="line"><span class="o">...</span>
</span><span class="line"><span class="kt">int</span><span class="o">[]</span> <span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">;</span>
</span><span class="line"><span class="o">...</span>
</span><span class="line"><span class="n">b</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="mi">5678</span><span class="o">;</span>   <span class="c1">// a[i] is now 5678.</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
è¿™ç§æƒ…å†µè¢«ç§°ä¸ºæ··å ï¼Œå¹¶ä¸”å¯èƒ½å¯¼è‡´å¾®å¦™çš„é”™è¯¯ã€‚</li>
<li>äºŒç»´æ•°ç»„ã€‚ Javaä¸­çš„äºŒç»´æ•°ç»„æ˜¯ä¸€ç»´æ•°ç»„çš„æ•°ç»„ã€‚ äºŒç»´é˜µåˆ—å¯ä»¥æ˜¯ç²—ç³™çš„ï¼ˆå…¶é˜µåˆ—å¯ä»¥éƒ½å…·æœ‰ä¸åŒçš„é•¿åº¦ï¼‰ï¼Œä½†æ˜¯æˆ‘ä»¬æœ€å¸¸ä½¿ç”¨ï¼ˆå¯¹äºé€‚å½“çš„å‚æ•°Må’ŒNï¼‰Mä¹˜Nçš„äºŒç»´é˜µåˆ—ã€‚ ä¸ºäº†å¼•ç”¨äºŒç»´æ•°ç»„a [] []çš„è¡Œiå’Œåˆ—jä¸­çš„æ¡ç›®ï¼Œæˆ‘ä»¬ä½¿ç”¨ç¬¦å·a [i] [j]ã€‚</li>
</ul>
</p>
<p>
<h2>é™æ€æ–¹æ³•ã€‚</h2> é™æ€æ–¹æ³•åœ¨è®¸å¤šç¼–ç¨‹è¯­è¨€ä¸­è¢«ç§°ä¸ºå‡½æ•°ï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥è¡¨ç°å¾—åƒæ•°å­¦å‡½æ•°ã€‚ æ¯ä¸ªé™æ€æ–¹æ³•æ˜¯ä¸€ç³»åˆ—è¯­å¥ï¼Œå®ƒä»¬åœ¨è°ƒç”¨é™æ€æ–¹æ³•æ—¶ä¸€ä¸ªæ¥ä¸€ä¸ªæ‰§è¡Œã€‚
<ul>
<li>å®šä¹‰é™æ€æ–¹æ³•ã€‚ æ–¹æ³•å°è£…è¢«å®šä¹‰ä¸ºè¯­å¥åºåˆ—çš„è®¡ç®—ã€‚ æ–¹æ³•æ¥å—å‚æ•°ï¼ˆç»™å®šæ•°æ®ç±»å‹çš„å€¼ï¼‰ï¼Œå¹¶è®¡ç®—ä¸€äº›æ•°æ®ç±»å‹çš„è¿”å›å€¼æˆ–å¯¼è‡´å‰¯ä½œç”¨ã€‚ æ¯ä¸ªé™æ€æ–¹æ³•ç”±ç­¾åå’Œä¸»ä½“ç»„æˆã€‚
<br /><img src="http://ITMonkeyLife.github.io/Blog/images/algorithms/alogorithms_1.1_static-method.png" /></li>
<li>è°ƒç”¨é™æ€æ–¹æ³•ã€‚ å¯¹é™æ€æ–¹æ³•çš„è°ƒç”¨æ˜¯å…¶åç§°ï¼Œåè·Ÿè¡¨è¾¾å¼ï¼ŒæŒ‡å®šæ‹¬å·ä¸­çš„å‚æ•°å€¼ï¼Œç”¨é€—å·åˆ†éš”ã€‚ å½“ä¸€ä¸ªæ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œå®ƒçš„å‚æ•°å˜é‡ç”¨è°ƒç”¨ä¸­ç›¸åº”è¡¨è¾¾å¼çš„å€¼åˆå§‹åŒ–ã€‚ è¿”å›è¯­å¥ç»ˆæ­¢é™æ€æ–¹æ³•ï¼Œå°†æ§åˆ¶æƒè¿”å›ç»™è°ƒç”¨è€…ã€‚ å¦‚æœé™æ€æ–¹æ³•æ˜¯è®¡ç®—å€¼ï¼Œåˆ™å¿…é¡»åœ¨returnè¯­å¥ä¸­æŒ‡å®šè¯¥å€¼ã€‚</li>
<li>æ–¹æ³•çš„å±æ€§ã€‚ Javaæ–¹æ³•å…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š
<ul>
<li>å‚æ•°é€šè¿‡å€¼ä¼ é€’ã€‚ è°ƒç”¨å‡½æ•°æ—¶ï¼Œå‚æ•°å€¼å°†å®Œå…¨æ±‚å€¼ï¼Œå¹¶å°†ç»“æœå€¼å¤åˆ¶åˆ°å‚æ•°å˜é‡ä¸­ã€‚ è¿™ç§°ä¸ºå€¼ä¼ é€’ã€‚ æ•°ç»„ï¼ˆå’Œå…¶ä»–å¯¹è±¡ï¼‰å¼•ç”¨ä¹Ÿé€šè¿‡å€¼ä¼ é€’ï¼šæ–¹æ³•ä¸èƒ½æ›´æ”¹å¼•ç”¨ï¼Œä½†å®ƒå¯ä»¥æ›´æ”¹æ•°ç»„ä¸­çš„æ¡ç›®ï¼ˆæˆ–å¯¹è±¡çš„å€¼ï¼‰ã€‚</li>
<li>æ–¹æ³•åç§°å¯ä»¥é‡è½½ã€‚ ç±»ä¸­çš„æ–¹æ³•å¯ä»¥å…·æœ‰ç›¸åŒçš„åç§°ï¼Œåªè¦å®ƒä»¬å…·æœ‰ä¸åŒçš„ç­¾åã€‚ æ­¤åŠŸèƒ½ç§°ä¸ºé‡è½½ã€‚</li>
<li>æ–¹æ³•å…·æœ‰å•ä¸ªè¿”å›å€¼ï¼Œä½†å¯èƒ½æœ‰å¤šä¸ªè¿”å›è¯­å¥ã€‚ Javaæ–¹æ³•åªèƒ½æä¾›ä¸€ä¸ªè¿”å›å€¼ã€‚ ä¸€æ—¦è¾¾åˆ°ç¬¬ä¸€ä¸ªreturnè¯­å¥ï¼Œæ§åˆ¶å°±è¿”å›è°ƒç”¨ç¨‹åºã€‚</li>
<li>ä¸€ç§æ–¹æ³•å¯èƒ½æœ‰å‰¯ä½œç”¨ã€‚ æ–¹æ³•å¯ä»¥ä½¿ç”¨å…³é”®å­—voidä½œä¸ºå…¶è¿”å›ç±»å‹ï¼Œä»¥æŒ‡ç¤ºå®ƒæ²¡æœ‰è¿”å›å€¼ï¼Œå¹¶äº§ç”Ÿå‰¯ä½œç”¨ï¼ˆæ¶ˆè€—è¾“å…¥ï¼Œäº§ç”Ÿè¾“å‡ºï¼Œæ”¹å˜æ•°ç»„ä¸­çš„æ¡ç›®ï¼Œæˆ–ä»¥å…¶å®ƒæ–¹å¼æ”¹å˜ç³»ç»Ÿçš„çŠ¶æ€ï¼‰ã€‚</li>
</ul></li>
<li>é€’å½’ã€‚ é€’å½’æ–¹æ³•æ˜¯ç›´æ¥æˆ–é—´æ¥è°ƒç”¨è‡ªèº«çš„æ–¹æ³•ã€‚ å¼€å‘é€’å½’ç¨‹åºæœ‰ä¸‰ä¸ªé‡è¦çš„ç»éªŒæ³•åˆ™ï¼š
<ul>
<li>é€’å½’å…·æœ‰åŸºæœ¬æ¡ˆä¾‹ã€‚</li>
<li>é€’å½’è°ƒç”¨å¿…é¡»è§£å†³åœ¨æŸç§æ„ä¹‰ä¸Šè¾ƒå°çš„å­é—®é¢˜ï¼Œå› æ­¤é€’å½’è°ƒç”¨ä¼šæ”¶æ•›åˆ°åŸºæœ¬æƒ…å†µã€‚</li>
<li>é€’å½’è°ƒç”¨ä¸åº”è§£å†³é‡å çš„å­é—®é¢˜ã€‚</li>
</ul></li>
<li>åŸºæœ¬ç¼–ç¨‹æ¨¡å‹ã€‚ é™æ€æ–¹æ³•åº“æ˜¯ä¸€ç»„åœ¨Javaç±»ä¸­å®šä¹‰çš„é™æ€æ–¹æ³•ã€‚ Javaç¼–ç¨‹çš„åŸºæœ¬æ¨¡å‹æ˜¯å¼€å‘ä¸€ä¸ªç¨‹åºï¼Œé€šè¿‡åˆ›å»ºä¸€ä¸ªé™æ€æ–¹æ³•åº“ï¼Œå…¶ä¸­ä¸€ä¸ªåä¸ºmainï¼ˆï¼‰ï¼Œæ¥è§£å†³ç‰¹å®šçš„è®¡ç®—ä»»åŠ¡ã€‚</li>
<li>æ¨¡å—åŒ–ç¼–ç¨‹ã€‚ é™æ€æ–¹æ³•çš„åº“å…è®¸æ¨¡å—åŒ–ç¼–ç¨‹ï¼Œå…¶ä¸­ä¸€ä¸ªåº“ä¸­çš„é™æ€æ–¹æ³•å¯ä»¥è°ƒç”¨å…¶ä»–åº“ä¸­å®šä¹‰çš„é™æ€æ–¹æ³•ã€‚ è¿™ç§æ–¹æ³•æœ‰è®¸å¤šé‡è¦çš„ä¼˜ç‚¹ã€‚
<ul>
<li>ä½¿ç”¨åˆç†å¤§å°çš„æ¨¡å—</li>
<li>å…±äº«å’Œé‡ç”¨ä»£ç ï¼Œè€Œä¸å¿…é‡æ–°å®ç°å®ƒ</li>
<li>æ›¿ä»£æ”¹è¿›çš„å®ç°</li>
<li>ä¸ºè§£å†³ç¼–ç¨‹é—®é¢˜å¼€å‘é€‚å½“çš„æŠ½è±¡æ¨¡å‹</li>
<li>æœ¬åœ°åŒ–è°ƒè¯•</li>
</ul></li>
<li>å•å…ƒæµ‹è¯•ã€‚ Javaç¼–ç¨‹çš„æœ€ä½³å®è·µæ˜¯åœ¨æ¯ä¸ªæµ‹è¯•åº“ä¸­çš„æ–¹æ³•çš„é™æ€æ–¹æ³•åº“ä¸­åŒ…å«ä¸€ä¸ªmainï¼ˆï¼‰ã€‚</li>
<li>å¤–éƒ¨åº“ã€‚ æˆ‘ä»¬ä½¿ç”¨æ¥è‡ªå››ç§ä¸åŒç±»å‹åº“çš„é™æ€æ–¹æ³•ï¼Œæ¯ç§éƒ½éœ€è¦ï¼ˆç•¥ï¼‰ä¸åŒçš„ä»£ç é‡ç”¨ç¨‹åºã€‚</li>
<ul>
<li>java.langä¸­çš„æ ‡å‡†ç³»ç»Ÿåº“ï¼ŒåŒ…æ‹¬java.lang.Mathï¼Œjava.lang.Integerå’Œjava.lang.Doubleã€‚</li>
<li>å¯¼å…¥çš„ç³»ç»Ÿåº“ï¼Œå¦‚java.util.Arraysã€‚ åœ¨ç¨‹åºå¼€å§‹æ—¶éœ€è¦ä¸€ä¸ªimportè¯­å¥æ¥ä½¿ç”¨è¿™æ ·çš„åº“ã€‚</li>
<li>æˆ‘ä»¬å¼€å‘ç”¨çš„æ ‡å‡†åº“ã€‚ è¦ä½¿ç”¨è¿™æ ·çš„ç¨‹åºï¼Œè¯·å°†æºç ä¸‹è½½åˆ°æ‚¨çš„å·¥ä½œç›®å½•ä¸­ï¼Œæˆ–æŒ‰ç…§<a href="http://algs4.cs.princeton.edu/code">ä»¥ä¸‹è¯´æ˜</a>å°†<a href="http://algs4.cs.princeton.edu/code/stdlib.jar">stdlib.jar</a>æ·»åŠ åˆ°ç±»è·¯å¾„ä¸­ã€‚</li>
</ul>
è¦ä»å¦ä¸€ä¸ªåº“è°ƒç”¨æ–¹æ³•ï¼Œæˆ‘ä»¬å°†åº“åç§°ä½œä¸ºæ¯ä¸ªè°ƒç”¨çš„æ–¹æ³•åç§°çš„å‰ç¼€ï¼šMath.sqrtï¼ˆï¼‰ï¼ŒArrays.sortï¼ˆï¼‰ï¼ŒBinarySearch.rankï¼ˆï¼‰å’ŒStdIn.readIntï¼ˆï¼‰ã€‚
</ul>
</p>
<p>
<h2>å­—ç¬¦ä¸²</h2>
<br /><img src="http://ITMonkeyLife.github.io/Blog/images/algorithms/alogorithms_1.1_string.png" />
<ul>
<li>ä¸²è”</li>
<li>è½¬æ¢</li>
<li>è‡ªåŠ¨è½¬æ¢ã€‚</li>
<li>å‘½ä»¤è¡Œå‚æ•°ã€‚</li>
</ul>
</p>

<p>
è¾“å…¥ä¸è¾“å‡º
<ul>
<li>å‘½ä»¤å’Œå‚æ•°ã€‚
<br /><img src="http://ITMonkeyLife.github.io/Blog/images/algorithms/alogorithms_1.1_command.png" /></li>
<li>æ ‡å‡†è¾“å‡º</li>
<li>æ ¼å¼åŒ–è¾“å‡º
<br /><img src="http://ITMonkeyLife.github.io/Blog/images/algorithms/alogorithms_1.1_printf.png" /></li>
<li>æ ‡å‡†è¾“å…¥</li>
<li>é‡å®šå‘å’Œç®¡é“ã€‚
<br /><img src="http://ITMonkeyLife.github.io/Blog/images/algorithms/alogorithms_1.1_redirect.png" /></li>
<li>ä»æ–‡ä»¶è¾“å…¥å’Œè¾“å‡ºã€‚</li>
<li>æ ‡å‡†ç»˜å›¾</li>
</ul>
</p>
<p>
<h2>äºŒè¿›åˆ¶æœç´¢ã€‚</h2> ä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´çš„Javaç¨‹åº<a href="http://algs4.cs.princeton.edu/11model/BinarySearch.java.html">BinarySearch.java</a>ï¼Œå®ƒè¯´æ˜äº†æˆ‘ä»¬çš„ç¼–ç¨‹æ¨¡å‹çš„è®¸å¤šåŸºæœ¬ç‰¹æ€§ã€‚ å®ƒå®ç°äº†ä¸€ç§ç§°ä¸ºäºŒè¿›åˆ¶æœç´¢çš„ç»å…¸ç®—æ³•ï¼Œå¹¶é’ˆå¯¹ç§°ä¸ºç™½åå•è¿‡æ»¤çš„åº”ç”¨ç¨‹åºå¯¹å…¶è¿›è¡Œæµ‹è¯•ã€‚
<br /><img src="http://ITMonkeyLife.github.io/Blog/images/algorithms/alogorithms_1.1_binary-search-anatomy.png" />
<br />
é™æ€æ–¹æ³•rankï¼ˆï¼‰ä½¿ç”¨æ•´æ•°é”®å’Œintå€¼çš„æ’åºæ•°ç»„ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›é”®çš„ç´¢å¼•ï¼ˆå¦‚æœå®ƒå­˜åœ¨äºæ•°ç»„ä¸­ï¼‰ï¼Œå¦åˆ™ä¸º-1ã€‚ å®ƒé€šè¿‡ç»´æŠ¤å˜é‡loå’Œhiæ¥å®Œæˆè¿™ä¸ªä»»åŠ¡ï¼Œä½¿å¾—å¦‚æœåœ¨æ•°ç»„ä¸­ï¼Œåˆ™å¯†é’¥åœ¨[lo..hi]ä¸­ï¼Œç„¶åè¿›å…¥æµ‹è¯•é—´éš”ä¸­çš„ä¸­é—´æ¡ç›®ï¼ˆåœ¨ç´¢å¼•midï¼‰çš„å¾ªç¯ã€‚ å¦‚æœé”®ç­‰äº[mid]ï¼Œè¿”å›å€¼ä¸ºmid; å¦åˆ™ï¼Œè¯¥æ–¹æ³•å°†å¤§çº¦ä¸€åŠçš„é—´éš”å¤§å°ï¼Œå¦‚æœè¯¥é”®å°äºa [mid]ï¼Œåˆ™æŸ¥çœ‹å·¦åŠéƒ¨åˆ†ï¼Œå¦‚æœè¯¥é”®å¤§äº[mid]ï¼Œåˆ™æŸ¥çœ‹å³åŠéƒ¨åˆ†ã€‚ å½“æ‰¾åˆ°é”®æˆ–é—´éš”ä¸ºç©ºæ—¶ï¼Œè¿›ç¨‹ç»ˆæ­¢ã€‚
<br /><img src="http://ITMonkeyLife.github.io/Blog/images/algorithms/alogorithms_1.1_binary-search.png" />
<ul>
<li>å¼€å‘å®¢æˆ·ç«¯</li>
<li>ç™½åå•</li>
<li>æ€§èƒ½</li>
</ul>
</p>

<p>
è¾“å…¥å’Œè¾“å‡ºåº“ã€‚ è¿™é‡Œæ˜¯ä¸€ä¸ªè¾“å…¥å’Œè¾“å‡ºåº“çš„åˆ—è¡¨.

<table>
  <tr>
  <th><b /></th>
  <th><b>ç¨‹åº</b></th>
  <th><b>æè¿° / JAVAæ–‡æ¡£</b></th>
  </tr>
  <tr>
  <td><a href="http://introcs.cs.princeton.edu/15inout/index.php#1.5">1.5</a></td>
  <td><a title="read numbers and text from standard input" href="http://algs4.cs.princeton.edu/stdlib/StdIn.java.html">StdIn.java</a></td>
  <td><a title="read numbers and text from standard input" href="http://algs4.cs.princeton.edu/stdlib/javadoc/StdIn.html">ä»æ ‡å‡†è¾“å…¥è¯»å–æ•°å­—å’Œæ–‡æœ¬</a></td>
  </tr>
  <tr>
  <td><a href="http://introcs.cs.princeton.edu/15inout/index.php#1.5">1.5</a></td>
  <td><a title="write numbers and text to standard output" href="http://algs4.cs.princeton.edu/stdlib/StdOut.java.html">StdOut.java</a></td>
  <td><a title="write numbers and text to standard output" href="http://algs4.cs.princeton.edu/stdlib/javadoc/StdOut.html">å°†æ•°å­—å’Œæ–‡æœ¬å†™å…¥æ ‡å‡†è¾“å‡º</a></td>
  </tr>
  <tr>
  <td><a href="http://introcs.cs.princeton.edu/15inout/index.php#1.5">1.5</a></td>
  <td><a title="draw geometric shapes in a window" href="http://algs4.cs.princeton.edu/stdlib/StdDraw.java.html">StdDraw.java</a></td>
  <td><a title="draw geometric shapes in a window" href="http://algs4.cs.princeton.edu/stdlib/javadoc/StdDraw.html">åœ¨çª—å£ä¸­ç»˜åˆ¶å‡ ä½•å½¢çŠ¶</a></td>
  </tr>
  <tr>
  <td><a href="http://introcs.cs.princeton.edu/15inout/index.php#1.5">1.5</a></td>
  <td><a title="create, play, and manipulate sound" href="http://algs4.cs.princeton.edu/stdlib/StdAudio.java.html">StdAudio.java</a></td>
  <td><a title="create, play, and manipulate sound" href="http://algs4.cs.princeton.edu/stdlib/javadoc/StdAudio.html">åˆ›å»ºï¼Œæ’­æ”¾å’Œæ“çºµå£°éŸ³</a></td>
  </tr>
  <tr>
  <td><a href="http://introcs.cs.princeton.edu/22library/index.php#2.2">2.2</a></td>
  <td><a title="generate random numbers" href="http://algs4.cs.princeton.edu/stdlib/StdRandom.java.html">StdRandom.java</a></td>
  <td><a title="generate random numbers" href="http://algs4.cs.princeton.edu/stdlib/javadoc/StdRandom.html">ç”Ÿæˆéšæœºæ•°</a></td>
  </tr>
  <tr>
  <td><a href="http://introcs.cs.princeton.edu/22library/index.php#2.2">2.2</a></td>
  <td><a title="compute statistics" href="http://algs4.cs.princeton.edu/stdlib/StdStats.java.html">StdStats.java</a></td>
  <td><a title="compute statistics" href="http://algs4.cs.princeton.edu/stdlib/javadoc/StdStats.html">è®¡ç®—ç»Ÿè®¡</a></td>
  </tr>
  <tr>
  <td><a href="http://introcs.cs.princeton.edu/22library/index.php#2.2">2.2</a></td>
  <td><a title="read and write 1D and 2D arrays" href="http://algs4.cs.princeton.edu/stdlib/StdArrayIO.java.html">StdArrayIO.java</a></td>
  <td><a title="read and write 1D and 2D arrays" href="http://algs4.cs.princeton.edu/stdlib/javadoc/StdArrayIO.html">è¯»å–å’Œå†™å…¥1Då’Œ2Dé˜µåˆ—</a></td>
  </tr>
  <tr>
  <td><a href="http://introcs.cs.princeton.edu/31datatype/index.php#3.1">3.1</a></td>
  <td><a title="read numbers and text from files and URLs" href="http://algs4.cs.princeton.edu/stdlib/In.java.html">In.java</a></td>
  <td><a title="read numbers and text from files and URLs" href="http://algs4.cs.princeton.edu/stdlib/javadoc/In.html">ä»æ–‡ä»¶å’ŒURLè¯»å–æ•°å­—å’Œæ–‡æœ¬</a></td>
  </tr>
  <tr>
  <td><a href="http://introcs.cs.princeton.edu/31datatype/index.php#3.1">3.1</a></td>
  <td><a title="write numbers and text to files" href="http://algs4.cs.princeton.edu/stdlib/Out.java.html">Out.java</a></td>
  <td><a title="write numbers and text to files" href="http://algs4.cs.princeton.edu/stdlib/javadoc/Out.html">å†™æ•°å­—å’Œæ–‡æœ¬åˆ°æ–‡ä»¶</a></td>
  </tr>
  <tr>
  <td><a href="http://introcs.cs.princeton.edu/31datatype/index.php#3.1">3.1</a></td>
  <td><a title="draw geometric shapes" href="http://algs4.cs.princeton.edu/stdlib/Draw.java.html">Draw.java</a></td>
  <td><a title="draw geometric shapes" href="http://algs4.cs.princeton.edu/stdlib/javadoc/Draw.html">ç»˜åˆ¶å‡ ä½•å½¢çŠ¶</a></td>
  </tr>
  <tr>
  <td><a href="http://introcs.cs.princeton.edu/31datatype/index.php#3.1">3.1</a></td>
  <td><a title="process digital images" href="http://algs4.cs.princeton.edu/stdlib/Picture.java.html">Picture.java</a></td>
  <td><a title="process digital images" href="http://algs4.cs.princeton.edu/stdlib/javadoc/Picture.html">è¿‡ç¨‹æ•°å­—å›¾åƒ</a></td>
  </tr>
  <tr>
  <td><a href="http://introcs.cs.princeton.edu/32class/index.php#3.2">3.2</a></td>
  <td><a title="measure running time" href="http://algs4.cs.princeton.edu/stdlib/Stopwatch.java.html">Stopwatch.java</a></td>
  <td><a title="measure running time" href="http://algs4.cs.princeton.edu/stdlib/javadoc/Stopwatch.html">æµ‹é‡è¿è¡Œæ—¶é—´</a></td>
  </tr>
  <tr>
  <td><a href="http://introcs.cs.princeton.edu/15inout/index.php#-">-</a></td>
  <td><a title="write bits to standard output" href="http://algs4.cs.princeton.edu/stdlib/BinaryStdOut.java.html">BinaryStdOut.java</a></td>
  <td><a title="write bits to standard output" href="http://algs4.cs.princeton.edu/stdlib/javadoc/BinaryStdOut.html">å†™ä½åˆ°æ ‡å‡†è¾“å‡º</a></td>
  </tr>
  <tr>
  <td><a href="http://introcs.cs.princeton.edu/15inout/index.php#-">-</a></td>
  <td><a title="read bits from files and URLs" href="http://algs4.cs.princeton.edu/stdlib/BinaryIn.java.html">BinaryIn.java</a></td>
  <td><a title="read bits from files and URLs" href="http://algs4.cs.princeton.edu/stdlib/javadoc/BinaryIn.html">ä»æ–‡ä»¶å’ŒURLè¯»å–ä½</a></td>
  </tr>
  <tr>
  <td><a href="http://introcs.cs.princeton.edu/15inout/index.php#-">-</a></td>
  <td><a title="write bits to files" href="http://algs4.cs.princeton.edu/stdlib/BinaryOut.java.html">BinaryOut.java</a></td>
  <td><a title="write bits to files" href="http://algs4.cs.princeton.edu/stdlib/javadoc/BinaryOut.html">å†™ä½åˆ°æ–‡ä»¶</a></td>
  </tr>
</table>

æˆ‘ä»¬ç®€è¦æè¿°è¾“å…¥å’Œè¾“å‡ºåº“ï¼Œå¹¶åŒ…æ‹¬ä¸€ä¸ªç¤ºä¾‹å®¢æˆ·ç«¯ã€‚
</p>

<p>æ ‡å‡†è¾“å…¥å’Œæ ‡å‡†è¾“å‡ºã€‚ <a href="http://algs4.cs.princeton.edu/11model/StdIn.java.html">StdIn.java</a>å’Œ<a href="http://algs4.cs.princeton.edu/11model/StdOut.java.html">StdOut.java</a>æ˜¯ç”¨äºä»æ ‡å‡†è¾“å…¥ä¸­è¯»å–æ•°å­—å’Œæ–‡æœ¬ä»¥åŠå°†æ•°å­—å’Œæ–‡æœ¬æ‰“å°åˆ°æ ‡å‡†è¾“å‡ºçš„åº“ã€‚ æˆ‘ä»¬çš„ç‰ˆæœ¬æœ‰ä¸€ä¸ªæ¯”ç›¸åº”çš„Javaæ¥å£æ›´ç®€å•çš„æ¥å£ï¼ˆå¹¶æä¾›ä¸€äº›æŠ€æœ¯æ”¹è¿›ï¼‰ã€‚ <a href="http://algs4.cs.princeton.edu/11model/RandomSeq.java.html">RandomSeq.java</a>ç”Ÿæˆç»™å®šèŒƒå›´å†…çš„éšæœºæ•°ã€‚ <a href="http://algs4.cs.princeton.edu/11model/Average.java.html">Average.java</a>ä»æ ‡å‡†è¾“å…¥è¯»å–ä¸€ç³»åˆ—å®æ•°ï¼Œå¹¶åœ¨æ ‡å‡†è¾“å‡ºä¸Šæ‰“å°å®ƒä»¬çš„å¹³å‡å€¼ã€‚
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="java"><span class="line"><span class="o">%</span> <span class="n">java</span> <span class="n">Average</span>
</span><span class="line"><span class="mf">10.0</span> <span class="mf">5.0</span> <span class="mf">6.0</span> <span class="mf">3.0</span> <span class="mf">7.0</span> <span class="mf">32.0</span>
</span><span class="line"><span class="mf">3.14</span> <span class="mf">6.67</span> <span class="mf">17.71</span>
</span><span class="line"><span class="o">&lt;</span><span class="n">Ctrl</span><span class="o">-</span><span class="n">d</span><span class="o">&gt;</span>
</span><span class="line"><span class="n">Average</span> <span class="n">is</span> <span class="mf">10.05777777777778</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<a href="http://algs4.cs.princeton.edu/11model/In.java.html">In.java</a>å’Œ<a href="http://algs4.cs.princeton.edu/11model/Out.java.html">Out.java</a>æ˜¯é¢å‘å¯¹è±¡çš„ç‰ˆæœ¬ï¼Œæ”¯æŒå¤šä¸ªè¾“å…¥å’Œè¾“å‡ºæµï¼ŒåŒ…æ‹¬ä»æ–‡ä»¶æˆ–URLè¯»å–å’Œå†™å…¥æ–‡ä»¶ã€‚
</p>

<p>
æ ‡å‡†ç»˜åˆ¶ã€‚ <a href="http://algs4.cs.princeton.edu/11model/StdDraw.java.html">StdDraw.java</a>æ˜¯ä¸€ä¸ªæ˜“äºä½¿ç”¨çš„åº“ï¼Œç”¨äºç»˜åˆ¶å‡ ä½•å½¢çŠ¶ï¼Œå¦‚ç‚¹ï¼Œçº¿å’Œåœ†ã€‚ <a href="http://algs4.cs.princeton.edu/11model/RightTriangle.java.html">RightTriangle.java</a>ç»˜åˆ¶ä¸€ä¸ªç›´è§’ä¸‰è§’å½¢å’Œä¸€ä¸ªå¤–æ¥åœ†ã€‚
<a href="http://algs4.cs.princeton.edu/11model/Draw.java.html">Draw.java</a>æ˜¯ä¸€ä¸ªé¢å‘å¯¹è±¡çš„ç‰ˆæœ¬ï¼Œæ”¯æŒåœ¨å¤šä¸ªçª—å£ä¸­ç»˜åˆ¶ã€‚
</p>
<p>
æ ‡å‡†éŸ³é¢‘ã€‚ <a href="http://algs4.cs.princeton.edu/11model/StdAudio.java.html">StdAudio.java</a>æ˜¯ä¸€ä¸ªæ˜“äºä½¿ç”¨çš„åº“åˆæˆå£°éŸ³ã€‚ <a href="http://algs4.cs.princeton.edu/11model/Tone.java.html">Tone.java</a>ä»å‘½ä»¤è¡Œè¯»å–é¢‘ç‡å’ŒæŒç»­æ—¶é—´ï¼Œå¹¶ä¸”åœ¨ç»™å®šæŒç»­æ—¶é—´å†…å£°åŒ–ç»™å®šé¢‘ç‡çš„æ­£å¼¦æ³¢ã€‚
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="java"><span class="line"><span class="o">%</span> <span class="n">java</span> <span class="n">Tone</span> <span class="mf">440.0</span> <span class="mf">3.0</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>

<p>
å›¾åƒå¤„ç†ã€‚ <a href="http://algs4.cs.princeton.edu/11model/Picture.java.html">Picture.java</a>æ˜¯ä¸€ä¸ªæ˜“äºä½¿ç”¨çš„å›¾åƒå¤„ç†åº“ã€‚ <a href="http://algs4.cs.princeton.edu/11model/Scale.java.html">Scale.java</a>ä½¿ç”¨å›¾ç‰‡æ–‡ä»¶çš„åç§°å’Œä¸¤ä¸ªæ•´æ•°ï¼ˆwidth wå’Œheight hï¼‰ä½œä¸ºå‘½ä»¤è¡Œå‚æ•°ï¼Œå¹¶å°†å›¾åƒç¼©æ”¾ä¸ºw-by-hã€‚
</p>

<hr />

<p class="post-footer">
                        written by <a href="http://ITMonkeyLife.github.io/Blog">Rick</a>&nbsp;posted at <a href="http://ITMonkeyLife.github.io/Blog">http://ITMonkeyLife.github.io/Blog</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[éŸ³ä¹ä¹ç†:éŸ³è°ƒå’Œè®°å·]]></title>
    <link href="http://ITMonkeyLife.github.io/Blog/blog/2016/09/18/yin-le-le-li-yin-diao-he-ji-hao/"/>
    <updated>2016-09-18T17:47:43+08:00</updated>
    <id>http://ITMonkeyLife.github.io/Blog/blog/2016/09/18/yin-le-le-li-yin-diao-he-ji-hao</id>
    <content type="html"><![CDATA[<div id="static">
<ul>
<li> åŠæ­¥ï¼ˆæˆ–&#8221;åŠéŸ³&#8221;ï¼‰æ˜¯ä»é”®ç›˜åˆ°ä¸‹ä¸€ä¸ªç›¸é‚»çš„é”®ä¸Šä¸€ä¸ªé”®ä¹‹é—´çš„è·ç¦»ã€‚
<li> é”®1åˆ°é”®2æ˜¯ä¸€åŠçš„éŸ³ï¼Œå› ä¸ºå®ƒä»¬æ˜¯å½¼æ­¤ç›¸é‚»ã€‚
<li> åŠæ­¥å¹¶ä¸æ€»æ˜¯ä»ç™½é”®åˆ°é»‘é”®ã€‚
<li> åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œé”®1å’Œé”®2ä»ç„¶å½¼æ­¤ç›¸é‚»ã€‚
<li> ä¸€ä¸ªå®Œæ•´çš„å…¨éŸ³ï¼ˆæˆ–&#8221;å…¨éŸ³&#8221;æˆ–ç®€ç§°&#8217;éŸ³&#8221;ï¼‰æ˜¯ç›¸åŒçš„è·ç¦»ï¼Œä¸¤ä¸ªåŠéŸ³ã€‚
<li> é”®1åˆ°é”®3æ˜¯ä¸€ä¸ªæ•´ä½“çš„éŸ³ã€‚
<li> é”®1åˆ°é”®2æ˜¯ç¬¬ä¸€åŠæ­¥ã€‚ 2é”®æ˜¯é”®3çš„ç¬¬äºŒåŠæ­¥ã€‚
<li> ä¸€ä¸ªå¶ç„¶çš„æ˜¯ç”¨æ¥æé«˜æˆ–é™ä½éŸ³ç¬¦çš„éŸ³é«˜çš„æ ‡å¿—ã€‚
<li> æˆ‘ä»¬å°†è®¨è®ºçš„ç¬¬ä¸€ä¸ªè®°å·æ˜¯å¹³çš„å’Œå°–é”ã€‚
<li> å¹³åŠæ­¥é™ä½äº†ä¸€ä¸ªéŸ³è°ƒï¼Œè€Œé”åŠæ­¥æå‡ºäº†ä¸€ä¸ªéŸ³è°ƒã€‚
<li> é”®å…¥æ—¶ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ï¼ƒæ¥ä»£è¡¨å°–é”ï¼ŒA Bæ¥ä»£è¡¨ä¸€ä¸ªå•ä½ã€‚
<li> è®©æˆ‘ä»¬æ¥çœ‹çœ‹åœ¨Cå’ŒDä¹‹é—´çš„é»‘é”®
<li> æ­¤é”®å¯ç§°ä¸ºCï¼ƒï¼Œå› ä¸ºå®ƒé¦–å…ˆæ˜¯C.åŠæ­¥
<li> å®ƒä¹Ÿå¯ä»¥è¢«ç§°ä¸ºDbï¼Œå› ä¸ºå®ƒä½äºD.åŠæ­¥
<li> å¦ä¸€ä¸ªä¾‹å­æ˜¯Eå’ŒF
<li> Eä¹Ÿå¯ä»¥è¢«ç§°ä¸ºFbçš„ï¼Œå› ä¸ºå®ƒä½äºF.åŠæ­¥
<li> åŒæ ·ï¼ŒFå¯ç§°ä¸ºEï¼ƒã€‚
<li> æ¯å½“æœ‰ä¸€å®šé—´è·æœ‰å¤šä¸ªåå­—ï¼Œå®ƒè¢«ç§°ä¸ºç­‰éŸ³æ‹¼å†™ã€‚
<li> æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬è®¨è®ºåŒå¹³æ¿å’ŒåŒé”åˆ©ã€‚
<li> è™½ç„¶å¹³æ»‘å’Œå°–é”åŠæ­¥ï¼ŒåŒå¹³åŒé”åˆ©çš„æ”¹å˜çš„è¯´æ˜ä¸€æ•´æ­¥æ”¹å˜ä¸€ä¸ªéŸ³ç¬¦ã€‚
<li> æ‰“å­—æ—¶ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨xè¦ä»£è¡¨ä¸€ä¸ªåŒé”åˆ©å’Œbbè¡¨ç¤ºdoubleæŒå¹³ã€‚
<li> ä¾‹å¦‚ï¼ŒDå’ŒEbbå…·æœ‰ç›¸åŒçš„é—´è·ï¼Œå› ä¸ºä½ å¯ä»¥ä»Eå»æ•´ä¸ªéŸ³æ­¥é•¿ï¼ˆæˆ–ä¸¤ä¸ªåŠå°é˜¶ï¼‰å¾€ä¸‹åˆ°è¾¾D
<li> Dä¹Ÿå¯ä»¥å¬èµ·æ¥ä¸€æ ·Cxï¼Œå› ä¸ºå®ƒæ˜¯ä¸Šè¿°Cçš„æ•´ä¸ªæ­¥é•¿
<li> æœ€åï¼Œè‡ªç„¶æ¶ˆé™¤äº†ä»»ä½•æ„å¤–ï¼Œå¹¶è¿”å›ä¸€ä¸ªéŸ³ç¬¦åˆ°åŸæ¥çš„ç™½é”®ã€‚
<li> æˆ‘ä»¬å°†åœ¨å³å°†åˆ°æ¥çš„è¯¾ç¨‹äº†è§£æ›´å¤šå…³äºæœ¬ä½éŸ³ã€‚


<p class="post-footer">
                        written by <a href="http://ITMonkeyLife.github.io/Blog">Rick</a>&nbsp;posted at <a href="http://ITMonkeyLife.github.io/Blog">http://ITMonkeyLife.github.io/Blog</a></p>
</li></li></li></li></li></li></li></li></li></li></li></li></li></li></li></li></li></li></li></li></li></li></li></li></li></ul></div>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[éŸ³ä¹ä¹ç†:å¢å¼ºç‚¹å’ŒæŒç»­éŸ³]]></title>
    <link href="http://ITMonkeyLife.github.io/Blog/blog/2016/09/08/yin-le-le-li-dian-he-lian-xian/"/>
    <updated>2016-09-08T16:56:40+08:00</updated>
    <id>http://ITMonkeyLife.github.io/Blog/blog/2016/09/08/yin-le-le-li-dian-he-lian-xian</id>
    <content type="html"><![CDATA[<div id="static">
<ul>
<li> å¢å¼ºç‚¹å’ŒæŒç»­éŸ³çš„å…³ç³»æœ‰ä¸¤ç§ç±»å‹æ¥æ”¹å˜ä¸€ä¸ªéŸ³ç¬¦çš„æ—¶é—´æ ‡è®°ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson14_20.png" />
<li> ä¸€ä¸ªç‚¹äº†ä¸€å¤§åŠå¢åŠ æŒç»­æ—¶é—´ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson14_40.png" />
<li> ç”±äºå…«åˆ†éŸ³ç¬¦çš„å››åˆ†éŸ³ç¬¦çš„1/2æ—¶é—´ï¼Œæˆ‘ä»¬å°†ç”¨å®ƒæ›¿æ¢äº†1/2ä¸ªç¬¦å·ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson14_60.png" />
<li> æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œä¸€ä¸ªç‚¹å››åˆ†éŸ³ç¬¦ç­‰äºå››åˆ†éŸ³ç¬¦åŠ ä¸Šå…«åˆ†éŸ³ç¬¦ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson14_80.png" />
<li> ä¸€ä¸ªç‚¹å››åˆ†éŸ³ç¬¦ä¹Ÿå¯ä»¥ç­‰äº3å…«åˆ†éŸ³ç¬¦ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson14_100.png" />
<li> è¿çº¿æŒç»­åˆå¹¶ç›¸åŒé—´è·çš„å¤šä¸ªéŸ³ç¬¦ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson14_120.png" />
<li> å®ƒä»¬è¢«ç”¨æ¥è®©ç©¿è¿‡å±éšœï¼ˆå¦‚æœ¬ä¾‹ä¸­çš„éŸ³èŠ‚ï¼‰çš„éŸ³ç¬¦ï¼Œå£°éŸ³çš„æŒç»­æ—¶é—´ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson14_140.png" />
<li> ç¬¬å››å’Œç¬¬äº”éŸ³ç¬¦ç°åœ¨åˆå¹¶åœ¨ä¸€èµ·ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson14_160.png" />
<li> å¦‚æœéŸ³èŠ‚åˆ†éš”çº¿éƒ½æ²¡æœ‰äº†ï¼Œæˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ªåŠéŸ³ç¬¦æ¥ä»£æ›¿ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson14_180.png" /><br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson14_200.png" />
<li> ä½¿ç”¨æ­¤å›¾è¡¨å‚è€ƒå¢å¼ºç‚¹ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson14_220.png" /><br />å®Œæ•´çš„æµç¨‹å¦‚ä¸‹: <br />
<embed src="http://ITMonkeyLife.github.io/Blog/videos/lesson14.swf" width="800" height="380" type="application/x-shockwave-flash" />


<p class="post-footer">
                        written by <a href="http://ITMonkeyLife.github.io/Blog">Rick</a>&nbsp;posted at <a href="http://ITMonkeyLife.github.io/Blog">http://ITMonkeyLife.github.io/Blog</a></p>
</li></li></li></li></li></li></li></li></li></li></ul></div>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[éŸ³ä¹ä¹ç†:ä¼‘æ­¢ç¬¦]]></title>
    <link href="http://ITMonkeyLife.github.io/Blog/blog/2016/09/08/yin-le-le-li-xiu-zhi-fu/"/>
    <updated>2016-09-08T14:55:44+08:00</updated>
    <id>http://ITMonkeyLife.github.io/Blog/blog/2016/09/08/yin-le-le-li-xiu-zhi-fu</id>
    <content type="html"><![CDATA[<div id="static">
<ul>
<li>ä¼‘æ­¢ç¬¦æ ‡ç¤ºåœ¨ä¸€ä¸ªéŸ³èŠ‚ä¸­æ²‰é»˜çš„æ—¶æœŸã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson13_20.png" />
<li>æ¯ç§ç±»å‹çš„ä¼‘æ­¢ç¬¦å¯¹åº”çš„åŒç­‰ç±»å‹çš„éŸ³ç¬¦çš„æŒç»­æ—¶é—´ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson13_40.png" />
<li>ä¾‹å¦‚:è¿™ä¸¤ä¸ªå››åˆ†ä¹‹ä¸€ä¼‘æ­¢ç¬¦å’Œå››åˆ†éŸ³ç¬¦å ç”¨çš„æ—¶é—´æ˜¯ç›¸åŒçš„ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson13_60.png" /><br />å½“éŸ³ç¬¦å‘å‡ºå£°éŸ³æ—¶ï¼Œä¼‘æ­¢ç¬¦æ˜¯æ²‰é»˜çš„ã€‚
<li>ä¸ºäº†è¯æ˜è¿™ä¸€ç‚¹ï¼Œè®©æˆ‘ä»¬å¡«å†™4/4æ—¶é—´çš„éŸ³èŠ‚ä¸å››åˆ†éŸ³ç¬¦ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson13_80.png" /><br />å½“å¼¹å¥æ—¶ï¼Œæ‰€æœ‰çš„éŸ³ç¬¦éƒ½å‘å‡ºå£°éŸ³ã€‚
<li>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ›¿æ¢ç¬¬äºŒä¸ªéŸ³ç¬¦ä¸ºä¼‘æ­¢ç¬¦ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson13_100.png" /><br />å½“å¼¹å¥æ—¶ï¼Œç¬¬äºŒä¸ªæ²¡æœ‰å£°éŸ³ã€‚
<li>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è®¨è®ºå…¶ä»–ç±»å‹çš„ä¼‘æ­¢ç¬¦ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson13_120.png" />
<li>ä¸€ä¸ªå…¨ä¼‘æ­¢ç¬¦å æ®çš„æ—¶é—´æ˜¯ç›¸åŒçš„å…¨éŸ³ç¬¦ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson13_140.png" />
<li>å®ƒè¢«ç”»æˆä¸€ä¸ªç›’å­ä»ç¬¬å››æ¡äº”çº¿è°±å‘ä¸‹ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson13_160.png" />
<li>åŠä¼‘æ­¢ç¬¦å æœ‰æ—¶é—´ç­‰åŒæ•°é‡çš„ä¸€åŠéŸ³ç¬¦ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson13_180.png" />
<li>å®ƒè¢«ç”»æˆä¸€ä¸ªç›’å­ä»ä¸­é—´çº¿çš„äº”çº¿è°±å‡èµ·ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson13_200.png" />
<li>åƒéŸ³ç¬¦ï¼Œä¼‘æ­¢ç¬¦å¯ä»¥æœ‰æ ‡å¿—ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson13_220.png" />
<li>ä¸ä¸€ä¸ªæ ‡å¿—ï¼Œå…«åˆ†ä¼‘æ­¢ç¬¦å…·æœ‰ç›¸åŒçš„æŒç»­æ—¶é—´ä½œä¸ºä¸€ä¸ªå…«åˆ†éŸ³ç¬¦ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson13_240.png" />
<li>æœ‰ä¸¤ä¸ªæ ‡å¿—ï¼Œåå…­ä¼‘æ­¢ç¬¦æœ‰ç›¸åŒçš„æ—¶é—´ä¸ºåå…­åˆ†éŸ³ç¬¦ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson13_260.png" />
<li>å°½ç®¡ç½•è§ï¼Œä¼‘æ­¢ç¬¦å¯ä»¥æœ‰ä¸‰ä¸ªæˆ–æ›´å¤šä¸ªæ ‡å¿—ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson13_280.png" />
<li>ä½¿ç”¨æ­¤å›¾è¡¨ï¼Œä»¥ä¾›å‚è€ƒä¼‘æ­¢ç¬¦ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson13_281.png" /> 


<p class="post-footer">
                        written by <a href="http://ITMonkeyLife.github.io/Blog">Rick</a>&nbsp;posted at <a href="http://ITMonkeyLife.github.io/Blog">http://ITMonkeyLife.github.io/Blog</a></p>
</li></li></li></li></li></li></li></li></li></li></li></li></li></li></li></ul></div>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[éŸ³ä¹ä¹ç†:æ ‡å‡†éŸ³ä¸èŠ‚æ‹]]></title>
    <link href="http://ITMonkeyLife.github.io/Blog/blog/2016/09/07/yin-le-le-li-biao-zhun-yin-yu-jie-pai/"/>
    <updated>2016-09-07T16:44:14+08:00</updated>
    <id>http://ITMonkeyLife.github.io/Blog/blog/2016/09/07/yin-le-le-li-biao-zhun-yin-yu-jie-pai</id>
    <content type="html"><![CDATA[<div id="static">
<ul>
<li> å‚ç›´çš„é»‘çº¿å°†åˆ‡åˆ†äº”çº¿è°±ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson12_20@2x.png" />
<li> äº”çº¿è°±åˆ’åˆ†ä¸¤ä¸ªéŸ³ç¬¦åŒºã€‚ <br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson12_40@2x.png" />
<li> èŠ‚æ‹å®šä¹‰äº†æ¯ä¸ªåŒºåŒ…å«çš„ä¸åŒç§ç±»çš„éŸ³ç¬¦ã€‚
<li> ç¬¬ä¸€ä¸ªåŒºçš„èŠ‚æ‹æ˜¯ 4/4 ç¬¬äºŒä¸ªåŒºçš„èŠ‚æ‹æ˜¯ 3/4 ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson12_60@2x.png" />
<li> ç¬¬ä¸€åŒº (4/4) åŒ…å«å››ä¸ªå››åˆ†éŸ³ç¬¦ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson12_80@2x.png" />
<li> ç¬¬äºŒåŒº(3/4) åŒ…å«ä¸‰ä¸ªå››åˆ†éŸ³ç¬¦ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson12_100@2x.png" />
<li> æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è®¨è®ºéå››åˆ†éŸ³ç¬¦èŠ‚æ‹ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson12_120@2x.png" />
<li> 6/8 åŒ…å«äº†å…­ä¸ªå…«åˆ†éŸ³ç¬¦ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson12_140@2x.png" />
<li> 3/2 åŒ…å«ä¸‰ä¸ªåŠéŸ³ç¬¦ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson12_160@2x.png" />
<li> è¯¥å›¾è¡¨æ˜¾ç¤ºäº†æ‰€æœ‰æˆ‘ä»¬è®¨è®ºçš„èŠ‚æ‹ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson12_161@2x.png" />


<p class="post-footer">
                        written by <a href="http://ITMonkeyLife.github.io/Blog">Rick</a>&nbsp;posted at <a href="http://ITMonkeyLife.github.io/Blog">http://ITMonkeyLife.github.io/Blog</a></p>
</li></li></li></li></li></li></li></li></li></li></ul></div>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[éŸ³ä¹ä¹ç†:éŸ³ç¬¦æŒç»­æ—¶é—´]]></title>
    <link href="http://ITMonkeyLife.github.io/Blog/blog/2016/09/06/yin-le-le-li-yin-fu-chi-xu-shi-jian/"/>
    <updated>2016-09-06T16:12:20+08:00</updated>
    <id>http://ITMonkeyLife.github.io/Blog/blog/2016/09/06/yin-le-le-li-yin-fu-chi-xu-shi-jian</id>
    <content type="html"><![CDATA[<div id="static">
<ul>
<li> ä¸€ä¸ªéŸ³ç¬¦æ¼”å¥çš„æ—¶é—´é•¿åº¦è¢«ç§°ä¸ºå®ƒçš„éŸ³ç¬¦æ—¶å€¼ï¼Œå®ƒæ˜¯ç”±éŸ³ç¬¦çš„ç±»å‹å†³å®šã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson11_20@2x.png" />
<li> è¯¥å…¨éŸ³ç¬¦åœ¨ç°ä»£éŸ³ä¹æœ€é•¿çš„éŸ³ç¬¦æ—¶å€¼ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson11_40@2x.png" />
<li> äºŒåˆ†éŸ³ç¬¦å…·æœ‰å…¨éŸ³ç¬¦çš„ä¸€åŠçš„æŒç»­æ—¶é—´ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson11_60@2x.png" />
<li> ä¸¤ä¸ªåŠéŸ³ç¬¦å æ®çš„æ—¶é—´ç›¸åŒä¸ºä¸€ä½“çš„å…¨éŸ³ç¬¦ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson11_80@2x.png" />
<li> å››åˆ†éŸ³ç¬¦ä¸ºå…¨éŸ³ç¬¦çš„ç¬¬å››ï¼ˆæˆ–å››åˆ†ä¹‹ä¸€ï¼‰ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson11_100@2x.png" />
<li> å››ä¸ªå››åˆ†éŸ³ç¬¦å æ®çš„æ—¶é—´ç›¸åŒä¸ºä¸€ä½“çš„å…¨éŸ³ç¬¦ã€‚ä¸¤ä¸ªå››åˆ†éŸ³ç¬¦ç­‰äºä¸€ä¸ªåŠéŸ³ç¬¦çš„æŒç»­æ—¶é—´ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson11_120@2x.png" />
<li> æ³¨æ„åˆ°ï¼Œåœ¨æŒç»­æ—¶é—´å°äºå››åˆ†éŸ³ç¬¦æœ‰æ ‡å¿—ã€‚æ¯ä¸ªæ ‡å¿—å‡åŠéŸ³ç¬¦çš„ä»·å€¼ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson11_140@2x.png" />
<li> å…«åˆ†éŸ³ç¬¦æœ‰ä¸€ä¸ªæ ‡å¿—ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson11_160@2x.png" />
<li> å› æ­¤ï¼ŒäºŒä¸ªå…«åˆ†éŸ³ç¬¦å ç”¨çš„æ—¶é—´ç›¸åŒæ•°é‡çš„å››åˆ†ä¹‹ä¸€éŸ³ç¬¦ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson11_180@2x.png" />
<li> ä¸€ä¸ªåå…­åˆ†éŸ³ç¬¦æœ‰ä¸¤ä¸ªæ ‡å¿—ï¼Œå†å‡åŠå€¼ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson11_200@2x.png" />
<li> ä¸¤ä¸ªåå…­åˆ†éŸ³ç¬¦ç­‰äºå…«åˆ†éŸ³ç¬¦çš„æŒç»­æ—¶é—´ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson11_220@2x.png" />
<li> å››ä¸ªåå…­åˆ†éŸ³ç¬¦å æ®çš„æ—¶é—´ç›¸åŒæ•°é‡çš„å››åˆ†ä¹‹ä¸€éŸ³ç¬¦ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson11_240@2x.png" />
<li> è™½ç„¶å¯ä»¥æœ‰ä¸€ä¸ªä¸ä¸‰ä¸ªæˆ–æ›´å¤šä¸ªæ ‡å¿—éŸ³ç¬¦ï¼Œå®ƒä»¬ä¸€èˆ¬ä¸ä½¿ç”¨ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson11_260@2x.png" />
<li> è¯¥å›¾è¡¨æ˜¾ç¤ºåœ¨æœ¬èŠ‚è®¨è®ºçš„æ‰€æœ‰äº”ç§éŸ³ç¬¦ç±»å‹çš„å…³ç³»ã€‚<br /><img src="http://ITMonkeyLife.github.io/Blog/images/music/lesson11_261@2x.png" />


<p class="post-footer">
                        written by <a href="http://ITMonkeyLife.github.io/Blog">Rick</a>&nbsp;posted at <a href="http://ITMonkeyLife.github.io/Blog">http://ITMonkeyLife.github.io/Blog</a></p>
</li></li></li></li></li></li></li></li></li></li></li></li></li></li></ul></div>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[éŸ³ä¹ä¹ç†:äº”çº¿è°±ï¼Œè°±å·ï¼ŒåŠ çº¿]]></title>
    <link href="http://ITMonkeyLife.github.io/Blog/blog/2016/09/06/yin-le-le-li-wu-xian-pu-%2Cpu-hao-%2Cjia-xian/"/>
    <updated>2016-09-06T10:02:28+08:00</updated>
    <id>http://ITMonkeyLife.github.io/Blog/blog/2016/09/06/yin-le-le-li-wu-xian-pu-,pu-hao-,jia-xian</id>
    <content type="html"><![CDATA[<p>
<code>äº”çº¿è°±</code>æ˜¯å¯¹éŸ³ç¬¦ç»˜åˆ¶çš„åŸºç¡€ã€‚ç°ä»£çš„äº”çº¿è°±æ˜¯ç”±5æ ¹çº¿å’Œ4ä¸ªç©ºé—´ç»„æˆçš„ã€‚
<br />
<img src="http://ww2.sinaimg.cn/large/626e5d69gw1f7jn3flan2j21kw0lcdh6.jpg" />
åœ¨äº”çº¿è°±ä¸Šçš„æ¯è¡Œçº¿æˆ–è€…ç©ºç™½å¤„éƒ½è¡¨ç¤ºé”®ç›˜ä¸Šçš„ç™½å»ºã€‚
<br />
</p>

<p>
è°±å·åˆ†é…ç»™å„ä¸ªéŸ³ç¬¦æŸäº›è¡Œæˆ–ç©ºæ ¼ã€‚
ä¸¤ä¸ªè°±å·ç»å¸¸ç”¨åˆ°ï¼Œåˆ†åˆ«æ˜¯ï¼šé«˜éŸ³å’Œä½éŸ³ã€‚
<br />
<img src="http://ww3.sinaimg.cn/large/626e5d69gw1f7jqbp0363j21kw0lcq4r.jpg" />
<br />
æˆ‘ä»¬å…ˆè®¨è®ºé«˜éŸ³ï¼ˆé€šå¸¸ä¹Ÿç§°ä¸ºG è°±ï¼‰.è¯¥è°±å·ç¯ç»•ï¼ˆæ˜¾ç¤ºä¸ºçº¢è‰²ï¼‰äº”çº¿è°±çº¿è¢«ç§°ä¸ºG.æ”¾åœ¨è¯¥è¡Œçš„ä»»ä½•éŸ³ç¬¦å˜æˆG.
<br />
Gè°ƒä»¥ä¸Šçš„ç©ºç™½å¤„çš„è°ƒæ˜¯Aè°ƒï¼ˆè®°ä½ï¼Œæ²¡æœ‰ä¸€ä¸ªâ€œHâ€è°ƒï¼‰
<br />
Aè°ƒä»¥ä¸Šçš„è°ƒæ˜¯Bè°ƒã€‚ä»¥æ­¤ç±»æ¨ï¼ŒGã€Aã€Bã€Cã€Dã€Eã€Fã€G
<br />
<img src="http://ww1.sinaimg.cn/large/626e5d69gw1f7jqd7qzk5j21kw0lcdi6.jpg" />
é¢æˆ‘ä»¬çœ‹æ¥å·²ç»è¶…è¿‡äº†äº”çº¿è°±çš„èŒƒå›´äº†ï¼Œè¿™æ—¶å€™è¯¥æ€ä¹ˆåŠï¼Ÿ
</p>

<p>
åŠ çº¿å°†è§£å†³æˆ‘ä»¬çš„å›°å¢ƒã€‚
æˆ‘ä»¬åœ¨äº”çº¿è°±ä¹‹å¤–ï¼Œé¢å¤–æ·»åŠ ä¸€æ¡çº¿ï¼Œç„¶ååœ¨è¿™ä¸ªçº¿å¤„ç»§ç»­æ·»åŠ A
<br />
<img src="http://ww2.sinaimg.cn/large/626e5d69gw1f7jsx3rujij21kw0lcdi5.jpg" />
</p>
<!-- more -->
<p>
æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹çœ‹ä½éŸ³ï¼ˆä¹Ÿè¢«ç§°ä¸ºFè°±ï¼‰
Fè°±æ˜¯åœ¨è¿™ä¸¤ä¸ªç‚¹ä¹‹é—´çš„çº¿ä¸Šåšçš„è°±ã€‚
<br />
<img src="http://ww1.sinaimg.cn/large/626e5d69gw1f7jsz10y8bj21kw0lc0u3.jpg" />
æˆ‘ä»¬æŠŠå‰©ä¸‹çš„äº”çº¿è°±ä¸Šçš„è°±éƒ½æ ‡è®°å‡ºæ¥ã€‚
<br />
<img src="http://ww2.sinaimg.cn/large/626e5d69gw1f7jsxovewdj21kw0lcjtl.jpg" />
</p>

<p>
æœ€åæˆ‘ä»¬æ¥çœ‹çœ‹Grand Staff,äº”çº¿è°±åŸºäºåŸç†ç»„æˆçš„åä¸€æ¡çº¿ã€‚æ¶ˆæ‰ä¸­é—´çš„çº¿ï¼Œå˜æˆä¸¤ä¸ªäº”çº¿è°±ã€‚
<br />
<img src="http://ww4.sinaimg.cn/large/626e5d69gw1f7jtlgp82ej21kw0lcmzh.jpg" />
</p>

<p>
åœ¨ä¸Šé¢çš„äº”çº¿è°±æ·»åŠ é«˜éŸ³ï¼Œä¸‹é¢çš„äº”çº¿è°±æ·»åŠ ä½éŸ³ï¼Œæˆ‘ä»¬èƒ½çœ‹åˆ°è¿™ä¸¤ä¸ªäº”çº¿è°±çš„å…³ç³»ã€‚
æˆ‘ä»¬æ³¨æ„åˆ°è¿™ä¸¤ä¸ªäº”çº¿è°±é€šè¿‡Cè°±è¿æ¥åœ¨ä¸€èµ·ï¼ˆçº¢è‰²å±•ç¤ºï¼‰,åœ¨è¿™é‡Œçš„Cé€šå¸¸ç§°ä¸­C,å› ä¸ºå®ƒå¯¹åº”äºGrand Staffä¸­é—´çš„çº¿
</p>

<p>
ä¸‹é¢æ˜¯æœ¬å°èŠ‚å®Œæ•´çš„æ¼”ç¤ºã€‚
</p>
<p>
<video width="800" height="300" controls="controls" preload="auto">
 <source src="http://ITMonkeyLife.github.io/Blog/videos/lesson10.mp4" type="video/mp4" />
</video>
<!-- <embed src="http://www.musictheory.net/vc/6/0/53481700c244fded30bde8b5683ebc08f0eaafe6/lesson10.swf"
width="800" height="380"
type="application/x-shockwave-flash"> &#8211;>
</p>
<p class="post-footer">
                        written by <a href="http://ITMonkeyLife.github.io/Blog">Rick</a>&nbsp;posted at <a href="http://ITMonkeyLife.github.io/Blog">http://ITMonkeyLife.github.io/Blog</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[iOS æ¨é€è¯ä¹¦è¿‡æœŸæŒ‡å—]]></title>
    <link href="http://ITMonkeyLife.github.io/Blog/blog/2016/09/05/ios-tui-song-zheng-shu-guo-qi-zhi-nan/"/>
    <updated>2016-09-05T12:30:46+08:00</updated>
    <id>http://ITMonkeyLife.github.io/Blog/blog/2016/09/05/ios-tui-song-zheng-shu-guo-qi-zhi-nan</id>
    <content type="html"><![CDATA[<p>  
ä»Šå¤©ä¸€æ—©ï¼Œè¿ç»´éƒ¨é—¨åŒäº‹ï¼Œè¯´å’±ä»¬å‹ç›Ÿä¸Šé¢æ¨é€è¯ä¹¦å·²ç»åˆ°æœŸäº†ã€‚é‚£ä¹ˆåˆ°æœŸäº†è¯ä¹¦åº”è¯¥æ€ä¹ˆæ ·å»æ›´æ¢æ–°çš„è¯ä¹¦å‘¢ã€‚
</p>
<p>
1ã€æˆ‘ä»¬å…ˆå»<a href="https://developer.apple.com/account/ios/certificate/distribution">è‹¹æœå¼€å‘è€…ä¸­å¿ƒ</a>æ–°å»ºä¸€ä¸ªCertificatesè¯ä¹¦ã€‚
</p>
<p>
2ã€ä¸‹è½½<code>Cert</code>æ–‡ä»¶åˆ°æœ¬åœ°ï¼ŒåŒå‡»ä¹‹åã€‚åœ¨<code>Keychain Access</code>ä¸­æ‰¾åˆ°æˆ‘ä»¬åˆ›å»ºçš„è¯ä¹¦ã€‚Exportå¯¼å‡ºp12æ ¼å¼ï¼Œåˆ›å»ºå¯†ç ã€‚
</p>
<p>
3ã€æœ‰æ—¶å€™åç«¯éœ€è¦pemæ ¼å¼çš„è¯ä¹¦,æˆ‘ä»¬é€šè¿‡ç»ˆç«¯è¿›å…¥p12 æ–‡ä»¶æ‰€åœ¨çš„æ–‡ä»¶å¤¹ï¼Œé€šè¿‡ç»ˆç«¯è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ç”Ÿæˆpemæ–‡ä»¶
<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class=""><span class="line">openssl pkcs12 -in dev_push_Certificates.p12 -out apns-dev-cert.pem -nodes -clcerts
</span><span class="line">Enter Import Password:
</span><span class="line">MAC verified OK</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>
<p>
4ã€ç”Ÿæˆè¯ä¹¦åï¼Œåªè¦æ›¿æ¢Pushè¯ä¹¦å°±å¥½äº†ã€‚
</p>
<p class="post-footer">
                        written by <a href="http://ITMonkeyLife.github.io/Blog">Rick</a>&nbsp;posted at <a href="http://ITMonkeyLife.github.io/Blog">http://ITMonkeyLife.github.io/Blog</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[iOSå¼€å‘é”¦å›Š]]></title>
    <link href="http://ITMonkeyLife.github.io/Blog/blog/2016/08/29/ioskai-fa-jin-nang/"/>
    <updated>2016-08-29T15:44:35+08:00</updated>
    <id>http://ITMonkeyLife.github.io/Blog/blog/2016/08/29/ioskai-fa-jin-nang</id>
    <content type="html"><![CDATA[<p>
1ã€åˆ¤æ–­æ˜¯ä¸æ˜¯AppStoreç‰ˆæœ¬
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="objc"><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">isAppStoreEnvironment</span> <span class="p">{</span>
</span><span class="line"><span class="cp">#if TARGET_OS_IOS &amp;&amp; !TARGET_IPHONE_SIMULATOR</span>
</span><span class="line">    <span class="k">return</span> <span class="p">([[</span><span class="n">NSBundle</span> <span class="n">mainBundle</span><span class="p">]</span> <span class="nl">pathForResource:</span><span class="s">@&quot;embedded&quot;</span> <span class="nl">ofType:</span><span class="s">@&quot;mobileprovision&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="nb">nil</span><span class="p">);</span>
</span><span class="line"><span class="cp">#endif</span>
</span><span class="line">
</span><span class="line">    <span class="k">return</span> <span class="n">NO</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<p>
<p>
2ã€åˆ¤æ–­å½“å‰ç³»ç»Ÿæ—¶åŒºåç§°
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
</pre></td><td class="code"><pre><code class="objc"><span class="line"><span class="k">+</span> <span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nf">currentSystemTimeZoneName</span> <span class="p">{</span>
</span><span class="line">    <span class="k">static</span> <span class="n">NSLock</span> <span class="o">*</span> <span class="n">methodLock</span><span class="p">;</span>
</span><span class="line">    <span class="k">static</span> <span class="n">dispatch_once_t</span> <span class="n">onceToken</span><span class="p">;</span>
</span><span class="line">    <span class="n">dispatch_once</span><span class="p">(</span><span class="o">&amp;</span><span class="n">onceToken</span><span class="p">,</span> <span class="o">^</span><span class="p">{</span>
</span><span class="line">        <span class="n">methodLock</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSLock</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class="line">    <span class="p">});</span>
</span><span class="line">
</span><span class="line">    <span class="p">[</span><span class="n">methodLock</span> <span class="n">lock</span><span class="p">];</span>
</span><span class="line">    <span class="p">[</span><span class="n">NSTimeZone</span> <span class="n">resetSystemTimeZone</span><span class="p">];</span>
</span><span class="line">    <span class="n">NSString</span> <span class="o">*</span> <span class="n">systemTimeZoneName</span> <span class="o">=</span> <span class="p">[[</span><span class="n">NSTimeZone</span> <span class="n">systemTimeZone</span><span class="p">].</span><span class="n">name</span> <span class="n">copy</span><span class="p">];</span>
</span><span class="line">    <span class="p">[</span><span class="n">methodLock</span> <span class="n">unlock</span><span class="p">];</span>
</span><span class="line">
</span><span class="line">    <span class="k">return</span> <span class="n">systemTimeZoneName</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>

<p>
3ã€å®‰å…¨çš„æ‰§è¡Œmethod
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
</pre></td><td class="code"><pre><code class="objc"><span class="line"><span class="cm">/**</span>
</span><span class="line"><span class="cm"> * Performs selector on the target, only if the target and selector are non-nil,</span>
</span><span class="line"><span class="cm"> * as well as target responds to selector</span>
</span><span class="line"><span class="cm"> */</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">safePerformSelector:</span><span class="p">(</span><span class="kt">SEL</span><span class="p">)</span><span class="nv">selector</span> <span class="nf">withTarget:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">target</span> <span class="nf">object:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">object</span> <span class="nf">object:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">anotherObject</span> <span class="p">{</span>
</span><span class="line">    <span class="k">if</span> <span class="p">(</span><span class="n">target</span> <span class="o">==</span> <span class="nb">nil</span> <span class="o">||</span> <span class="n">selector</span> <span class="o">==</span> <span class="nb">nil</span> <span class="o">||</span> <span class="o">!</span><span class="p">[</span><span class="n">target</span> <span class="nl">respondsToSelector:</span><span class="n">selector</span><span class="p">])</span> <span class="p">{</span>
</span><span class="line">        <span class="k">return</span><span class="p">;</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="cp">#pragma clang diagnostic push</span>
</span><span class="line"><span class="cp">#pragma clang diagnostic ignored &quot;-Warc-performSelector-leaks&quot;</span>
</span><span class="line">    <span class="p">[</span><span class="n">target</span> <span class="nl">performSelector:</span><span class="n">selector</span> <span class="nl">withObject:</span><span class="n">object</span> <span class="nl">withObject:</span><span class="n">anotherObject</span><span class="p">];</span>
</span><span class="line"><span class="cp">#pragma clang diagnostic pop</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>
<p>
4ã€ä¸»çº¿ç¨‹æ‰§è¡Œ
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
</pre></td><td class="code"><pre><code class="objc"><span class="line"><span class="k">+</span> <span class="p">(</span><span class="n">CLLocationManager</span> <span class="o">*</span><span class="p">)</span><span class="nf">_newSystemLocationManager</span> <span class="p">{</span>
</span><span class="line">    <span class="n">__</span> <span class="n">block</span> <span class="n">CLLocationManager</span> <span class="o">*</span> <span class="n">manager</span> <span class="o">=</span> <span class="nb">nil</span><span class="p">;</span>
</span><span class="line">
</span><span class="line">    <span class="c1">// CLLocationManager should be created only on main thread, as it needs a run loop to serve delegate callbacks</span>
</span><span class="line">    <span class="n">dispatch_block_t</span> <span class="n">block</span> <span class="o">=</span> <span class="o">^</span><span class="p">{</span>
</span><span class="line">        <span class="n">manager</span> <span class="o">=</span> <span class="p">[[</span><span class="n">CLLocationManager</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
</span><span class="line">    <span class="p">};</span>
</span><span class="line">    <span class="k">if</span> <span class="p">([</span><span class="n">NSThread</span> <span class="n">currentThread</span><span class="p">].</span><span class="n">isMainThread</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">        <span class="n">block</span><span class="p">();</span>
</span><span class="line">    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class="line">        <span class="n">dispatch_sync</span><span class="p">(</span><span class="n">dispatch_get_main_queue</span><span class="p">(),</span> <span class="n">block</span><span class="p">);</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line">    <span class="k">return</span> <span class="n">manager</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>

<p>
5ã€æ·»åŠ Block
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
</pre></td><td class="code"><pre><code class="objc"><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">addBlockForCurrentLocation:</span><span class="p">(</span><span class="n">PFLocationManagerLocationUpdateBlock</span><span class="p">)</span><span class="nv">handler</span> <span class="p">{</span>
</span><span class="line">    <span class="k">@synchronized</span> <span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">blockSet</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">        <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">blockSet</span> <span class="nl">addObject:</span><span class="p">[</span><span class="n">handler</span> <span class="n">copy</span><span class="p">]];</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line">
</span><span class="line">    <span class="c1">//</span>
</span><span class="line">    <span class="c1">// Abandon hope all ye who enter here.</span>
</span><span class="line">    <span class="c1">// Apparently, the CLLocationManager API is different for iOS/OSX/watchOS/tvOS up to the point,</span>
</span><span class="line">    <span class="c1">// where encapsulating pieces together just makes much more sense</span>
</span><span class="line">    <span class="c1">// than hard to human-parse compiled out pieces of the code.</span>
</span><span class="line">    <span class="c1">// This looks duplicated, slightly, but very much intentional.</span>
</span><span class="line">    <span class="c1">//</span>
</span><span class="line"><span class="cp">#if TARGET_OS_WATCH</span>
</span><span class="line">    <span class="k">if</span> <span class="p">([</span><span class="n">self</span><span class="p">.</span><span class="n">bundle</span> <span class="nl">objectForInfoDictionaryKey:</span><span class="s">@&quot;NSLocationWhenInUseUsageDescription&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="nb">nil</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">        <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">locationManager</span> <span class="n">requestWhenInUseAuthorization</span><span class="p">];</span>
</span><span class="line">    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class="line">        <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">locationManager</span> <span class="n">requestAlwaysAuthorization</span><span class="p">];</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line">    <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">locationManager</span> <span class="n">requestLocation</span><span class="p">];</span>
</span><span class="line"><span class="cp">#elif TARGET_OS_TV</span>
</span><span class="line">    <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">locationManager</span> <span class="n">requestWhenInUseAuthorization</span><span class="p">];</span>
</span><span class="line">    <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">locationManager</span> <span class="n">requestLocation</span><span class="p">];</span>
</span><span class="line"><span class="cp">#elif TARGET_OS_IOS</span>
</span><span class="line">    <span class="k">if</span> <span class="p">([</span><span class="n">self</span><span class="p">.</span><span class="n">locationManager</span> <span class="nl">respondsToSelector:</span><span class="k">@selector</span><span class="p">(</span><span class="n">requestAlwaysAuthorization</span><span class="p">)])</span> <span class="p">{</span>
</span><span class="line">        <span class="k">if</span> <span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">application</span><span class="p">.</span><span class="n">applicationState</span> <span class="o">!=</span> <span class="n">UIApplicationStateBackground</span> <span class="o">&amp;&amp;</span>
</span><span class="line">            <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">bundle</span> <span class="nl">objectForInfoDictionaryKey:</span><span class="s">@&quot;NSLocationWhenInUseUsageDescription&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="nb">nil</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">            <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">locationManager</span> <span class="n">requestWhenInUseAuthorization</span><span class="p">];</span>
</span><span class="line">        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class="line">            <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">locationManager</span> <span class="n">requestAlwaysAuthorization</span><span class="p">];</span>
</span><span class="line">        <span class="p">}</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line">    <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">locationManager</span> <span class="n">startUpdatingLocation</span><span class="p">];</span>
</span><span class="line"><span class="cp">#elif PF_TARGET_OS_OSX</span>
</span><span class="line">    <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">locationManager</span> <span class="n">startUpdatingLocation</span><span class="p">];</span>
</span><span class="line"><span class="cp">#endif</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>

<p>
6ã€å®‰å…¨æ‰§è¡Œçº¿ç¨‹
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class="objc"><span class="line"><span class="cp">#import &lt;Foundation/Foundation.h&gt;</span>
</span><span class="line"><span class="k">extern</span> <span class="n">dispatch_queue_t</span> <span class="nf">JPThreadsafetyCreateQueueForObject</span><span class="p">(</span><span class="kt">id</span> <span class="n">object</span><span class="p">);</span>
</span><span class="line"><span class="k">extern</span> <span class="kt">void</span> <span class="nf">JPThreadsafetySafeDispatchSync</span><span class="p">(</span><span class="n">dispatch_queue_t</span> <span class="n">queue</span><span class="p">,</span> <span class="n">dispatch_block_t</span> <span class="n">block</span><span class="p">);</span>
</span><span class="line"><span class="cp">#define JPThreadSafetyPerform(queue, block) ({                      \</span>
</span><span class="line"><span class="cp">    __ block typeof((block())) result;                              \</span>
</span><span class="line"><span class="cp">    JPThreadsafetySafeDispatchSync(queue, ^{ result = block(); }); \</span>
</span><span class="line"><span class="cp">    result;                                                        \</span>
</span><span class="line"><span class="cp">})</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
</pre></td><td class="code"><pre><code class="objc"><span class="line"><span class="cp">#import &quot;JPThreadsafety.h&quot;</span>
</span><span class="line">
</span><span class="line"><span class="k">static</span> <span class="kt">void</span> <span class="o">*</span><span class="k">const</span> <span class="n">JPThreadsafetyQueueIDKey</span> <span class="o">=</span> <span class="p">(</span><span class="kt">void</span> <span class="o">*</span><span class="p">)</span><span class="o">&amp;</span><span class="n">JPThreadsafetyQueueIDKey</span><span class="p">;</span>
</span><span class="line">
</span><span class="line"><span class="n">dispatch_queue_t</span> <span class="nf">JPThreadsafetyCreateQueueForObject</span><span class="p">(</span><span class="kt">id</span> <span class="n">object</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="n">NSString</span><span class="o">*</span> <span class="n">label</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSStringFromClass</span><span class="p">([</span><span class="n">object</span> <span class="n">class</span><span class="p">])</span> <span class="nl">stringByAppendingString:</span><span class="s">@&quot;.synchronizationQueue&quot;</span><span class="p">];</span>
</span><span class="line">    <span class="n">dispatch_queue_t</span> <span class="n">queue</span> <span class="o">=</span> <span class="n">dispatch_queue_create</span><span class="p">(</span><span class="n">label</span><span class="p">.</span><span class="n">UTF8String</span><span class="p">,</span> <span class="n">DISPATCH_QUEUE_SERIAL</span><span class="p">);</span>
</span><span class="line">
</span><span class="line">    <span class="kt">void</span><span class="o">*</span> <span class="n">uuid</span> <span class="o">=</span> <span class="n">calloc</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">uuid</span><span class="p">));</span>
</span><span class="line">    <span class="n">dispatch_queue_set_specific</span><span class="p">(</span><span class="n">queue</span><span class="p">,</span> <span class="n">JPThreadsafetyQueueIDKey</span><span class="p">,</span> <span class="n">uuid</span><span class="p">,</span> <span class="n">free</span><span class="p">);</span>
</span><span class="line">
</span><span class="line">    <span class="k">return</span> <span class="n">queue</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="kt">void</span> <span class="nf">JPThreadsafetySafeDispatchSync</span><span class="p">(</span><span class="n">dispatch_queue_t</span> <span class="n">queue</span><span class="p">,</span> <span class="n">dispatch_block_t</span> <span class="n">block</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="kt">void</span><span class="o">*</span> <span class="n">uuidMine</span> <span class="o">=</span> <span class="n">dispatch_get_specific</span><span class="p">(</span><span class="n">JPThreadsafetyQueueIDKey</span><span class="p">);</span>
</span><span class="line">    <span class="kt">void</span><span class="o">*</span> <span class="n">uuidOther</span> <span class="o">=</span> <span class="n">dispatch_queue_get_specific</span><span class="p">(</span><span class="n">queue</span><span class="p">,</span> <span class="n">JPThreadsafetyQueueIDKey</span><span class="p">);</span>
</span><span class="line">
</span><span class="line">    <span class="k">if</span> <span class="p">(</span><span class="n">uuidMine</span> <span class="o">==</span> <span class="n">uuidOther</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">        <span class="n">block</span><span class="p">();</span>
</span><span class="line">    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class="line">        <span class="n">dispatch_sync</span><span class="p">(</span><span class="n">queue</span><span class="p">,</span> <span class="n">block</span><span class="p">);</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>
<p class="post-footer">
                        written by <a href="http://ITMonkeyLife.github.io/Blog">Rick</a>&nbsp;posted at <a href="http://ITMonkeyLife.github.io/Blog">http://ITMonkeyLife.github.io/Blog</a></p>
</p></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Method Swizzling]]></title>
    <link href="http://ITMonkeyLife.github.io/Blog/blog/2016/08/26/method-swizzling/"/>
    <updated>2016-08-26T09:43:31+08:00</updated>
    <id>http://ITMonkeyLife.github.io/Blog/blog/2016/08/26/method-swizzling</id>
    <content type="html"><![CDATA[<p>
åœ¨æ²¡æœ‰ä¸€ä¸ªç±»çš„å®ç°æºç çš„æƒ…å†µä¸‹ï¼Œæƒ³æ”¹å˜å…¶ä¸­ä¸€ä¸ªæ–¹æ³•çš„å®ç°ï¼Œé™¤äº†ç»§æ‰¿å®ƒé‡å†™ã€å’Œå€ŸåŠ©ç±»åˆ«é‡åæ–¹æ³•æš´åŠ›æŠ¢å…ˆä¹‹å¤–ï¼Œè¿˜æœ‰æ›´åŠ çµæ´»çš„æ–¹æ³•å—ï¼Ÿåœ¨Objective-Cç¼–ç¨‹ä¸­ï¼Œå¦‚ä½•å®ç°hookå‘¢ï¼Ÿæ ‡é¢˜æœ‰ç‚¹å¤§ï¼Œè®¡åˆ’åˆ†å‡ ç¯‡æ¥æ€»ç»“ã€‚

æœ¬æ–‡ä¸»è¦ä»‹ç»é’ˆå¯¹selectorçš„hookï¼Œä¸»è§’è¢«æ ‡é¢˜å‰§é€äº†â€”â€”â€”â€” Method Swizzling
</p>
<h2>Method Swizzling åŸç†</h2>
<p>åœ¨Objective-Cä¸­è°ƒç”¨ä¸€ä¸ªæ–¹æ³•ï¼Œå…¶å®æ˜¯å‘ä¸€ä¸ªå¯¹è±¡å‘é€æ¶ˆæ¯ï¼ŒæŸ¥æ‰¾æ¶ˆæ¯çš„å”¯ä¸€ä¾æ®æ˜¯selectorçš„åå­—ã€‚åˆ©ç”¨Objective-Cçš„åŠ¨æ€ç‰¹æ€§ï¼Œå¯ä»¥å®ç°åœ¨è¿è¡Œæ—¶å·æ¢selectorå¯¹åº”çš„æ–¹æ³•å®ç°ï¼Œè¾¾åˆ°ç»™æ–¹æ³•æŒ‚é’©çš„ç›®çš„ã€‚</p>
<p>æ¯ä¸ªç±»éƒ½æœ‰ä¸€ä¸ªæ–¹æ³•åˆ—è¡¨ï¼Œå­˜æ”¾ç€selectorçš„åå­—å’Œæ–¹æ³•å®ç°çš„æ˜ å°„å…³ç³»ã€‚IMPæœ‰ç‚¹ç±»ä¼¼å‡½æ•°æŒ‡é’ˆï¼ŒæŒ‡å‘å…·ä½“çš„Methodå®ç°ã€‚</p>
<p><img src="http://ww3.sinaimg.cn/large/626e5d69gw1f76wrdzvssj214y0dcmxy.jpg" /></p>
<p>
æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ method_exchangeImplementations æ¥äº¤æ¢2ä¸ªæ–¹æ³•ä¸­çš„IMPï¼Œ

æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ class_replaceMethod æ¥ä¿®æ”¹ç±»ï¼Œ

æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ method_setImplementation æ¥ç›´æ¥è®¾ç½®æŸä¸ªæ–¹æ³•çš„IMPï¼Œ
â€¦â€¦
å½’æ ¹ç»“åº•ï¼Œéƒ½æ˜¯å·æ¢äº†selectorçš„IMPï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
</p>
<p><img src="http://ww2.sinaimg.cn/large/626e5d69gw1f76wshrop2j20kf09mt95.jpg" /></p>
<h2>Method Swizzling å®è·µ</h2>
<p>

ä¸¾ä¸ªä¾‹å­å¥½äº†ï¼Œæˆ‘æƒ³é’©ä¸€ä¸‹NSArrayçš„lastObject æ–¹æ³•ï¼Œåªéœ€ä¸¤ä¸ªæ­¥éª¤ã€‚
ç¬¬ä¸€æ­¥ï¼šç»™NSArrayåŠ ä¸€ä¸ªæˆ‘è‡ªå·±çš„lastObject
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
</pre></td><td class="code"><pre><code class="objc"><span class="line"><span class="cp">#import &quot;NSArray+Swizzle.h&quot;  </span>
</span><span class="line">
</span><span class="line">
</span><span class="line"><span class="k">@implementation</span> <span class="nc">NSArray</span> <span class="nl">(Swizzle)</span>
</span><span class="line">
</span><span class="line">
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">myLastObject</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">    <span class="kt">id</span> <span class="n">ret</span> <span class="o">=</span> <span class="p">[</span><span class="n">self</span> <span class="n">myLastObject</span><span class="p">];</span>
</span><span class="line">    <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;**********  myLastObject *********** &quot;</span><span class="p">);</span>
</span><span class="line">    <span class="k">return</span> <span class="n">ret</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line"><span class="k">@end</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
ä¹ä¸€çœ‹ï¼Œè¿™ä¸é€’å½’äº†ä¹ˆï¼Ÿåˆ«å¿˜è®°è¿™æ˜¯æˆ‘ä»¬å‡†å¤‡è°ƒæ¢IMPçš„selectorï¼Œ[self myLastObject] å°†ä¼šæ‰§è¡ŒçœŸçš„ [self lastObject] ã€‚
</p>
<p>
ç¬¬äºŒæ­¥ï¼šè°ƒæ¢IMP
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
</pre></td><td class="code"><pre><code class="objc"><span class="line"><span class="cp">#import &lt;objc/runtime.h&gt;  </span>
</span><span class="line"><span class="cp">#import &quot;NSArray+Swizzle.h&quot;  </span>
</span><span class="line">
</span><span class="line">
</span><span class="line"><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span><span class="o">*</span> <span class="n">argv</span><span class="p">[])</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">    <span class="err">@</span><span class="n">autoreleasepool</span> <span class="p">{</span>
</span><span class="line">
</span><span class="line">        <span class="n">Method</span> <span class="n">ori_Method</span> <span class="o">=</span>  <span class="n">class_getInstanceMethod</span><span class="p">([</span><span class="n">NSArray</span> <span class="n">class</span><span class="p">],</span> <span class="k">@selector</span><span class="p">(</span><span class="n">lastObject</span><span class="p">));</span>
</span><span class="line">        <span class="n">Method</span> <span class="n">my_Method</span> <span class="o">=</span> <span class="n">class_getInstanceMethod</span><span class="p">([</span><span class="n">NSArray</span> <span class="n">class</span><span class="p">],</span> <span class="k">@selector</span><span class="p">(</span><span class="n">myLastObject</span><span class="p">));</span>
</span><span class="line">        <span class="n">method_exchangeImplementations</span><span class="p">(</span><span class="n">ori_Method</span><span class="p">,</span> <span class="n">my_Method</span><span class="p">);</span>
</span><span class="line">
</span><span class="line">        <span class="n">NSArray</span><span class="o">*</span> <span class="n">array</span> <span class="o">=</span> <span class="err">@</span><span class="p">[</span><span class="s">@&quot;0&quot;</span><span class="p">,</span><span class="s">@&quot;1&quot;</span><span class="p">,</span><span class="s">@&quot;2&quot;</span><span class="p">,</span><span class="s">@&quot;3&quot;</span><span class="p">];</span>
</span><span class="line">        <span class="n">NSString</span><span class="o">*</span> <span class="n">string</span> <span class="o">=</span> <span class="p">[</span><span class="n">array</span> <span class="n">lastObject</span><span class="p">];</span>
</span><span class="line">        <span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;TEST RESULT : %@&quot;</span><span class="p">,</span><span class="n">string</span><span class="p">);</span>
</span><span class="line">
</span><span class="line">        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>
<!-- more -->
<p>
æ§åˆ¶å°è¾“å‡ºLogï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="objc"><span class="line"><span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">18</span> <span class="mi">16</span><span class="o">:</span><span class="mi">26</span><span class="o">:</span><span class="mf">12.585</span> <span class="n">Hook</span><span class="p">[</span><span class="mi">1740</span><span class="o">:</span><span class="n">c07</span><span class="p">]</span> <span class="o">**********</span>  <span class="n">myLastObject</span> <span class="o">***********</span>
</span><span class="line"><span class="mi">2013</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">18</span> <span class="mi">16</span><span class="o">:</span><span class="mi">26</span><span class="o">:</span><span class="mf">12.589</span> <span class="n">Hook</span><span class="p">[</span><span class="mi">1740</span><span class="o">:</span><span class="n">c07</span><span class="p">]</span> <span class="n">TEST</span> <span class="n">RESULT</span> <span class="o">:</span> <span class="mi">3</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>
<p>
ç»“æœå¾ˆè®©äººæ¬£å–œï¼Œæ˜¯ä¸æ˜¯å¿ä¸ä½æƒ³ç»™UIWebViewçš„loadRequest: åŠ  TODO äº†å‘¢ï¼Ÿ
</p>
<h2>Method Swizzling çš„å°è£…</h2>
<p>ä¹‹å‰åœ¨githubä¸Šæ‰¾åˆ°çš„RNSwizzleï¼Œæ¨èç»™å¤§å®¶ï¼Œå¯ä»¥æœä¸€ä¸‹ã€‚
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
</pre></td><td class="code"><pre><code class="objc"><span class="line"><span class="c1">//  </span>
</span><span class="line"><span class="c1">//  RNSwizzle.m  </span>
</span><span class="line"><span class="c1">//  MethodSwizzle  </span>
</span><span class="line">
</span><span class="line">
</span><span class="line"><span class="cp">#import &quot;RNSwizzle.h&quot;  </span>
</span><span class="line"><span class="cp">#import &lt;objc/runtime.h&gt;  </span>
</span><span class="line"><span class="k">@implementation</span> <span class="nc">NSObject</span> <span class="nl">(RNSwizzle)</span>
</span><span class="line">
</span><span class="line">
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="n">IMP</span><span class="p">)</span><span class="nf">swizzleSelector:</span><span class="p">(</span><span class="kt">SEL</span><span class="p">)</span><span class="nv">origSelector</span>
</span><span class="line">               <span class="nf">withIMP:</span><span class="p">(</span><span class="n">IMP</span><span class="p">)</span><span class="nv">newIMP</span> <span class="p">{</span>
</span><span class="line">  <span class="n">Class</span> <span class="n">class</span> <span class="o">=</span> <span class="p">[</span><span class="n">self</span> <span class="n">class</span><span class="p">];</span>
</span><span class="line">  <span class="n">Method</span> <span class="n">origMethod</span> <span class="o">=</span> <span class="n">class_getInstanceMethod</span><span class="p">(</span><span class="n">class</span><span class="p">,</span>
</span><span class="line">                                              <span class="n">origSelector</span><span class="p">);</span>
</span><span class="line">  <span class="n">IMP</span> <span class="n">origIMP</span> <span class="o">=</span> <span class="n">method_getImplementation</span><span class="p">(</span><span class="n">origMethod</span><span class="p">);</span>
</span><span class="line">
</span><span class="line">  <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">class_addMethod</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">origSelector</span><span class="p">,</span> <span class="n">newIMP</span><span class="p">,</span>
</span><span class="line">                      <span class="n">method_getTypeEncoding</span><span class="p">(</span><span class="n">origMethod</span><span class="p">)))</span>
</span><span class="line">  <span class="p">{</span>
</span><span class="line">    <span class="n">method_setImplementation</span><span class="p">(</span><span class="n">origMethod</span><span class="p">,</span> <span class="n">newIMP</span><span class="p">);</span>
</span><span class="line">  <span class="p">}</span>
</span><span class="line">
</span><span class="line">  <span class="k">return</span> <span class="n">origIMP</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line"><span class="k">@end</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>
<h2>Method Swizzling å±é™©ä¸å±é™©</h2>
<p>
é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘åœ¨<a href="http://stackoverflow.com/questions/5339276/what-are-the-dangers-of-method-swizzling-in-objective-c">stackoverflow</a>ä¸Šçœ‹åˆ°äº†æ»¡æ„çš„ç­”æ¡ˆï¼Œè¿™é‡Œç¿»è¯‘ä¸€ä¸‹ï¼Œæ€»ç»“è®°å½•åœ¨æœ¬æ–‡ä¸­ï¼Œä»¥ç¤ºåˆ†äº«ï¼š


ä½¿ç”¨ Method Swizzling ç¼–ç¨‹å°±å¥½æ¯”åˆ‡èœæ—¶ä½¿ç”¨é”‹åˆ©çš„åˆ€ï¼Œä¸€äº›äººå› ä¸ºæ‹…å¿ƒåˆ‡åˆ°è‡ªå·±æ‰€ä»¥å®³æ€•é”‹åˆ©çš„åˆ€å…·ï¼Œå¯æ˜¯äº‹å®ä¸Šï¼Œä½¿ç”¨é’åˆ€å¾€å¾€æ›´å®¹æ˜“å‡ºäº‹ï¼Œè€Œåˆ©åˆ€æ›´ä¸ºå®‰å…¨ã€‚
Method swizzling å¯ä»¥å¸®åŠ©æˆ‘ä»¬å†™å‡ºæ›´å¥½çš„ï¼Œæ›´é«˜æ•ˆçš„ï¼Œæ˜“ç»´æŠ¤çš„ä»£ç ã€‚ä½†æ˜¯å¦‚æœæ»¥ç”¨å®ƒï¼Œä¹Ÿå°†ä¼šå¯¼è‡´éš¾ä»¥æ’æŸ¥çš„bugã€‚
</p>
<h3>èƒŒæ™¯</h3>
<p>
å¥½æ¯”è®¾è®¡æ¨¡å¼ï¼Œå¦‚æœæˆ‘ä»¬æ‘¸æ¸…äº†ä¸€ä¸ªæ¨¡å¼çš„é—¨é“ï¼Œä½¿ç”¨è¯¥æ¨¡å¼ä¸å¦æˆ‘ä»¬è‡ªå·±å¿ƒé‡Œæœ‰æ•°ã€‚å•ä¾‹æ¨¡å¼å°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ï¼Œå®ƒé¥±å—äº‰è®®ä½†æ˜¯è®¸å¤šäººä¾æ—§ä½¿ç”¨å®ƒã€‚Method Swizzlingä¹Ÿæ˜¯ä¸€æ ·ï¼Œä¸€æ—¦ä½ çœŸæ­£ç†è§£å®ƒçš„ä¼˜åŠ¿å’Œå¼Šç«¯ï¼Œä½¿ç”¨å®ƒä¸å¦ä½ åº”è¯¥å°±æœ‰ä½ è‡ªå·±çš„è§‚ç‚¹ã€‚
</p>
<h3>è®¨è®º</h3>
<p>
è¿™é‡Œæ˜¯ä¸€äº› Method Swizzlingçš„é™·é˜±ï¼š
Method swizzling is not atomic
Changes behavior of un-owned code
Possible naming conflicts
Swizzling changes the method arguments
The order of swizzles matters
Difficult to understand (looks recursive)
Difficult to debug
</p>
<p>æˆ‘å°†é€ä¸€åˆ†æè¿™äº›ç‚¹ï¼Œå¢è¿›å¯¹Method Swizzlingçš„ç†è§£çš„åŒæ—¶ï¼Œå¹¶ææ‡‚å¦‚ä½•åº”å¯¹ã€‚</p>
<h4>Method swizzling is not atomic</h4>
<p>
æˆ‘æ‰€è§è¿‡çš„ä½¿ç”¨method swizzlingå®ç°çš„æ–¹æ³•åœ¨å¹¶å‘ä½¿ç”¨æ—¶åŸºæœ¬éƒ½æ˜¯å®‰å…¨çš„ã€‚95%çš„æƒ…å†µé‡Œè¿™éƒ½ä¸ä¼šæ˜¯ä¸ªé—®é¢˜ã€‚é€šå¸¸ä½ æ›¿æ¢ä¸€ä¸ªæ–¹æ³•çš„å®ç°ï¼Œæ˜¯å¸Œæœ›å®ƒåœ¨æ•´ä¸ªç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸé‡Œæœ‰æ•ˆçš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ ä¼šæŠŠ method swizzling ä¿®æ”¹æ–¹æ³•å®ç°çš„æ“ä½œæ”¾åœ¨ä¸€ä¸ªåŠ å·æ–¹æ³• +(void)loadé‡Œï¼Œå¹¶åœ¨åº”ç”¨ç¨‹åºçš„ä¸€å¼€å§‹å°±è°ƒç”¨æ‰§è¡Œã€‚ä½ å°†ä¸ä¼šç¢°åˆ°å¹¶å‘é—®é¢˜ã€‚å‡å¦‚ä½ åœ¨ +(void)initializeåˆå§‹åŒ–æ–¹æ³•ä¸­è¿›è¡Œswizzleï¼Œé‚£ä¹ˆâ€¦â€¦rumtimeå¯èƒ½æ­»äºä¸€ä¸ªè¯¡å¼‚çš„çŠ¶æ€ã€‚
</p>
<h4>Changes behavior of un-owned code</h4>
<p>
è¿™æ˜¯swizzlingçš„ä¸€ä¸ªé—®é¢˜ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æ”¹å˜æŸäº›ä»£ç ã€‚swizzlingæ–¹æ³•æ˜¯ä¸€ä»¶ç°å¸¸ç°å¸¸é‡è¦çš„äº‹ï¼Œå½“ä½ ä¸åªæ˜¯å¯¹ä¸€ä¸ªNSButtonç±»çš„å®ä¾‹è¿›è¡Œäº†ä¿®æ”¹ï¼Œè€Œæ˜¯ç¨‹åºä¸­æ‰€æœ‰çš„NSButtonå®ä¾‹ã€‚å› æ­¤åœ¨swizzlingæ—¶åº”è¯¥å¤šåŠ å°å¿ƒï¼Œä½†ä¹Ÿä¸ç”¨æ€»æ˜¯å»åˆ»æ„é¿å…ã€‚
</p>
<p>
æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœä½ é‡å†™äº†ä¸€ä¸ªç±»çš„æ–¹æ³•ï¼Œè€Œä¸”æ²¡æœ‰è°ƒç”¨çˆ¶ç±»çš„è¿™ä¸ªæ–¹æ³•ï¼Œè¿™å¯èƒ½ä¼šå¼•èµ·é—®é¢˜ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œçˆ¶ç±»æ–¹æ³•æœŸæœ›ä¼šè¢«è°ƒç”¨ï¼ˆè‡³å°‘æ–‡æ¡£æ˜¯è¿™æ ·è¯´çš„ï¼‰ã€‚å¦‚æœä½ åœ¨swizzlingå®ç°ä¸­ä¹Ÿè¿™æ ·åšäº†ï¼Œè¿™ä¼šé¿å…å¤§éƒ¨åˆ†é—®é¢˜ã€‚è¿˜æ˜¯è°ƒç”¨åŸå§‹å®ç°å§ï¼Œå¦‚è‹¥ä¸ç„¶ï¼Œä½ ä¼šè´¹å¾ˆå¤§åŠ›æ°”å»è€ƒè™‘ä»£ç çš„å®‰å…¨é—®é¢˜ã€‚
</p>
<h4>Possible naming conflicts</h4>
<p>
å‘½åå†²çªè´¯ç©¿æ•´ä¸ªCocoaçš„é—®é¢˜. æˆ‘ä»¬å¸¸å¸¸åœ¨ç±»åå’Œç±»åˆ«æ–¹æ³•åå‰åŠ ä¸Šå‰ç¼€ã€‚ä¸å¹¸çš„æ˜¯ï¼Œå‘½åå†²çªä»æ˜¯ä¸ªæŠ˜ç£¨ã€‚ä½†æ˜¯swizzlingå…¶å®ä¹Ÿä¸å¿…è¿‡å¤šè€ƒè™‘è¿™ä¸ªé—®é¢˜ã€‚æˆ‘ä»¬åªéœ€è¦åœ¨åŸå§‹æ–¹æ³•å‘½åå‰åšå°å°çš„æ”¹åŠ¨æ¥å‘½åå°±å¥½ï¼Œæ¯”å¦‚é€šå¸¸æˆ‘ä»¬è¿™æ ·å‘½åï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
</pre></td><td class="code"><pre><code class="objc"><span class="line"><span class="k">@interface</span> <span class="nc">NSView</span> : <span class="nc">NSObject</span>
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">setFrame:</span><span class="p">(</span><span class="n">NSRect</span><span class="p">)</span><span class="nv">frame</span><span class="p">;</span>
</span><span class="line"><span class="k">@end</span>
</span><span class="line">
</span><span class="line">
</span><span class="line"><span class="k">@implementation</span> <span class="nc">NSView</span> <span class="nl">(MyViewAdditions)</span>
</span><span class="line">
</span><span class="line">
</span><span class="line"><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">my_setFrame:</span><span class="p">(</span><span class="n">NSRect</span><span class="p">)</span><span class="nv">frame</span> <span class="p">{</span>
</span><span class="line">    <span class="c1">// do custom work  </span>
</span><span class="line">    <span class="p">[</span><span class="n">self</span> <span class="nl">my_setFrame:</span><span class="n">frame</span><span class="p">];</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line">
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">load</span> <span class="p">{</span>
</span><span class="line">    <span class="p">[</span><span class="n">self</span> <span class="nl">swizzle:</span><span class="k">@selector</span><span class="p">(</span><span class="nl">setFrame:</span><span class="p">)</span> <span class="nl">with:</span><span class="k">@selector</span><span class="p">(</span><span class="nl">my_setFrame:</span><span class="p">)];</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line">
</span><span class="line"><span class="k">@end</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>
<p>
è¿™æ®µä»£ç è¿è¡Œæ­£ç¡®ï¼Œä½†æ˜¯å¦‚æœmy_setFrame: åœ¨åˆ«å¤„è¢«å®šä¹‰äº†ä¼šå‘ç”Ÿä»€ä¹ˆå‘¢ï¼Ÿ

</p>
<p>
è¿™ä¸ªé—®é¢˜ä¸ä»…ä»…å­˜åœ¨äºswizzlingï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªæ›¿ä»£çš„å˜é€šæ–¹æ³•ï¼š

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
</pre></td><td class="code"><pre><code class="objc"><span class="line"><span class="k">@implementation</span> <span class="nc">NSView</span> <span class="nl">(MyViewAdditions)</span>
</span><span class="line">
</span><span class="line">
</span><span class="line"><span class="k">static</span> <span class="kt">void</span> <span class="nf">MySetFrame</span><span class="p">(</span><span class="kt">id</span> <span class="n">self</span><span class="p">,</span> <span class="kt">SEL</span> <span class="n">_cmd</span><span class="p">,</span> <span class="n">NSRect</span> <span class="n">frame</span><span class="p">);</span>
</span><span class="line"><span class="k">static</span> <span class="nf">void</span> <span class="p">(</span><span class="o">*</span> <span class="n">SetFrameIMP</span><span class="p">)(</span><span class="kt">id</span> <span class="n">self</span><span class="p">,</span> <span class="kt">SEL</span> <span class="n">_cmd</span><span class="p">,</span> <span class="n">NSRect</span> <span class="n">frame</span><span class="p">);</span>
</span><span class="line">
</span><span class="line">
</span><span class="line"><span class="k">static</span> <span class="kt">void</span> <span class="nf">MySetFrame</span><span class="p">(</span><span class="kt">id</span> <span class="n">self</span><span class="p">,</span> <span class="kt">SEL</span> <span class="n">_cmd</span><span class="p">,</span> <span class="n">NSRect</span> <span class="n">frame</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="c1">// do custom work  </span>
</span><span class="line">    <span class="n">SetFrameIMP</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">_cmd</span><span class="p">,</span> <span class="n">frame</span><span class="p">);</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line">
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">load</span> <span class="p">{</span>
</span><span class="line">    <span class="p">[</span><span class="n">self</span> <span class="nl">swizzle:</span><span class="k">@selector</span><span class="p">(</span><span class="nl">setFrame:</span><span class="p">)</span> <span class="nl">with:</span><span class="p">(</span><span class="n">IMP</span><span class="p">)</span><span class="n">MySetFrame</span> <span class="nl">store:</span><span class="p">(</span><span class="n">IMP</span><span class="o">*</span> <span class="p">)</span><span class="o">&amp;</span><span class="n">SetFrameIMP</span><span class="p">];</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line">
</span><span class="line"><span class="k">@end</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
çœ‹èµ·æ¥ä¸é‚£ä¹ˆObjectice-Cäº†ï¼ˆç”¨äº†å‡½æ•°æŒ‡é’ˆï¼‰ï¼Œè¿™æ ·é¿å…äº†selectorçš„å‘½åå†²çªã€‚

æœ€åç»™å‡ºä¸€ä¸ªè¾ƒå®Œç¾çš„swizzleæ–¹æ³•çš„å®šä¹‰ï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
</pre></td><td class="code"><pre><code class="objc"><span class="line"><span class="k">typedef</span> <span class="n">IMP</span> <span class="o">*</span><span class="n">IMPPointer</span><span class="p">;</span>
</span><span class="line">
</span><span class="line">
</span><span class="line"><span class="kt">BOOL</span> <span class="nf">class_swizzleMethodAndStore</span><span class="p">(</span><span class="n">Class</span> <span class="n">class</span><span class="p">,</span> <span class="kt">SEL</span> <span class="n">original</span><span class="p">,</span> <span class="n">IMP</span> <span class="n">replacement</span><span class="p">,</span> <span class="n">IMPPointer</span> <span class="n">store</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="n">IMP</span> <span class="n">imp</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
</span><span class="line">    <span class="n">Method</span> <span class="n">method</span> <span class="o">=</span> <span class="n">class_getInstanceMethod</span><span class="p">(</span><span class="n">class</span><span class="p">,</span> <span class="n">original</span><span class="p">);</span>
</span><span class="line">    <span class="k">if</span> <span class="p">(</span><span class="n">method</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">        <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">type</span> <span class="o">=</span> <span class="n">method_getTypeEncoding</span><span class="p">(</span><span class="n">method</span><span class="p">);</span>
</span><span class="line">        <span class="n">imp</span> <span class="o">=</span> <span class="n">class_replaceMethod</span><span class="p">(</span><span class="n">class</span><span class="p">,</span> <span class="n">original</span><span class="p">,</span> <span class="n">replacement</span><span class="p">,</span> <span class="n">type</span><span class="p">);</span>
</span><span class="line">        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">imp</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">            <span class="n">imp</span> <span class="o">=</span> <span class="n">method_getImplementation</span><span class="p">(</span><span class="n">method</span><span class="p">);</span>
</span><span class="line">        <span class="p">}</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line">    <span class="k">if</span> <span class="p">(</span><span class="n">imp</span> <span class="o">&amp;&amp;</span> <span class="n">store</span><span class="p">)</span> <span class="p">{</span> <span class="o">*</span> <span class="n">store</span> <span class="o">=</span> <span class="n">imp</span><span class="p">;</span> <span class="p">}</span>
</span><span class="line">    <span class="k">return</span> <span class="p">(</span><span class="n">imp</span> <span class="o">!=</span> <span class="nb">NULL</span><span class="p">);</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line">
</span><span class="line"><span class="k">@implementation</span> <span class="nc">NSObject</span> <span class="nl">(FRRuntimeAdditions)</span>
</span><span class="line"><span class="k">+</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">swizzle:</span><span class="p">(</span><span class="kt">SEL</span><span class="p">)</span><span class="nv">original</span> <span class="nf">with:</span><span class="p">(</span><span class="n">IMP</span><span class="p">)</span><span class="nv">replacement</span> <span class="nf">store:</span><span class="p">(</span><span class="n">IMPPointer</span><span class="p">)</span><span class="nv">store</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="n">class_swizzleMethodAndStore</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">original</span><span class="p">,</span> <span class="n">replacement</span><span class="p">,</span> <span class="n">store</span><span class="p">);</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line"><span class="k">@end</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</p>
<h4>Swizzling changes the method&#8217;s arguments</h4>
<p>
æˆ‘è®¤ä¸ºè¿™æ˜¯æœ€å¤§çš„é—®é¢˜ã€‚æƒ³æ­£å¸¸è°ƒç”¨method swizzling å°†ä¼šæ˜¯ä¸ªé—®é¢˜ã€‚
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="objc"><span class="line"><span class="p">[</span><span class="n">self</span> <span class="nl">my_setFrame:</span><span class="n">frame</span><span class="p">];</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
ç›´æ¥è°ƒç”¨my_setFrame: ï¼Œ runtimeåšçš„æ˜¯
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="objc"><span class="line"><span class="n">objc_msgSend</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="k">@selector</span><span class="p">(</span><span class="nl">my_setFrame:</span><span class="p">),</span> <span class="n">frame</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
runtimeå»å¯»æ‰¾my_setFrame:çš„æ–¹æ³•å®ç°, _ cmdå‚æ•°ä¸º my_setFrame: ï¼Œä½†æ˜¯äº‹å®ä¸Šruntimeæ‰¾åˆ°çš„æ–¹æ³•å®ç°æ˜¯åŸå§‹çš„ setFrame: çš„ã€‚
ä¸€ä¸ªç®€å•çš„è§£å†³åŠæ³•ï¼šä½¿ç”¨ä¸Šé¢ä»‹ç»çš„swizzlingå®šä¹‰ã€‚
</p>
<h4>The order of swizzles matters</h4>
<p>
å¤šä¸ªswizzleæ–¹æ³•çš„æ‰§è¡Œé¡ºåºä¹Ÿéœ€è¦æ³¨æ„ã€‚å‡è®¾ setFrame: åªå®šä¹‰åœ¨NSViewä¸­ï¼Œæƒ³åƒä¸€ä¸‹æŒ‰ç…§ä¸‹é¢çš„é¡ºåºæ‰§è¡Œï¼š
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="objc"><span class="line"><span class="p">[</span><span class="n">NSButton</span> <span class="nl">swizzle:</span><span class="k">@selector</span><span class="p">(</span><span class="nl">setFrame:</span><span class="p">)</span> <span class="nl">with:</span><span class="k">@selector</span><span class="p">(</span><span class="nl">my_buttonSetFrame:</span><span class="p">)];</span>
</span><span class="line"><span class="p">[</span><span class="n">NSControl</span> <span class="nl">swizzle:</span><span class="k">@selector</span><span class="p">(</span><span class="nl">setFrame:</span><span class="p">)</span> <span class="nl">with:</span><span class="k">@selector</span><span class="p">(</span><span class="nl">my_controlSetFrame:</span><span class="p">)];</span>
</span><span class="line"><span class="p">[</span><span class="n">NSView</span> <span class="nl">swizzle:</span><span class="k">@selector</span><span class="p">(</span><span class="nl">setFrame:</span><span class="p">)</span> <span class="nl">with:</span><span class="k">@selector</span><span class="p">(</span><span class="nl">my_viewSetFrame:</span><span class="p">)];</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
What happens when the method on NSButton is swizzled? Well most swizzling will ensure that it&#8217;s not replacing the implementation of setFrame: for all views, so it will pull up the instance method. This will use the existing implementation to re-define setFrame: in the NSButton class so that exchanging implementations doesn&#8217;t affect all views. The existing implementation is the one defined on NSView. The same thing will happen when swizzling on NSControl (again using the NSView implementation).

When you call setFrame: on a button, it will therefore call your swizzled method, and then jump straight to the setFrame: method originally defined on NSView. The NSControl and NSView swizzled implementations will not be called.

But what if the order were:
<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class="objc"><span class="line"><span class="p">[</span><span class="n">NSView</span> <span class="nl">swizzle:</span><span class="k">@selector</span><span class="p">(</span><span class="nl">setFrame:</span><span class="p">)</span> <span class="nl">with:</span><span class="k">@selector</span><span class="p">(</span><span class="nl">my_viewSetFrame:</span><span class="p">)];</span>
</span><span class="line"><span class="p">[</span><span class="n">NSControl</span> <span class="nl">swizzle:</span><span class="k">@selector</span><span class="p">(</span><span class="nl">setFrame:</span><span class="p">)</span> <span class="nl">with:</span><span class="k">@selector</span><span class="p">(</span><span class="nl">my_controlSetFrame:</span><span class="p">)];</span>
</span><span class="line"><span class="p">[</span><span class="n">NSButton</span> <span class="nl">swizzle:</span><span class="k">@selector</span><span class="p">(</span><span class="nl">setFrame:</span><span class="p">)</span> <span class="nl">with:</span><span class="k">@selector</span><span class="p">(</span><span class="nl">my_buttonSetFrame:</span><span class="p">)];</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
Since the view swizzling takes place first, the control swizzling will be able to pull up the right method. Likewise, since the control swizzling was before the button swizzling, the button will pull up the control&#8217;s swizzled implementation of setFrame:. This is a bit confusing, but this is the correct order. How can we ensure this order of things?

Again, just use load to swizzle things. If you swizzle in load and you only make changes to the class being loaded, you&#8217;ll be safe. The load method guarantees that the super class load method will be called before any subclasses. We&#8217;ll get the exact right order!
è¿™æ®µè´´äº†åŸæ–‡ï¼Œç¡¬ç¿»è¯‘å¤ªæ‹—å£â€¦â€¦æ€»ç»“ä¸€ä¸‹å°±æ˜¯ï¼šå¤šä¸ªæœ‰ç»§æ‰¿å…³ç³»çš„ç±»çš„å¯¹è±¡swizzleæ—¶ï¼Œå…ˆä»çˆ¶å¯¹è±¡å¼€å§‹ã€‚ è¿™æ ·æ‰èƒ½ä¿è¯å­ç±»æ–¹æ³•æ‹¿åˆ°çˆ¶ç±»ä¸­çš„è¢«swizzleçš„å®ç°ã€‚åœ¨+(void)loadä¸­swizzleä¸ä¼šå‡ºé”™ï¼Œå°±æ˜¯å› ä¸ºloadç±»æ–¹æ³•ä¼šé»˜è®¤ä»çˆ¶ç±»å¼€å§‹è°ƒç”¨ã€‚
</p>
<h4>Difficult to understand (looks recursive)</h4>
<p>
ï¼ˆæ–°æ–¹æ³•çš„å®ç°ï¼‰çœ‹èµ·æ¥åƒé€’å½’ï¼Œä½†æ˜¯çœ‹çœ‹ä¸Šé¢å·²ç»ç»™å‡ºçš„ swizzling å°è£…æ–¹æ³•, ä½¿ç”¨èµ·æ¥å°±å¾ˆæ˜“è¯»æ‡‚.
è¿™ä¸ªé—®é¢˜æ˜¯å·²å®Œå…¨è§£å†³çš„äº†ï¼
</p>
<h4>Difficult to debug</h4>
<p>
debugæ—¶æ‰“å‡ºçš„backtraceï¼Œå…¶ä¸­æºæ‚ç€è¢«swizzleçš„æ–¹æ³•åï¼Œä¸€å›¢ç³Ÿå•Šï¼ä¸Šé¢ä»‹ç»çš„swizzleæ–¹æ¡ˆï¼Œä½¿backtraceä¸­æ‰“å°å‡ºçš„æ–¹æ³•åè¿˜æ˜¯å¾ˆæ¸…æ™°çš„ã€‚ä½†ä»ç„¶å¾ˆéš¾å»debugï¼Œå› ä¸ºå¾ˆéš¾è®°ä½swizzlingå½±å“è¿‡ä»€ä¹ˆã€‚ç»™ä½ çš„ä»£ç å†™å¥½æ–‡æ¡£ï¼ˆå³ä½¿åªæœ‰ä½ ä¸€ä¸ªäººä¼šçœ‹åˆ°ï¼‰ã€‚å…»æˆä¸€ä¸ªå¥½ä¹ æƒ¯ï¼Œä¸ä¼šæ¯”è°ƒè¯•å¤šçº¿ç¨‹é—®é¢˜è¿˜éš¾çš„ã€‚
</p>
<h2>ç»“è®º</h2>
<p>
å¦‚æœä½¿ç”¨æ°å½“ï¼ŒMethod swizzling è¿˜æ˜¯å¾ˆå®‰å…¨çš„.ä¸€ä¸ªç®€å•å®‰å…¨çš„æ–¹æ³•æ˜¯ï¼Œä»…åœ¨loadä¸­swizzleã€‚ å’Œè®¸å¤šå…¶ä»–ä¸œè¥¿ä¸€æ ·ï¼Œå®ƒä¹Ÿæ˜¯æœ‰å±é™©æ€§çš„ï¼Œä½†ç†è§£å®ƒäº†ä¹Ÿå°±å¯ä»¥æ­£ç¡®æ°å½“çš„ä½¿ç”¨å®ƒäº†ã€‚
</p>

<hr />

<p class="post-footer">
                        written by <a href="http://ITMonkeyLife.github.io/Blog">Rick</a>&nbsp;posted at <a href="http://ITMonkeyLife.github.io/Blog">http://ITMonkeyLife.github.io/Blog</a></p>
]]></content>
  </entry>
  
</feed>
